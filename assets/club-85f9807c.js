import{X as Bl,U as Ll,Y as Nl,F as Pl,K as kl,Z as Fl,$ as jl,S as Dl,N as Vl,V as Ul,T as Hl,a0 as zl,a1 as Gl,a2 as Yl,a3 as Kl,a4 as Xl,a5 as Wl,a6 as Zl,a7 as Ql,a8 as Jl,a as $l,L as ql,h as co,a9 as eu,b as tu,e as ru,aa as nu,ab as au,ac as ou,ad as su,ae as iu,af as lu,k as uu,c as cu,ag as du,ah as vu,d as vo,ai as fu,aj as mu,ak as hu,al as pu,am as gu,an as yu,ao as Su,ap as bu,g as Eu,aq as Ru,ar as xu,as as Tu,at as Au,au as _u,av as Mu,aw as Iu,ax as Ou,R as wu,ay as Cu,az as Bu,aA as Lu,aB as Nu,i as Pu,aC as ku,aD as Fu,aE as ju,aF as Du,aG as Vu,m as Uu,y as Hu,aH as zu,aI as Gu,aJ as Yu,z as Ku,aK as Xu,I as Wu,q as Zu,M as Qu,aL as Ju,v as fo,aM as $u,aN as qu,aO as ec,aP as tc,J as rc,Q as nc,o as mo,n as ac,A as oc,aQ as sc,p as ic,aR as lc,x as uc,aS as cc,r as Kr,aT as dc,aU as vc,l as fc,aV as mc,f as hc,aW as pc,j as gc,aX as yc,aY as Sc,aZ as bc,a_ as Ec,a$ as Rc,b0 as xc,b1 as Tc,b2 as Ac,b3 as _c,b4 as Mc,b5 as Ic,t as Oc,b6 as wc,b7 as Cc,b8 as Bc,b9 as Lc,ba as Nc,bb as Pc,bc as kc,u as kr,bd as Fc,be as jc,bf as Dc,bg as Vc,bh as Uc,bi as Hc,bj as zc,bk as Gc,bl as Yc,bm as Kc,bn as Xc,C as Wc,bo as Zc,bp as Qc,s as Jc,bq as $c,br as qc,bs as e1,bt as t1,w as r1,bu as n1,B as a1,H as o1,bv as s1,bw as i1,bx as l1,by as u1,P as c1,O as d1}from"./index-e0a5d4f9.js";const v1=()=>{},f1=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Bl,Comment:Ll,EffectScope:Nl,Fragment:Pl,KeepAlive:kl,ReactiveEffect:Fl,Static:jl,Suspense:Dl,Teleport:Vl,Text:Ul,Transition:Hl,TransitionGroup:zl,VueElement:Gl,assertNumber:Yl,callWithAsyncErrorHandling:Kl,callWithErrorHandling:Xl,camelize:Wl,capitalize:Zl,cloneVNode:Ql,compatUtils:Jl,compile:v1,computed:$l,createApp:ql,createBlock:co,createCommentVNode:eu,createElementBlock:tu,createElementVNode:ru,createHydrationRenderer:nu,createPropsRestProxy:au,createRenderer:ou,createSSRApp:su,createSlots:iu,createStaticVNode:lu,createTextVNode:uu,createVNode:cu,customRef:du,defineAsyncComponent:vu,defineComponent:vo,defineCustomElement:fu,defineEmits:mu,defineExpose:hu,defineProps:pu,defineSSRCustomElement:gu,get devtools(){return yu},effect:Su,effectScope:bu,getCurrentInstance:Eu,getCurrentScope:Ru,getTransitionRawChildren:xu,guardReactiveProps:Tu,h:Au,handleError:_u,hydrate:Mu,initCustomFormatter:Iu,initDirectivesForSSR:Ou,inject:wu,isMemoSame:Cu,isProxy:Bu,isReactive:Lu,isReadonly:Nu,isRef:Pu,isRuntimeOnly:ku,isShallow:Fu,isVNode:ju,markRaw:Du,mergeDefaults:Vu,mergeProps:Uu,nextTick:Hu,normalizeClass:zu,normalizeProps:Gu,normalizeStyle:Yu,onActivated:Ku,onBeforeMount:Xu,onBeforeUnmount:Wu,onBeforeUpdate:Zu,onDeactivated:Qu,onErrorCaptured:Ju,onMounted:fo,onRenderTracked:$u,onRenderTriggered:qu,onScopeDispose:ec,onServerPrefetch:tc,onUnmounted:rc,onUpdated:nc,openBlock:mo,popScopeId:ac,provide:oc,proxyRefs:sc,pushScopeId:ic,queuePostFlushCb:lc,reactive:uc,readonly:cc,ref:Kr,registerRuntimeCompiler:dc,render:vc,renderList:fc,renderSlot:mc,resolveComponent:hc,resolveDirective:pc,resolveDynamicComponent:gc,resolveFilter:yc,resolveTransitionHooks:Sc,setBlockTracking:bc,setDevtoolsHook:Ec,setTransitionHooks:Rc,shallowReactive:xc,shallowReadonly:Tc,shallowRef:Ac,ssrContextKey:_c,ssrUtils:Mc,stop:Ic,toDisplayString:Oc,toHandlerKey:wc,toHandlers:Cc,toRaw:Bc,toRef:Lc,toRefs:Nc,transformVNodeArgs:Pc,triggerRef:kc,unref:kr,useAttrs:Fc,useCssModule:jc,useCssVars:Dc,useSSRContext:Vc,useSlots:Uc,useTransitionState:Hc,vModelCheckbox:zc,vModelDynamic:Gc,vModelRadio:Yc,vModelSelect:Kc,vModelText:Xc,vShow:Wc,version:Zc,warn:Qc,watch:Jc,watchEffect:$c,watchPostEffect:qc,watchSyncEffect:e1,withAsyncContext:t1,withCtx:r1,withDefaults:n1,withDirectives:a1,withKeys:o1,withMemo:s1,withModifiers:i1,withScopeId:l1},Symbol.toStringTag,{value:"Module"}));var la={},m1={get exports(){return la},set exports(xn){la=xn}};const h1=u1(f1);(function(xn){(()=>{var Hn={8118:(p,x)=>{x.Z=(e,n)=>{const s=e.__vccOpts||e;for(const[i,o]of n)s[i]=o;return s}},9662:(p,x,e)=>{var n=e(614),s=e(6330),i=TypeError;p.exports=function(o){if(n(o))return o;throw i(s(o)+" is not a function")}},9483:(p,x,e)=>{var n=e(4411),s=e(6330),i=TypeError;p.exports=function(o){if(n(o))return o;throw i(s(o)+" is not a constructor")}},6077:(p,x,e)=>{var n=e(614),s=String,i=TypeError;p.exports=function(o){if(typeof o=="object"||n(o))return o;throw i("Can't set "+s(o)+" as a prototype")}},1223:(p,x,e)=>{var n=e(5112),s=e(30),i=e(3070).f,o=n("unscopables"),m=Array.prototype;m[o]==null&&i(m,o,{configurable:!0,value:s(null)}),p.exports=function(u){m[o][u]=!0}},1530:(p,x,e)=>{var n=e(8710).charAt;p.exports=function(s,i,o){return i+(o?n(s,i).length:1)}},5787:(p,x,e)=>{var n=e(7976),s=TypeError;p.exports=function(i,o){if(n(o,i))return i;throw s("Incorrect invocation")}},9670:(p,x,e)=>{var n=e(111),s=String,i=TypeError;p.exports=function(o){if(n(o))return o;throw i(s(o)+" is not an object")}},4019:p=>{p.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7556:(p,x,e)=>{var n=e(7293);p.exports=n(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},260:(p,x,e)=>{var n=e(4019),s=e(9781),i=e(7854),o=e(614),m=e(111),u=e(2597),d=e(648),S=e(6330),g=e(8880),E=e(8052),R=e(3070).f,b=e(7976),h=e(9518),O=e(7674),I=e(5112),T=e(9711),B=e(9909),V=B.enforce,Y=B.get,k=i.Int8Array,P=k&&k.prototype,l=i.Uint8ClampedArray,N=l&&l.prototype,U=k&&h(k),W=P&&h(P),Z=Object.prototype,ee=i.TypeError,te=I("toStringTag"),me=T("TYPED_ARRAY_TAG"),de="TypedArrayConstructor",_=n&&!!O&&d(i.opera)!=="Opera",G=!1,y,F,K,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},c=function(ne){if(!m(ne))return!1;var ae=d(ne);return ae==="DataView"||u(q,ae)||u(D,ae)},f=function(z){var ne=h(z);if(m(ne)){var ae=Y(ne);return ae&&u(ae,de)?ae[de]:f(ne)}},v=function(z){if(!m(z))return!1;var ne=d(z);return u(q,ne)||u(D,ne)},A=function(z){if(v(z))return z;throw ee("Target is not a typed array")},j=function(z){if(o(z)&&(!O||b(U,z)))return z;throw ee(S(z)+" is not a typed array constructor")},X=function(z,ne,ae,be){if(s){if(ae)for(var Oe in q){var Ce=i[Oe];if(Ce&&u(Ce.prototype,z))try{delete Ce.prototype[z]}catch{try{Ce.prototype[z]=ne}catch{}}}(!W[z]||ae)&&E(W,z,ae?ne:_&&P[z]||ne,be)}},Q=function(z,ne,ae){var be,Oe;if(s){if(O){if(ae){for(be in q)if(Oe=i[be],Oe&&u(Oe,z))try{delete Oe[z]}catch{}}if(!U[z]||ae)try{return E(U,z,ae?ne:_&&U[z]||ne)}catch{}else return}for(be in q)Oe=i[be],Oe&&(!Oe[z]||ae)&&E(Oe,z,ne)}};for(y in q)F=i[y],K=F&&F.prototype,K?V(K)[de]=F:_=!1;for(y in D)F=i[y],K=F&&F.prototype,K&&(V(K)[de]=F);if((!_||!o(U)||U===Function.prototype)&&(U=function(){throw ee("Incorrect invocation")},_))for(y in q)i[y]&&O(i[y],U);if((!_||!W||W===Z)&&(W=U.prototype,_))for(y in q)i[y]&&O(i[y].prototype,W);if(_&&h(N)!==W&&O(N,W),s&&!u(W,te)){G=!0,R(W,te,{get:function(){return m(this)?this[me]:void 0}});for(y in q)i[y]&&g(i[y],me,y)}p.exports={NATIVE_ARRAY_BUFFER_VIEWS:_,TYPED_ARRAY_TAG:G&&me,aTypedArray:A,aTypedArrayConstructor:j,exportTypedArrayMethod:X,exportTypedArrayStaticMethod:Q,getTypedArrayConstructor:f,isView:c,isTypedArray:v,TypedArray:U,TypedArrayPrototype:W}},3331:(p,x,e)=>{var n=e(7854),s=e(1702),i=e(9781),o=e(4019),m=e(6530),u=e(8880),d=e(9190),S=e(7293),g=e(5787),E=e(9303),R=e(7466),b=e(7067),h=e(1179),O=e(9518),I=e(7674),T=e(8006).f,B=e(3070).f,V=e(1285),Y=e(1589),k=e(8003),P=e(9909),l=m.PROPER,N=m.CONFIGURABLE,U=P.get,W=P.set,Z="ArrayBuffer",ee="DataView",te="prototype",me="Wrong length",de="Wrong index",_=n[Z],G=_,y=G&&G[te],F=n[ee],K=F&&F[te],q=Object.prototype,D=n.Array,c=n.RangeError,f=s(V),v=s([].reverse),A=h.pack,j=h.unpack,X=function(Te){return[Te&255]},Q=function(Te){return[Te&255,Te>>8&255]},z=function(Te){return[Te&255,Te>>8&255,Te>>16&255,Te>>24&255]},ne=function(Te){return Te[3]<<24|Te[2]<<16|Te[1]<<8|Te[0]},ae=function(Te){return A(Te,23,4)},be=function(Te){return A(Te,52,8)},Oe=function(Te,Ve){B(Te[te],Ve,{get:function(){return U(this)[Ve]}})},Ce=function(Te,Ve,Ee,Fe){var ze=b(Ee),Xe=U(Te);if(ze+Ve>Xe.byteLength)throw c(de);var We=U(Xe.buffer).bytes,ke=ze+Xe.byteOffset,tt=Y(We,ke,ke+Ve);return Fe?tt:v(tt)},Ge=function(Te,Ve,Ee,Fe,ze,Xe){var We=b(Ee),ke=U(Te);if(We+Ve>ke.byteLength)throw c(de);for(var tt=U(ke.buffer).bytes,ct=We+ke.byteOffset,nt=Fe(+ze),He=0;He<Ve;He++)tt[ct+He]=nt[Xe?He:Ve-He-1]};if(!o)G=function(Ve){g(this,y);var Ee=b(Ve);W(this,{bytes:f(D(Ee),0),byteLength:Ee}),i||(this.byteLength=Ee)},y=G[te],F=function(Ve,Ee,Fe){g(this,K),g(Ve,y);var ze=U(Ve).byteLength,Xe=E(Ee);if(Xe<0||Xe>ze)throw c("Wrong offset");if(Fe=Fe===void 0?ze-Xe:R(Fe),Xe+Fe>ze)throw c(me);W(this,{buffer:Ve,byteLength:Fe,byteOffset:Xe}),i||(this.buffer=Ve,this.byteLength=Fe,this.byteOffset=Xe)},K=F[te],i&&(Oe(G,"byteLength"),Oe(F,"buffer"),Oe(F,"byteLength"),Oe(F,"byteOffset")),d(K,{getInt8:function(Ve){return Ce(this,1,Ve)[0]<<24>>24},getUint8:function(Ve){return Ce(this,1,Ve)[0]},getInt16:function(Ve){var Ee=Ce(this,2,Ve,arguments.length>1?arguments[1]:void 0);return(Ee[1]<<8|Ee[0])<<16>>16},getUint16:function(Ve){var Ee=Ce(this,2,Ve,arguments.length>1?arguments[1]:void 0);return Ee[1]<<8|Ee[0]},getInt32:function(Ve){return ne(Ce(this,4,Ve,arguments.length>1?arguments[1]:void 0))},getUint32:function(Ve){return ne(Ce(this,4,Ve,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(Ve){return j(Ce(this,4,Ve,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(Ve){return j(Ce(this,8,Ve,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(Ve,Ee){Ge(this,1,Ve,X,Ee)},setUint8:function(Ve,Ee){Ge(this,1,Ve,X,Ee)},setInt16:function(Ve,Ee){Ge(this,2,Ve,Q,Ee,arguments.length>2?arguments[2]:void 0)},setUint16:function(Ve,Ee){Ge(this,2,Ve,Q,Ee,arguments.length>2?arguments[2]:void 0)},setInt32:function(Ve,Ee){Ge(this,4,Ve,z,Ee,arguments.length>2?arguments[2]:void 0)},setUint32:function(Ve,Ee){Ge(this,4,Ve,z,Ee,arguments.length>2?arguments[2]:void 0)},setFloat32:function(Ve,Ee){Ge(this,4,Ve,ae,Ee,arguments.length>2?arguments[2]:void 0)},setFloat64:function(Ve,Ee){Ge(this,8,Ve,be,Ee,arguments.length>2?arguments[2]:void 0)}});else{var Ye=l&&_.name!==Z;if(!S(function(){_(1)})||!S(function(){new _(-1)})||S(function(){return new _,new _(1.5),new _(NaN),Ye&&!N})){G=function(Ve){return g(this,y),new _(b(Ve))},G[te]=y;for(var st=T(_),xt=0,C;st.length>xt;)(C=st[xt++])in G||u(G,C,_[C]);y.constructor=G}else Ye&&N&&u(_,"name",Z);I&&O(K)!==q&&I(K,q);var H=new F(new G(2)),Le=s(K.setInt8);H.setInt8(0,2147483648),H.setInt8(1,2147483649),(H.getInt8(0)||!H.getInt8(1))&&d(K,{setInt8:function(Ve,Ee){Le(this,Ve,Ee<<24>>24)},setUint8:function(Ve,Ee){Le(this,Ve,Ee<<24>>24)}},{unsafe:!0})}k(G,Z),k(F,ee),p.exports={ArrayBuffer:G,DataView:F}},1048:(p,x,e)=>{var n=e(7908),s=e(1400),i=e(6244),o=e(5117),m=Math.min;p.exports=[].copyWithin||function(d,S){var g=n(this),E=i(g),R=s(d,E),b=s(S,E),h=arguments.length>2?arguments[2]:void 0,O=m((h===void 0?E:s(h,E))-b,E-R),I=1;for(b<R&&R<b+O&&(I=-1,b+=O-1,R+=O-1);O-- >0;)b in g?g[R]=g[b]:o(g,R),R+=I,b+=I;return g}},1285:(p,x,e)=>{var n=e(7908),s=e(1400),i=e(6244);p.exports=function(m){for(var u=n(this),d=i(u),S=arguments.length,g=s(S>1?arguments[1]:void 0,d),E=S>2?arguments[2]:void 0,R=E===void 0?d:s(E,d);R>g;)u[g++]=m;return u}},8533:(p,x,e)=>{var n=e(2092).forEach,s=e(9341),i=s("forEach");p.exports=i?[].forEach:function(m){return n(this,m,arguments.length>1?arguments[1]:void 0)}},7745:(p,x,e)=>{var n=e(6244);p.exports=function(s,i){for(var o=0,m=n(i),u=new s(m);m>o;)u[o]=i[o++];return u}},8457:(p,x,e)=>{var n=e(9974),s=e(6916),i=e(7908),o=e(3411),m=e(7659),u=e(4411),d=e(6244),S=e(6135),g=e(8554),E=e(1246),R=Array;p.exports=function(h){var O=i(h),I=u(this),T=arguments.length,B=T>1?arguments[1]:void 0,V=B!==void 0;V&&(B=n(B,T>2?arguments[2]:void 0));var Y=E(O),k=0,P,l,N,U,W,Z;if(Y&&!(this===R&&m(Y)))for(U=g(O,Y),W=U.next,l=I?new this:[];!(N=s(W,U)).done;k++)Z=V?o(U,B,[N.value,k],!0):N.value,S(l,k,Z);else for(P=d(O),l=I?new this(P):R(P);P>k;k++)Z=V?B(O[k],k):O[k],S(l,k,Z);return l.length=k,l}},1318:(p,x,e)=>{var n=e(5656),s=e(1400),i=e(6244),o=function(m){return function(u,d,S){var g=n(u),E=i(g),R=s(S,E),b;if(m&&d!=d){for(;E>R;)if(b=g[R++],b!=b)return!0}else for(;E>R;R++)if((m||R in g)&&g[R]===d)return m||R||0;return!m&&-1}};p.exports={includes:o(!0),indexOf:o(!1)}},9671:(p,x,e)=>{var n=e(9974),s=e(8361),i=e(7908),o=e(6244),m=function(u){var d=u==1;return function(S,g,E){for(var R=i(S),b=s(R),h=n(g,E),O=o(b),I,T;O-- >0;)if(I=b[O],T=h(I,O,R),T)switch(u){case 0:return I;case 1:return O}return d?-1:void 0}};p.exports={findLast:m(0),findLastIndex:m(1)}},2092:(p,x,e)=>{var n=e(9974),s=e(1702),i=e(8361),o=e(7908),m=e(6244),u=e(5417),d=s([].push),S=function(g){var E=g==1,R=g==2,b=g==3,h=g==4,O=g==6,I=g==7,T=g==5||O;return function(B,V,Y,k){for(var P=o(B),l=i(P),N=n(V,Y),U=m(l),W=0,Z=k||u,ee=E?Z(B,U):R||I?Z(B,0):void 0,te,me;U>W;W++)if((T||W in l)&&(te=l[W],me=N(te,W,P),g))if(E)ee[W]=me;else if(me)switch(g){case 3:return!0;case 5:return te;case 6:return W;case 2:d(ee,te)}else switch(g){case 4:return!1;case 7:d(ee,te)}return O?-1:b||h?h:ee}};p.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},6583:(p,x,e)=>{var n=e(2104),s=e(5656),i=e(9303),o=e(6244),m=e(9341),u=Math.min,d=[].lastIndexOf,S=!!d&&1/[1].lastIndexOf(1,-0)<0,g=m("lastIndexOf"),E=S||!g;p.exports=E?function(b){if(S)return n(d,this,arguments)||0;var h=s(this),O=o(h),I=O-1;for(arguments.length>1&&(I=u(I,i(arguments[1]))),I<0&&(I=O+I);I>=0;I--)if(I in h&&h[I]===b)return I||0;return-1}:d},1194:(p,x,e)=>{var n=e(7293),s=e(5112),i=e(7392),o=s("species");p.exports=function(m){return i>=51||!n(function(){var u=[],d=u.constructor={};return d[o]=function(){return{foo:1}},u[m](Boolean).foo!==1})}},9341:(p,x,e)=>{var n=e(7293);p.exports=function(s,i){var o=[][s];return!!o&&n(function(){o.call(null,i||function(){return 1},1)})}},3671:(p,x,e)=>{var n=e(9662),s=e(7908),i=e(8361),o=e(6244),m=TypeError,u=function(d){return function(S,g,E,R){n(g);var b=s(S),h=i(b),O=o(b),I=d?O-1:0,T=d?-1:1;if(E<2)for(;;){if(I in h){R=h[I],I+=T;break}if(I+=T,d?I<0:O<=I)throw m("Reduce of empty array with no initial value")}for(;d?I>=0:O>I;I+=T)I in h&&(R=g(R,h[I],I,b));return R}};p.exports={left:u(!1),right:u(!0)}},1589:(p,x,e)=>{var n=e(1400),s=e(6244),i=e(6135),o=Array,m=Math.max;p.exports=function(u,d,S){for(var g=s(u),E=n(d,g),R=n(S===void 0?g:S,g),b=o(m(R-E,0)),h=0;E<R;E++,h++)i(b,h,u[E]);return b.length=h,b}},206:(p,x,e)=>{var n=e(1702);p.exports=n([].slice)},4362:(p,x,e)=>{var n=e(1589),s=Math.floor,i=function(u,d){var S=u.length,g=s(S/2);return S<8?o(u,d):m(u,i(n(u,0,g),d),i(n(u,g),d),d)},o=function(u,d){for(var S=u.length,g=1,E,R;g<S;){for(R=g,E=u[g];R&&d(u[R-1],E)>0;)u[R]=u[--R];R!==g++&&(u[R]=E)}return u},m=function(u,d,S,g){for(var E=d.length,R=S.length,b=0,h=0;b<E||h<R;)u[b+h]=b<E&&h<R?g(d[b],S[h])<=0?d[b++]:S[h++]:b<E?d[b++]:S[h++];return u};p.exports=i},7475:(p,x,e)=>{var n=e(3157),s=e(4411),i=e(111),o=e(5112),m=o("species"),u=Array;p.exports=function(d){var S;return n(d)&&(S=d.constructor,s(S)&&(S===u||n(S.prototype))?S=void 0:i(S)&&(S=S[m],S===null&&(S=void 0))),S===void 0?u:S}},5417:(p,x,e)=>{var n=e(7475);p.exports=function(s,i){return new(n(s))(i===0?0:i)}},3411:(p,x,e)=>{var n=e(9670),s=e(9212);p.exports=function(i,o,m,u){try{return u?o(n(m)[0],m[1]):o(m)}catch(d){s(i,"throw",d)}}},7072:(p,x,e)=>{var n=e(5112),s=n("iterator"),i=!1;try{var o=0,m={next:function(){return{done:!!o++}},return:function(){i=!0}};m[s]=function(){return this},Array.from(m,function(){throw 2})}catch{}p.exports=function(u,d){if(!d&&!i)return!1;var S=!1;try{var g={};g[s]=function(){return{next:function(){return{done:S=!0}}}},u(g)}catch{}return S}},4326:(p,x,e)=>{var n=e(1702),s=n({}.toString),i=n("".slice);p.exports=function(o){return i(s(o),8,-1)}},648:(p,x,e)=>{var n=e(1694),s=e(614),i=e(4326),o=e(5112),m=o("toStringTag"),u=Object,d=i(function(){return arguments}())=="Arguments",S=function(g,E){try{return g[E]}catch{}};p.exports=n?i:function(g){var E,R,b;return g===void 0?"Undefined":g===null?"Null":typeof(R=S(E=u(g),m))=="string"?R:d?i(E):(b=i(E))=="Object"&&s(E.callee)?"Arguments":b}},7741:(p,x,e)=>{var n=e(1702),s=Error,i=n("".replace),o=function(d){return String(s(d).stack)}("zxcasd"),m=/\n\s*at [^:]*:[^\n]*/,u=m.test(o);p.exports=function(d,S){if(u&&typeof d=="string"&&!s.prepareStackTrace)for(;S--;)d=i(d,m,"");return d}},5631:(p,x,e)=>{var n=e(3070).f,s=e(30),i=e(9190),o=e(9974),m=e(5787),u=e(408),d=e(654),S=e(6340),g=e(9781),E=e(2423).fastKey,R=e(9909),b=R.set,h=R.getterFor;p.exports={getConstructor:function(O,I,T,B){var V=O(function(N,U){m(N,Y),b(N,{type:I,index:s(null),first:void 0,last:void 0,size:0}),g||(N.size=0),U!=null&&u(U,N[B],{that:N,AS_ENTRIES:T})}),Y=V.prototype,k=h(I),P=function(N,U,W){var Z=k(N),ee=l(N,U),te,me;return ee?ee.value=W:(Z.last=ee={index:me=E(U,!0),key:U,value:W,previous:te=Z.last,next:void 0,removed:!1},Z.first||(Z.first=ee),te&&(te.next=ee),g?Z.size++:N.size++,me!=="F"&&(Z.index[me]=ee)),N},l=function(N,U){var W=k(N),Z=E(U),ee;if(Z!=="F")return W.index[Z];for(ee=W.first;ee;ee=ee.next)if(ee.key==U)return ee};return i(Y,{clear:function(){for(var U=this,W=k(U),Z=W.index,ee=W.first;ee;)ee.removed=!0,ee.previous&&(ee.previous=ee.previous.next=void 0),delete Z[ee.index],ee=ee.next;W.first=W.last=void 0,g?W.size=0:U.size=0},delete:function(N){var U=this,W=k(U),Z=l(U,N);if(Z){var ee=Z.next,te=Z.previous;delete W.index[Z.index],Z.removed=!0,te&&(te.next=ee),ee&&(ee.previous=te),W.first==Z&&(W.first=ee),W.last==Z&&(W.last=te),g?W.size--:U.size--}return!!Z},forEach:function(U){for(var W=k(this),Z=o(U,arguments.length>1?arguments[1]:void 0),ee;ee=ee?ee.next:W.first;)for(Z(ee.value,ee.key,this);ee&&ee.removed;)ee=ee.previous},has:function(U){return!!l(this,U)}}),i(Y,T?{get:function(U){var W=l(this,U);return W&&W.value},set:function(U,W){return P(this,U===0?0:U,W)}}:{add:function(U){return P(this,U=U===0?0:U,U)}}),g&&n(Y,"size",{get:function(){return k(this).size}}),V},setStrong:function(O,I,T){var B=I+" Iterator",V=h(I),Y=h(B);d(O,I,function(k,P){b(this,{type:B,target:k,state:V(k),kind:P,last:void 0})},function(){for(var k=Y(this),P=k.kind,l=k.last;l&&l.removed;)l=l.previous;return!k.target||!(k.last=l=l?l.next:k.state.first)?(k.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:l.key,done:!1}:P=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},T?"entries":"values",!T,!0),S(I)}}},7710:(p,x,e)=>{var n=e(2109),s=e(7854),i=e(1702),o=e(4705),m=e(8052),u=e(2423),d=e(408),S=e(5787),g=e(614),E=e(111),R=e(7293),b=e(7072),h=e(8003),O=e(9587);p.exports=function(I,T,B){var V=I.indexOf("Map")!==-1,Y=I.indexOf("Weak")!==-1,k=V?"set":"add",P=s[I],l=P&&P.prototype,N=P,U={},W=function(G){var y=i(l[G]);m(l,G,G=="add"?function(K){return y(this,K===0?0:K),this}:G=="delete"?function(F){return Y&&!E(F)?!1:y(this,F===0?0:F)}:G=="get"?function(K){return Y&&!E(K)?void 0:y(this,K===0?0:K)}:G=="has"?function(K){return Y&&!E(K)?!1:y(this,K===0?0:K)}:function(K,q){return y(this,K===0?0:K,q),this})},Z=o(I,!g(P)||!(Y||l.forEach&&!R(function(){new P().entries().next()})));if(Z)N=B.getConstructor(T,I,V,k),u.enable();else if(o(I,!0)){var ee=new N,te=ee[k](Y?{}:-0,1)!=ee,me=R(function(){ee.has(1)}),de=b(function(G){new P(G)}),_=!Y&&R(function(){for(var G=new P,y=5;y--;)G[k](y,y);return!G.has(-0)});de||(N=T(function(G,y){S(G,l);var F=O(new P,G,N);return y!=null&&d(y,F[k],{that:F,AS_ENTRIES:V}),F}),N.prototype=l,l.constructor=N),(me||_)&&(W("delete"),W("has"),V&&W("get")),(_||te)&&W(k),Y&&l.clear&&delete l.clear}return U[I]=N,n({global:!0,constructor:!0,forced:N!=P},U),h(N,I),Y||B.setStrong(N,I,V),N}},9920:(p,x,e)=>{var n=e(2597),s=e(3887),i=e(1236),o=e(3070);p.exports=function(m,u,d){for(var S=s(u),g=o.f,E=i.f,R=0;R<S.length;R++){var b=S[R];!n(m,b)&&!(d&&n(d,b))&&g(m,b,E(u,b))}}},4964:(p,x,e)=>{var n=e(5112),s=n("match");p.exports=function(i){var o=/./;try{"/./"[i](o)}catch{try{return o[s]=!1,"/./"[i](o)}catch{}}return!1}},8544:(p,x,e)=>{var n=e(7293);p.exports=!n(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},4230:(p,x,e)=>{var n=e(1702),s=e(4488),i=e(1340),o=/"/g,m=n("".replace);p.exports=function(u,d,S,g){var E=i(s(u)),R="<"+d;return S!==""&&(R+=" "+S+'="'+m(i(g),o,"&quot;")+'"'),R+">"+E+"</"+d+">"}},4994:(p,x,e)=>{var n=e(3383).IteratorPrototype,s=e(30),i=e(9114),o=e(8003),m=e(7497),u=function(){return this};p.exports=function(d,S,g,E){var R=S+" Iterator";return d.prototype=s(n,{next:i(+!E,g)}),o(d,R,!1,!0),m[R]=u,d}},8880:(p,x,e)=>{var n=e(9781),s=e(3070),i=e(9114);p.exports=n?function(o,m,u){return s.f(o,m,i(1,u))}:function(o,m,u){return o[m]=u,o}},9114:p=>{p.exports=function(x,e){return{enumerable:!(x&1),configurable:!(x&2),writable:!(x&4),value:e}}},6135:(p,x,e)=>{var n=e(4948),s=e(3070),i=e(9114);p.exports=function(o,m,u){var d=n(m);d in o?s.f(o,d,i(0,u)):o[d]=u}},5573:(p,x,e)=>{var n=e(1702),s=e(7293),i=e(6650).start,o=RangeError,m=Math.abs,u=Date.prototype,d=u.toISOString,S=n(u.getTime),g=n(u.getUTCDate),E=n(u.getUTCFullYear),R=n(u.getUTCHours),b=n(u.getUTCMilliseconds),h=n(u.getUTCMinutes),O=n(u.getUTCMonth),I=n(u.getUTCSeconds);p.exports=s(function(){return d.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!s(function(){d.call(new Date(NaN))})?function(){if(!isFinite(S(this)))throw o("Invalid time value");var B=this,V=E(B),Y=b(B),k=V<0?"-":V>9999?"+":"";return k+i(m(V),k?6:4,0)+"-"+i(O(B)+1,2,0)+"-"+i(g(B),2,0)+"T"+i(R(B),2,0)+":"+i(h(B),2,0)+":"+i(I(B),2,0)+"."+i(Y,3,0)+"Z"}:d},7045:(p,x,e)=>{var n=e(6339),s=e(3070);p.exports=function(i,o,m){return m.get&&n(m.get,o,{getter:!0}),m.set&&n(m.set,o,{setter:!0}),s.f(i,o,m)}},8052:(p,x,e)=>{var n=e(614),s=e(3070),i=e(6339),o=e(3072);p.exports=function(m,u,d,S){S||(S={});var g=S.enumerable,E=S.name!==void 0?S.name:u;if(n(d)&&i(d,E,S),S.global)g?m[u]=d:o(u,d);else{try{S.unsafe?m[u]&&(g=!0):delete m[u]}catch{}g?m[u]=d:s.f(m,u,{value:d,enumerable:!1,configurable:!S.nonConfigurable,writable:!S.nonWritable})}return m}},9190:(p,x,e)=>{var n=e(8052);p.exports=function(s,i,o){for(var m in i)n(s,m,i[m],o);return s}},3072:(p,x,e)=>{var n=e(7854),s=Object.defineProperty;p.exports=function(i,o){try{s(n,i,{value:o,configurable:!0,writable:!0})}catch{n[i]=o}return o}},654:(p,x,e)=>{var n=e(2109),s=e(6916),i=e(1913),o=e(6530),m=e(614),u=e(4994),d=e(9518),S=e(7674),g=e(8003),E=e(8880),R=e(8052),b=e(5112),h=e(7497),O=e(3383),I=o.PROPER,T=o.CONFIGURABLE,B=O.IteratorPrototype,V=O.BUGGY_SAFARI_ITERATORS,Y=b("iterator"),k="keys",P="values",l="entries",N=function(){return this};p.exports=function(U,W,Z,ee,te,me,de){u(Z,W,ee);var _=function(A){if(A===te&&q)return q;if(!V&&A in F)return F[A];switch(A){case k:return function(){return new Z(this,A)};case P:return function(){return new Z(this,A)};case l:return function(){return new Z(this,A)}}return function(){return new Z(this)}},G=W+" Iterator",y=!1,F=U.prototype,K=F[Y]||F["@@iterator"]||te&&F[te],q=!V&&K||_(te),D=W=="Array"&&F.entries||K,c,f,v;if(D&&(c=d(D.call(new U)),c!==Object.prototype&&c.next&&(!i&&d(c)!==B&&(S?S(c,B):m(c[Y])||R(c,Y,N)),g(c,G,!0,!0),i&&(h[G]=N))),I&&te==P&&K&&K.name!==P&&(!i&&T?E(F,"name",P):(y=!0,q=function(){return s(K,this)})),te)if(f={values:_(P),keys:me?q:_(k),entries:_(l)},de)for(v in f)(V||y||!(v in F))&&R(F,v,f[v]);else n({target:W,proto:!0,forced:V||y},f);return(!i||de)&&F[Y]!==q&&R(F,Y,q,{name:te}),h[W]=q,f}},7235:(p,x,e)=>{var n=e(857),s=e(2597),i=e(6061),o=e(3070).f;p.exports=function(m){var u=n.Symbol||(n.Symbol={});s(u,m)||o(u,m,{value:i.f(m)})}},5117:(p,x,e)=>{var n=e(6330),s=TypeError;p.exports=function(i,o){if(!delete i[o])throw s("Cannot delete property "+n(o)+" of "+n(i))}},9781:(p,x,e)=>{var n=e(7293);p.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(p,x,e)=>{var n=e(7854),s=e(111),i=n.document,o=s(i)&&s(i.createElement);p.exports=function(m){return o?i.createElement(m):{}}},7207:p=>{var x=TypeError,e=9007199254740991;p.exports=function(n){if(n>e)throw x("Maximum allowed index exceeded");return n}},8324:p=>{p.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(p,x,e)=>{var n=e(317),s=n("span").classList,i=s&&s.constructor&&s.constructor.prototype;p.exports=i===Object.prototype?void 0:i},8886:(p,x,e)=>{var n=e(8113),s=n.match(/firefox\/(\d+)/i);p.exports=!!s&&+s[1]},7871:p=>{p.exports=typeof window=="object"&&typeof Deno!="object"},256:(p,x,e)=>{var n=e(8113);p.exports=/MSIE|Trident/.test(n)},1528:(p,x,e)=>{var n=e(8113),s=e(7854);p.exports=/ipad|iphone|ipod/i.test(n)&&s.Pebble!==void 0},6833:(p,x,e)=>{var n=e(8113);p.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},5268:(p,x,e)=>{var n=e(4326),s=e(7854);p.exports=n(s.process)=="process"},1036:(p,x,e)=>{var n=e(8113);p.exports=/web0s(?!.*chrome)/i.test(n)},8113:(p,x,e)=>{var n=e(5005);p.exports=n("navigator","userAgent")||""},7392:(p,x,e)=>{var n=e(7854),s=e(8113),i=n.process,o=n.Deno,m=i&&i.versions||o&&o.version,u=m&&m.v8,d,S;u&&(d=u.split("."),S=d[0]>0&&d[0]<4?1:+(d[0]+d[1])),!S&&s&&(d=s.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=s.match(/Chrome\/(\d+)/),d&&(S=+d[1]))),p.exports=S},8008:(p,x,e)=>{var n=e(8113),s=n.match(/AppleWebKit\/(\d+)\./);p.exports=!!s&&+s[1]},748:p=>{p.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(p,x,e)=>{var n=e(7293),s=e(9114);p.exports=!n(function(){var i=Error("a");return"stack"in i?(Object.defineProperty(i,"stack",s(1,7)),i.stack!==7):!0})},7762:(p,x,e)=>{var n=e(9781),s=e(7293),i=e(9670),o=e(30),m=e(6277),u=Error.prototype.toString,d=s(function(){if(n){var S=o(Object.defineProperty({},"name",{get:function(){return this===S}}));if(u.call(S)!=="true")return!0}return u.call({message:1,name:2})!=="2: 1"||u.call({})!=="Error"});p.exports=d?function(){var g=i(this),E=m(g.name,"Error"),R=m(g.message);return E?R?E+": "+R:E:R}:u},2109:(p,x,e)=>{var n=e(7854),s=e(1236).f,i=e(8880),o=e(8052),m=e(3072),u=e(9920),d=e(4705);p.exports=function(S,g){var E=S.target,R=S.global,b=S.stat,h,O,I,T,B,V;if(R?O=n:b?O=n[E]||m(E,{}):O=(n[E]||{}).prototype,O)for(I in g){if(B=g[I],S.dontCallGetSet?(V=s(O,I),T=V&&V.value):T=O[I],h=d(R?I:E+(b?".":"#")+I,S.forced),!h&&T!==void 0){if(typeof B==typeof T)continue;u(B,T)}(S.sham||T&&T.sham)&&i(B,"sham",!0),o(O,I,B,S)}}},7293:p=>{p.exports=function(x){try{return!!x()}catch{return!0}}},7007:(p,x,e)=>{e(4916);var n=e(1702),s=e(8052),i=e(2261),o=e(7293),m=e(5112),u=e(8880),d=m("species"),S=RegExp.prototype;p.exports=function(g,E,R,b){var h=m(g),O=!o(function(){var V={};return V[h]=function(){return 7},""[g](V)!=7}),I=O&&!o(function(){var V=!1,Y=/a/;return g==="split"&&(Y={},Y.constructor={},Y.constructor[d]=function(){return Y},Y.flags="",Y[h]=/./[h]),Y.exec=function(){return V=!0,null},Y[h](""),!V});if(!O||!I||R){var T=n(/./[h]),B=E(h,""[g],function(V,Y,k,P,l){var N=n(V),U=Y.exec;return U===i||U===S.exec?O&&!l?{done:!0,value:T(Y,k,P)}:{done:!0,value:N(k,Y,P)}:{done:!1}});s(String.prototype,g,B[0]),s(S,h,B[1])}b&&u(S[h],"sham",!0)}},6677:(p,x,e)=>{var n=e(7293);p.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:(p,x,e)=>{var n=e(4374),s=Function.prototype,i=s.apply,o=s.call;p.exports=typeof Reflect=="object"&&Reflect.apply||(n?o.bind(i):function(){return o.apply(i,arguments)})},9974:(p,x,e)=>{var n=e(1702),s=e(9662),i=e(4374),o=n(n.bind);p.exports=function(m,u){return s(m),u===void 0?m:i?o(m,u):function(){return m.apply(u,arguments)}}},4374:(p,x,e)=>{var n=e(7293);p.exports=!n(function(){var s=function(){}.bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},7065:(p,x,e)=>{var n=e(1702),s=e(9662),i=e(111),o=e(2597),m=e(206),u=e(4374),d=Function,S=n([].concat),g=n([].join),E={},R=function(b,h,O){if(!o(E,h)){for(var I=[],T=0;T<h;T++)I[T]="a["+T+"]";E[h]=d("C,a","return new C("+g(I,",")+")")}return E[h](b,O)};p.exports=u?d.bind:function(h){var O=s(this),I=O.prototype,T=m(arguments,1),B=function(){var Y=S(T,m(arguments));return this instanceof B?R(O,Y.length,Y):O.apply(h,Y)};return i(I)&&(B.prototype=I),B}},6916:(p,x,e)=>{var n=e(4374),s=Function.prototype.call;p.exports=n?s.bind(s):function(){return s.apply(s,arguments)}},6530:(p,x,e)=>{var n=e(9781),s=e(2597),i=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,m=s(i,"name"),u=m&&function(){}.name==="something",d=m&&(!n||n&&o(i,"name").configurable);p.exports={EXISTS:m,PROPER:u,CONFIGURABLE:d}},1702:(p,x,e)=>{var n=e(4374),s=Function.prototype,i=s.bind,o=s.call,m=n&&i.bind(o,o);p.exports=n?function(u){return u&&m(u)}:function(u){return u&&function(){return o.apply(u,arguments)}}},5005:(p,x,e)=>{var n=e(7854),s=e(614),i=function(o){return s(o)?o:void 0};p.exports=function(o,m){return arguments.length<2?i(n[o]):n[o]&&n[o][m]}},1246:(p,x,e)=>{var n=e(648),s=e(8173),i=e(7497),o=e(5112),m=o("iterator");p.exports=function(u){if(u!=null)return s(u,m)||s(u,"@@iterator")||i[n(u)]}},8554:(p,x,e)=>{var n=e(6916),s=e(9662),i=e(9670),o=e(6330),m=e(1246),u=TypeError;p.exports=function(d,S){var g=arguments.length<2?m(d):S;if(s(g))return i(n(g,d));throw u(o(d)+" is not iterable")}},8173:(p,x,e)=>{var n=e(9662);p.exports=function(s,i){var o=s[i];return o==null?void 0:n(o)}},647:(p,x,e)=>{var n=e(1702),s=e(7908),i=Math.floor,o=n("".charAt),m=n("".replace),u=n("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;p.exports=function(g,E,R,b,h,O){var I=R+g.length,T=b.length,B=S;return h!==void 0&&(h=s(h),B=d),m(O,B,function(V,Y){var k;switch(o(Y,0)){case"$":return"$";case"&":return g;case"`":return u(E,0,R);case"'":return u(E,I);case"<":k=h[u(Y,1,-1)];break;default:var P=+Y;if(P===0)return V;if(P>T){var l=i(P/10);return l===0?V:l<=T?b[l-1]===void 0?o(Y,1):b[l-1]+o(Y,1):V}k=b[P-1]}return k===void 0?"":k})}},7854:(p,x,e)=>{var n=function(s){return s&&s.Math==Math&&s};p.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:(p,x,e)=>{var n=e(1702),s=e(7908),i=n({}.hasOwnProperty);p.exports=Object.hasOwn||function(m,u){return i(s(m),u)}},3501:p=>{p.exports={}},842:(p,x,e)=>{var n=e(7854);p.exports=function(s,i){var o=n.console;o&&o.error&&(arguments.length==1?o.error(s):o.error(s,i))}},490:(p,x,e)=>{var n=e(5005);p.exports=n("document","documentElement")},4664:(p,x,e)=>{var n=e(9781),s=e(7293),i=e(317);p.exports=!n&&!s(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},1179:p=>{var x=Array,e=Math.abs,n=Math.pow,s=Math.floor,i=Math.log,o=Math.LN2,m=function(d,S,g){var E=x(g),R=g*8-S-1,b=(1<<R)-1,h=b>>1,O=S===23?n(2,-24)-n(2,-77):0,I=d<0||d===0&&1/d<0?1:0,T=0,B,V,Y;for(d=e(d),d!=d||d===1/0?(V=d!=d?1:0,B=b):(B=s(i(d)/o),Y=n(2,-B),d*Y<1&&(B--,Y*=2),B+h>=1?d+=O/Y:d+=O*n(2,1-h),d*Y>=2&&(B++,Y/=2),B+h>=b?(V=0,B=b):B+h>=1?(V=(d*Y-1)*n(2,S),B=B+h):(V=d*n(2,h-1)*n(2,S),B=0));S>=8;)E[T++]=V&255,V/=256,S-=8;for(B=B<<S|V,R+=S;R>0;)E[T++]=B&255,B/=256,R-=8;return E[--T]|=I*128,E},u=function(d,S){var g=d.length,E=g*8-S-1,R=(1<<E)-1,b=R>>1,h=E-7,O=g-1,I=d[O--],T=I&127,B;for(I>>=7;h>0;)T=T*256+d[O--],h-=8;for(B=T&(1<<-h)-1,T>>=-h,h+=S;h>0;)B=B*256+d[O--],h-=8;if(T===0)T=1-b;else{if(T===R)return B?NaN:I?-1/0:1/0;B=B+n(2,S),T=T-b}return(I?-1:1)*B*n(2,T-S)};p.exports={pack:m,unpack:u}},8361:(p,x,e)=>{var n=e(1702),s=e(7293),i=e(4326),o=Object,m=n("".split);p.exports=s(function(){return!o("z").propertyIsEnumerable(0)})?function(u){return i(u)=="String"?m(u,""):o(u)}:o},9587:(p,x,e)=>{var n=e(614),s=e(111),i=e(7674);p.exports=function(o,m,u){var d,S;return i&&n(d=m.constructor)&&d!==u&&s(S=d.prototype)&&S!==u.prototype&&i(o,S),o}},2788:(p,x,e)=>{var n=e(1702),s=e(614),i=e(5465),o=n(Function.toString);s(i.inspectSource)||(i.inspectSource=function(m){return o(m)}),p.exports=i.inspectSource},8340:(p,x,e)=>{var n=e(111),s=e(8880);p.exports=function(i,o){n(o)&&"cause"in o&&s(i,"cause",o.cause)}},2423:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(3501),o=e(111),m=e(2597),u=e(3070).f,d=e(8006),S=e(1156),g=e(2050),E=e(9711),R=e(6677),b=!1,h=E("meta"),O=0,I=function(P){u(P,h,{value:{objectID:"O"+O++,weakData:{}}})},T=function(P,l){if(!o(P))return typeof P=="symbol"?P:(typeof P=="string"?"S":"P")+P;if(!m(P,h)){if(!g(P))return"F";if(!l)return"E";I(P)}return P[h].objectID},B=function(P,l){if(!m(P,h)){if(!g(P))return!0;if(!l)return!1;I(P)}return P[h].weakData},V=function(P){return R&&b&&g(P)&&!m(P,h)&&I(P),P},Y=function(){k.enable=function(){},b=!0;var P=d.f,l=s([].splice),N={};N[h]=1,P(N).length&&(d.f=function(U){for(var W=P(U),Z=0,ee=W.length;Z<ee;Z++)if(W[Z]===h){l(W,Z,1);break}return W},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},k=p.exports={enable:Y,fastKey:T,getWeakData:B,onFreeze:V};i[h]=!0},9909:(p,x,e)=>{var n=e(8536),s=e(7854),i=e(1702),o=e(111),m=e(8880),u=e(2597),d=e(5465),S=e(6200),g=e(3501),E="Object already initialized",R=s.TypeError,b=s.WeakMap,h,O,I,T=function(N){return I(N)?O(N):h(N,{})},B=function(N){return function(U){var W;if(!o(U)||(W=O(U)).type!==N)throw R("Incompatible receiver, "+N+" required");return W}};if(n||d.state){var V=d.state||(d.state=new b),Y=i(V.get),k=i(V.has),P=i(V.set);h=function(N,U){if(k(V,N))throw new R(E);return U.facade=N,P(V,N,U),U},O=function(N){return Y(V,N)||{}},I=function(N){return k(V,N)}}else{var l=S("state");g[l]=!0,h=function(N,U){if(u(N,l))throw new R(E);return U.facade=N,m(N,l,U),U},O=function(N){return u(N,l)?N[l]:{}},I=function(N){return u(N,l)}}p.exports={set:h,get:O,has:I,enforce:T,getterFor:B}},7659:(p,x,e)=>{var n=e(5112),s=e(7497),i=n("iterator"),o=Array.prototype;p.exports=function(m){return m!==void 0&&(s.Array===m||o[i]===m)}},3157:(p,x,e)=>{var n=e(4326);p.exports=Array.isArray||function(i){return n(i)=="Array"}},614:p=>{p.exports=function(x){return typeof x=="function"}},4411:(p,x,e)=>{var n=e(1702),s=e(7293),i=e(614),o=e(648),m=e(5005),u=e(2788),d=function(){},S=[],g=m("Reflect","construct"),E=/^\s*(?:class|function)\b/,R=n(E.exec),b=!E.exec(d),h=function(T){if(!i(T))return!1;try{return g(d,S,T),!0}catch{return!1}},O=function(T){if(!i(T))return!1;switch(o(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return b||!!R(E,u(T))}catch{return!0}};O.sham=!0,p.exports=!g||s(function(){var I;return h(h.call)||!h(Object)||!h(function(){I=!0})||I})?O:h},4705:(p,x,e)=>{var n=e(7293),s=e(614),i=/#|\.prototype\./,o=function(g,E){var R=u[m(g)];return R==S?!0:R==d?!1:s(E)?n(E):!!E},m=o.normalize=function(g){return String(g).replace(i,".").toLowerCase()},u=o.data={},d=o.NATIVE="N",S=o.POLYFILL="P";p.exports=o},5988:(p,x,e)=>{var n=e(111),s=Math.floor;p.exports=Number.isInteger||function(o){return!n(o)&&isFinite(o)&&s(o)===o}},111:(p,x,e)=>{var n=e(614);p.exports=function(s){return typeof s=="object"?s!==null:n(s)}},1913:p=>{p.exports=!1},7850:(p,x,e)=>{var n=e(111),s=e(4326),i=e(5112),o=i("match");p.exports=function(m){var u;return n(m)&&((u=m[o])!==void 0?!!u:s(m)=="RegExp")}},2190:(p,x,e)=>{var n=e(5005),s=e(614),i=e(7976),o=e(3307),m=Object;p.exports=o?function(u){return typeof u=="symbol"}:function(u){var d=n("Symbol");return s(d)&&i(d.prototype,m(u))}},408:(p,x,e)=>{var n=e(9974),s=e(6916),i=e(9670),o=e(6330),m=e(7659),u=e(6244),d=e(7976),S=e(8554),g=e(1246),E=e(9212),R=TypeError,b=function(O,I){this.stopped=O,this.result=I},h=b.prototype;p.exports=function(O,I,T){var B=T&&T.that,V=!!(T&&T.AS_ENTRIES),Y=!!(T&&T.IS_RECORD),k=!!(T&&T.IS_ITERATOR),P=!!(T&&T.INTERRUPTED),l=n(I,B),N,U,W,Z,ee,te,me,de=function(G){return N&&E(N,"normal",G),new b(!0,G)},_=function(G){return V?(i(G),P?l(G[0],G[1],de):l(G[0],G[1])):P?l(G,de):l(G)};if(Y)N=O.iterator;else if(k)N=O;else{if(U=g(O),!U)throw R(o(O)+" is not iterable");if(m(U)){for(W=0,Z=u(O);Z>W;W++)if(ee=_(O[W]),ee&&d(h,ee))return ee;return new b(!1)}N=S(O,U)}for(te=Y?O.next:N.next;!(me=s(te,N)).done;){try{ee=_(me.value)}catch(G){E(N,"throw",G)}if(typeof ee=="object"&&ee&&d(h,ee))return ee}return new b(!1)}},9212:(p,x,e)=>{var n=e(6916),s=e(9670),i=e(8173);p.exports=function(o,m,u){var d,S;s(o);try{if(d=i(o,"return"),!d){if(m==="throw")throw u;return u}d=n(d,o)}catch(g){S=!0,d=g}if(m==="throw")throw u;if(S)throw d;return s(d),u}},3383:(p,x,e)=>{var n=e(7293),s=e(614),i=e(30),o=e(9518),m=e(8052),u=e(5112),d=e(1913),S=u("iterator"),g=!1,E,R,b;[].keys&&(b=[].keys(),"next"in b?(R=o(o(b)),R!==Object.prototype&&(E=R)):g=!0);var h=E==null||n(function(){var O={};return E[S].call(O)!==O});h?E={}:d&&(E=i(E)),s(E[S])||m(E,S,function(){return this}),p.exports={IteratorPrototype:E,BUGGY_SAFARI_ITERATORS:g}},7497:p=>{p.exports={}},6244:(p,x,e)=>{var n=e(7466);p.exports=function(s){return n(s.length)}},6339:(p,x,e)=>{var n=e(7293),s=e(614),i=e(2597),o=e(9781),m=e(6530).CONFIGURABLE,u=e(2788),d=e(9909),S=d.enforce,g=d.get,E=Object.defineProperty,R=o&&!n(function(){return E(function(){},"length",{value:8}).length!==8}),b=String(String).split("String"),h=p.exports=function(O,I,T){String(I).slice(0,7)==="Symbol("&&(I="["+String(I).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),T&&T.getter&&(I="get "+I),T&&T.setter&&(I="set "+I),(!i(O,"name")||m&&O.name!==I)&&(o?E(O,"name",{value:I,configurable:!0}):O.name=I),R&&T&&i(T,"arity")&&O.length!==T.arity&&E(O,"length",{value:T.arity});try{T&&i(T,"constructor")&&T.constructor?o&&E(O,"prototype",{writable:!1}):O.prototype&&(O.prototype=void 0)}catch{}var B=S(O);return i(B,"source")||(B.source=b.join(typeof I=="string"?I:"")),O};Function.prototype.toString=h(function(){return s(this)&&g(this).source||u(this)},"toString")},4758:p=>{var x=Math.ceil,e=Math.floor;p.exports=Math.trunc||function(s){var i=+s;return(i>0?e:x)(i)}},5948:(p,x,e)=>{var n=e(7854),s=e(9974),i=e(1236).f,o=e(261).set,m=e(6833),u=e(1528),d=e(1036),S=e(5268),g=n.MutationObserver||n.WebKitMutationObserver,E=n.document,R=n.process,b=n.Promise,h=i(n,"queueMicrotask"),O=h&&h.value,I,T,B,V,Y,k,P,l;O||(I=function(){var N,U;for(S&&(N=R.domain)&&N.exit();T;){U=T.fn,T=T.next;try{U()}catch(W){throw T?V():B=void 0,W}}B=void 0,N&&N.enter()},!m&&!S&&!d&&g&&E?(Y=!0,k=E.createTextNode(""),new g(I).observe(k,{characterData:!0}),V=function(){k.data=Y=!Y}):!u&&b&&b.resolve?(P=b.resolve(void 0),P.constructor=b,l=s(P.then,P),V=function(){l(I)}):S?V=function(){R.nextTick(I)}:(o=s(o,n),V=function(){o(I)})),p.exports=O||function(N){var U={fn:N,next:void 0};B&&(B.next=U),T||(T=U,V()),B=U}},735:(p,x,e)=>{var n=e(133);p.exports=n&&!!Symbol.for&&!!Symbol.keyFor},133:(p,x,e)=>{var n=e(7392),s=e(7293);p.exports=!!Object.getOwnPropertySymbols&&!s(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&n&&n<41})},590:(p,x,e)=>{var n=e(7293),s=e(5112),i=e(1913),o=s("iterator");p.exports=!n(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),u=m.searchParams,d="";return m.pathname="c%20d",u.forEach(function(S,g){u.delete("b"),d+=g+S}),i&&!m.toJSON||!u.sort||m.href!=="http://a/c%20d?a=1&c=3"||u.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!u[o]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||d!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8536:(p,x,e)=>{var n=e(7854),s=e(614),i=e(2788),o=n.WeakMap;p.exports=s(o)&&/native code/.test(i(o))},8523:(p,x,e)=>{var n=e(9662),s=function(i){var o,m;this.promise=new i(function(u,d){if(o!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");o=u,m=d}),this.resolve=n(o),this.reject=n(m)};p.exports.f=function(i){return new s(i)}},6277:(p,x,e)=>{var n=e(1340);p.exports=function(s,i){return s===void 0?arguments.length<2?"":i:n(s)}},3929:(p,x,e)=>{var n=e(7850),s=TypeError;p.exports=function(i){if(n(i))throw s("The method doesn't accept regular expressions");return i}},2814:(p,x,e)=>{var n=e(7854),s=e(7293),i=e(1702),o=e(1340),m=e(3111).trim,u=e(1361),d=i("".charAt),S=n.parseFloat,g=n.Symbol,E=g&&g.iterator,R=1/S(u+"-0")!==-1/0||E&&!s(function(){S(Object(E))});p.exports=R?function(h){var O=m(o(h)),I=S(O);return I===0&&d(O,0)=="-"?-0:I}:S},1574:(p,x,e)=>{var n=e(9781),s=e(1702),i=e(6916),o=e(7293),m=e(1956),u=e(5181),d=e(5296),S=e(7908),g=e(8361),E=Object.assign,R=Object.defineProperty,b=s([].concat);p.exports=!E||o(function(){if(n&&E({b:1},E(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},O={},I=Symbol(),T="abcdefghijklmnopqrst";return h[I]=7,T.split("").forEach(function(B){O[B]=B}),E({},h)[I]!=7||m(E({},O)).join("")!=T})?function(O,I){for(var T=S(O),B=arguments.length,V=1,Y=u.f,k=d.f;B>V;)for(var P=g(arguments[V++]),l=Y?b(m(P),Y(P)):m(P),N=l.length,U=0,W;N>U;)W=l[U++],(!n||i(k,P,W))&&(T[W]=P[W]);return T}:E},30:(p,x,e)=>{var n=e(9670),s=e(6048),i=e(748),o=e(3501),m=e(490),u=e(317),d=e(6200),S=">",g="<",E="prototype",R="script",b=d("IE_PROTO"),h=function(){},O=function(Y){return g+R+S+Y+g+"/"+R+S},I=function(Y){Y.write(O("")),Y.close();var k=Y.parentWindow.Object;return Y=null,k},T=function(){var Y=u("iframe"),k="java"+R+":",P;return Y.style.display="none",m.appendChild(Y),Y.src=String(k),P=Y.contentWindow.document,P.open(),P.write(O("document.F=Object")),P.close(),P.F},B,V=function(){try{B=new ActiveXObject("htmlfile")}catch{}V=typeof document<"u"?document.domain&&B?I(B):T():I(B);for(var Y=i.length;Y--;)delete V[E][i[Y]];return V()};o[b]=!0,p.exports=Object.create||function(k,P){var l;return k!==null?(h[E]=n(k),l=new h,h[E]=null,l[b]=k):l=V(),P===void 0?l:s.f(l,P)}},6048:(p,x,e)=>{var n=e(9781),s=e(3353),i=e(3070),o=e(9670),m=e(5656),u=e(1956);x.f=n&&!s?Object.defineProperties:function(S,g){o(S);for(var E=m(g),R=u(g),b=R.length,h=0,O;b>h;)i.f(S,O=R[h++],E[O]);return S}},3070:(p,x,e)=>{var n=e(9781),s=e(4664),i=e(3353),o=e(9670),m=e(4948),u=TypeError,d=Object.defineProperty,S=Object.getOwnPropertyDescriptor,g="enumerable",E="configurable",R="writable";x.f=n?i?function(h,O,I){if(o(h),O=m(O),o(I),typeof h=="function"&&O==="prototype"&&"value"in I&&R in I&&!I[R]){var T=S(h,O);T&&T[R]&&(h[O]=I.value,I={configurable:E in I?I[E]:T[E],enumerable:g in I?I[g]:T[g],writable:!1})}return d(h,O,I)}:d:function(h,O,I){if(o(h),O=m(O),o(I),s)try{return d(h,O,I)}catch{}if("get"in I||"set"in I)throw u("Accessors not supported");return"value"in I&&(h[O]=I.value),h}},1236:(p,x,e)=>{var n=e(9781),s=e(6916),i=e(5296),o=e(9114),m=e(5656),u=e(4948),d=e(2597),S=e(4664),g=Object.getOwnPropertyDescriptor;x.f=n?g:function(R,b){if(R=m(R),b=u(b),S)try{return g(R,b)}catch{}if(d(R,b))return o(!s(i.f,R,b),R[b])}},1156:(p,x,e)=>{var n=e(4326),s=e(5656),i=e(8006).f,o=e(1589),m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(d){try{return i(d)}catch{return o(m)}};p.exports.f=function(S){return m&&n(S)=="Window"?u(S):i(s(S))}},8006:(p,x,e)=>{var n=e(6324),s=e(748),i=s.concat("length","prototype");x.f=Object.getOwnPropertyNames||function(m){return n(m,i)}},5181:(p,x)=>{x.f=Object.getOwnPropertySymbols},9518:(p,x,e)=>{var n=e(2597),s=e(614),i=e(7908),o=e(6200),m=e(8544),u=o("IE_PROTO"),d=Object,S=d.prototype;p.exports=m?d.getPrototypeOf:function(g){var E=i(g);if(n(E,u))return E[u];var R=E.constructor;return s(R)&&E instanceof R?R.prototype:E instanceof d?S:null}},2050:(p,x,e)=>{var n=e(7293),s=e(111),i=e(4326),o=e(7556),m=Object.isExtensible,u=n(function(){});p.exports=u||o?function(S){return!s(S)||o&&i(S)=="ArrayBuffer"?!1:m?m(S):!0}:m},7976:(p,x,e)=>{var n=e(1702);p.exports=n({}.isPrototypeOf)},6324:(p,x,e)=>{var n=e(1702),s=e(2597),i=e(5656),o=e(1318).indexOf,m=e(3501),u=n([].push);p.exports=function(d,S){var g=i(d),E=0,R=[],b;for(b in g)!s(m,b)&&s(g,b)&&u(R,b);for(;S.length>E;)s(g,b=S[E++])&&(~o(R,b)||u(R,b));return R}},1956:(p,x,e)=>{var n=e(6324),s=e(748);p.exports=Object.keys||function(o){return n(o,s)}},5296:(p,x)=>{var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!e.call({1:2},1);x.f=s?function(o){var m=n(this,o);return!!m&&m.enumerable}:e},7674:(p,x,e)=>{var n=e(1702),s=e(9670),i=e(6077);p.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var o=!1,m={},u;try{u=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),u(m,[]),o=m instanceof Array}catch{}return function(S,g){return s(S),i(g),o?u(S,g):S.__proto__=g,S}}():void 0)},4699:(p,x,e)=>{var n=e(9781),s=e(1702),i=e(1956),o=e(5656),m=e(5296).f,u=s(m),d=s([].push),S=function(g){return function(E){for(var R=o(E),b=i(R),h=b.length,O=0,I=[],T;h>O;)T=b[O++],(!n||u(R,T))&&d(I,g?[T,R[T]]:R[T]);return I}};p.exports={entries:S(!0),values:S(!1)}},288:(p,x,e)=>{var n=e(1694),s=e(648);p.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},2140:(p,x,e)=>{var n=e(6916),s=e(614),i=e(111),o=TypeError;p.exports=function(m,u){var d,S;if(u==="string"&&s(d=m.toString)&&!i(S=n(d,m))||s(d=m.valueOf)&&!i(S=n(d,m))||u!=="string"&&s(d=m.toString)&&!i(S=n(d,m)))return S;throw o("Can't convert object to primitive value")}},3887:(p,x,e)=>{var n=e(5005),s=e(1702),i=e(8006),o=e(5181),m=e(9670),u=s([].concat);p.exports=n("Reflect","ownKeys")||function(S){var g=i.f(m(S)),E=o.f;return E?u(g,E(S)):g}},857:(p,x,e)=>{var n=e(7854);p.exports=n},2534:p=>{p.exports=function(x){try{return{error:!1,value:x()}}catch(e){return{error:!0,value:e}}}},3702:(p,x,e)=>{var n=e(7854),s=e(2492),i=e(614),o=e(4705),m=e(2788),u=e(5112),d=e(7871),S=e(1913),g=e(7392),E=s&&s.prototype,R=u("species"),b=!1,h=i(n.PromiseRejectionEvent),O=o("Promise",function(){var I=m(s),T=I!==String(s);if(!T&&g===66||S&&!(E.catch&&E.finally))return!0;if(g>=51&&/native code/.test(I))return!1;var B=new s(function(k){k(1)}),V=function(k){k(function(){},function(){})},Y=B.constructor={};return Y[R]=V,b=B.then(function(){})instanceof V,b?!T&&d&&!h:!0});p.exports={CONSTRUCTOR:O,REJECTION_EVENT:h,SUBCLASSING:b}},2492:(p,x,e)=>{var n=e(7854);p.exports=n.Promise},9478:(p,x,e)=>{var n=e(9670),s=e(111),i=e(8523);p.exports=function(o,m){if(n(o),s(m)&&m.constructor===o)return m;var u=i.f(o),d=u.resolve;return d(m),u.promise}},612:(p,x,e)=>{var n=e(2492),s=e(7072),i=e(3702).CONSTRUCTOR;p.exports=i||!s(function(o){n.all(o).then(void 0,function(){})})},2626:(p,x,e)=>{var n=e(3070).f;p.exports=function(s,i,o){o in s||n(s,o,{configurable:!0,get:function(){return i[o]},set:function(m){i[o]=m}})}},8572:p=>{var x=function(){this.head=null,this.tail=null};x.prototype={add:function(e){var n={item:e,next:null};this.head?this.tail.next=n:this.head=n,this.tail=n},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},p.exports=x},7651:(p,x,e)=>{var n=e(6916),s=e(9670),i=e(614),o=e(4326),m=e(2261),u=TypeError;p.exports=function(d,S){var g=d.exec;if(i(g)){var E=n(g,d,S);return E!==null&&s(E),E}if(o(d)==="RegExp")return n(m,d,S);throw u("RegExp#exec called on incompatible receiver")}},2261:(p,x,e)=>{var n=e(6916),s=e(1702),i=e(1340),o=e(7066),m=e(2999),u=e(2309),d=e(30),S=e(9909).get,g=e(9441),E=e(7168),R=u("native-string-replace",String.prototype.replace),b=RegExp.prototype.exec,h=b,O=s("".charAt),I=s("".indexOf),T=s("".replace),B=s("".slice),V=function(){var l=/a/,N=/b*/g;return n(b,l,"a"),n(b,N,"a"),l.lastIndex!==0||N.lastIndex!==0}(),Y=m.BROKEN_CARET,k=/()??/.exec("")[1]!==void 0,P=V||k||Y||g||E;P&&(h=function(N){var U=this,W=S(U),Z=i(N),ee=W.raw,te,me,de,_,G,y,F;if(ee)return ee.lastIndex=U.lastIndex,te=n(h,ee,Z),U.lastIndex=ee.lastIndex,te;var K=W.groups,q=Y&&U.sticky,D=n(o,U),c=U.source,f=0,v=Z;if(q&&(D=T(D,"y",""),I(D,"g")===-1&&(D+="g"),v=B(Z,U.lastIndex),U.lastIndex>0&&(!U.multiline||U.multiline&&O(Z,U.lastIndex-1)!==`
`)&&(c="(?: "+c+")",v=" "+v,f++),me=new RegExp("^(?:"+c+")",D)),k&&(me=new RegExp("^"+c+"$(?!\\s)",D)),V&&(de=U.lastIndex),_=n(b,q?me:U,v),q?_?(_.input=B(_.input,f),_[0]=B(_[0],f),_.index=U.lastIndex,U.lastIndex+=_[0].length):U.lastIndex=0:V&&_&&(U.lastIndex=U.global?_.index+_[0].length:de),k&&_&&_.length>1&&n(R,_[0],me,function(){for(G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(_[G]=void 0)}),_&&K)for(_.groups=y=d(null),G=0;G<K.length;G++)F=K[G],y[F[0]]=_[F[1]];return _}),p.exports=h},7066:(p,x,e)=>{var n=e(9670);p.exports=function(){var s=n(this),i="";return s.hasIndices&&(i+="d"),s.global&&(i+="g"),s.ignoreCase&&(i+="i"),s.multiline&&(i+="m"),s.dotAll&&(i+="s"),s.unicode&&(i+="u"),s.unicodeSets&&(i+="v"),s.sticky&&(i+="y"),i}},4706:(p,x,e)=>{var n=e(6916),s=e(2597),i=e(7976),o=e(7066),m=RegExp.prototype;p.exports=function(u){var d=u.flags;return d===void 0&&!("flags"in m)&&!s(u,"flags")&&i(m,u)?n(o,u):d}},2999:(p,x,e)=>{var n=e(7293),s=e(7854),i=s.RegExp,o=n(function(){var d=i("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),m=o||n(function(){return!i("a","y").sticky}),u=o||n(function(){var d=i("^r","gy");return d.lastIndex=2,d.exec("str")!=null});p.exports={BROKEN_CARET:u,MISSED_STICKY:m,UNSUPPORTED_Y:o}},9441:(p,x,e)=>{var n=e(7293),s=e(7854),i=s.RegExp;p.exports=n(function(){var o=i(".","s");return!(o.dotAll&&o.exec(`
`)&&o.flags==="s")})},7168:(p,x,e)=>{var n=e(7293),s=e(7854),i=s.RegExp;p.exports=n(function(){var o=i("(?<a>b)","g");return o.exec("b").groups.a!=="b"||"b".replace(o,"$<a>c")!=="bc"})},4488:p=>{var x=TypeError;p.exports=function(e){if(e==null)throw x("Can't call method on "+e);return e}},1150:p=>{p.exports=Object.is||function(e,n){return e===n?e!==0||1/e===1/n:e!=e&&n!=n}},7152:(p,x,e)=>{var n=e(7854),s=e(2104),i=e(614),o=e(8113),m=e(206),u=e(8053),d=/MSIE .\./.test(o),S=n.Function,g=function(E){return d?function(R,b){var h=u(arguments.length,1)>2,O=i(R)?R:S(R),I=h?m(arguments,2):void 0;return E(h?function(){s(O,this,I)}:O,b)}:E};p.exports={setTimeout:g(n.setTimeout),setInterval:g(n.setInterval)}},6340:(p,x,e)=>{var n=e(5005),s=e(3070),i=e(5112),o=e(9781),m=i("species");p.exports=function(u){var d=n(u),S=s.f;o&&d&&!d[m]&&S(d,m,{configurable:!0,get:function(){return this}})}},8003:(p,x,e)=>{var n=e(3070).f,s=e(2597),i=e(5112),o=i("toStringTag");p.exports=function(m,u,d){m&&!d&&(m=m.prototype),m&&!s(m,o)&&n(m,o,{configurable:!0,value:u})}},6200:(p,x,e)=>{var n=e(2309),s=e(9711),i=n("keys");p.exports=function(o){return i[o]||(i[o]=s(o))}},5465:(p,x,e)=>{var n=e(7854),s=e(3072),i="__core-js_shared__",o=n[i]||s(i,{});p.exports=o},2309:(p,x,e)=>{var n=e(1913),s=e(5465);(p.exports=function(i,o){return s[i]||(s[i]=o!==void 0?o:{})})("versions",[]).push({version:"3.23.5",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(p,x,e)=>{var n=e(9670),s=e(9483),i=e(5112),o=i("species");p.exports=function(m,u){var d=n(m).constructor,S;return d===void 0||(S=n(d)[o])==null?u:s(S)}},3429:(p,x,e)=>{var n=e(7293);p.exports=function(s){return n(function(){var i=""[s]('"');return i!==i.toLowerCase()||i.split('"').length>3})}},8710:(p,x,e)=>{var n=e(1702),s=e(9303),i=e(1340),o=e(4488),m=n("".charAt),u=n("".charCodeAt),d=n("".slice),S=function(g){return function(E,R){var b=i(o(E)),h=s(R),O=b.length,I,T;return h<0||h>=O?g?"":void 0:(I=u(b,h),I<55296||I>56319||h+1===O||(T=u(b,h+1))<56320||T>57343?g?m(b,h):I:g?d(b,h,h+2):(I-55296<<10)+(T-56320)+65536)}};p.exports={codeAt:S(!1),charAt:S(!0)}},6650:(p,x,e)=>{var n=e(1702),s=e(7466),i=e(1340),o=e(8415),m=e(4488),u=n(o),d=n("".slice),S=Math.ceil,g=function(E){return function(R,b,h){var O=i(m(R)),I=s(b),T=O.length,B=h===void 0?" ":i(h),V,Y;return I<=T||B==""?O:(V=I-T,Y=u(B,S(V/B.length)),Y.length>V&&(Y=d(Y,0,V)),E?O+Y:Y+O)}};p.exports={start:g(!1),end:g(!0)}},3197:(p,x,e)=>{var n=e(1702),s=2147483647,i=36,o=1,m=26,u=38,d=700,S=72,g=128,E="-",R=/[^\0-\u007E]/,b=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",O=i-o,I=RangeError,T=n(b.exec),B=Math.floor,V=String.fromCharCode,Y=n("".charCodeAt),k=n([].join),P=n([].push),l=n("".replace),N=n("".split),U=n("".toLowerCase),W=function(me){for(var de=[],_=0,G=me.length;_<G;){var y=Y(me,_++);if(y>=55296&&y<=56319&&_<G){var F=Y(me,_++);(F&64512)==56320?P(de,((y&1023)<<10)+(F&1023)+65536):(P(de,y),_--)}else P(de,y)}return de},Z=function(me){return me+22+75*(me<26)},ee=function(me,de,_){var G=0;for(me=_?B(me/d):me>>1,me+=B(me/de);me>O*m>>1;)me=B(me/O),G+=i;return B(G+(O+1)*me/(me+u))},te=function(me){var de=[];me=W(me);var _=me.length,G=g,y=0,F=S,K,q;for(K=0;K<me.length;K++)q=me[K],q<128&&P(de,V(q));var D=de.length,c=D;for(D&&P(de,E);c<_;){var f=s;for(K=0;K<me.length;K++)q=me[K],q>=G&&q<f&&(f=q);var v=c+1;if(f-G>B((s-y)/v))throw I(h);for(y+=(f-G)*v,G=f,K=0;K<me.length;K++){if(q=me[K],q<G&&++y>s)throw I(h);if(q==G){for(var A=y,j=i;;){var X=j<=F?o:j>=F+m?m:j-F;if(A<X)break;var Q=A-X,z=i-X;P(de,V(Z(X+Q%z))),A=B(Q/z),j+=i}P(de,V(Z(A))),F=ee(y,v,c==D),y=0,c++}}y++,G++}return k(de,"")};p.exports=function(me){var de=[],_=N(l(U(me),b,"."),"."),G,y;for(G=0;G<_.length;G++)y=_[G],P(de,T(R,y)?"xn--"+te(y):y);return k(de,".")}},8415:(p,x,e)=>{var n=e(9303),s=e(1340),i=e(4488),o=RangeError;p.exports=function(u){var d=s(i(this)),S="",g=n(u);if(g<0||g==1/0)throw o("Wrong number of repetitions");for(;g>0;(g>>>=1)&&(d+=d))g&1&&(S+=d);return S}},6091:(p,x,e)=>{var n=e(6530).PROPER,s=e(7293),i=e(1361),o="​᠎";p.exports=function(m){return s(function(){return!!i[m]()||o[m]()!==o||n&&i[m].name!==m})}},3111:(p,x,e)=>{var n=e(1702),s=e(4488),i=e(1340),o=e(1361),m=n("".replace),u="["+o+"]",d=RegExp("^"+u+u+"*"),S=RegExp(u+u+"*$"),g=function(E){return function(R){var b=i(s(R));return E&1&&(b=m(b,d,"")),E&2&&(b=m(b,S,"")),b}};p.exports={start:g(1),end:g(2),trim:g(3)}},6532:(p,x,e)=>{var n=e(6916),s=e(5005),i=e(5112),o=e(8052);p.exports=function(){var m=s("Symbol"),u=m&&m.prototype,d=u&&u.valueOf,S=i("toPrimitive");u&&!u[S]&&o(u,S,function(g){return n(d,this)},{arity:1})}},261:(p,x,e)=>{var n=e(7854),s=e(2104),i=e(9974),o=e(614),m=e(2597),u=e(7293),d=e(490),S=e(206),g=e(317),E=e(8053),R=e(6833),b=e(5268),h=n.setImmediate,O=n.clearImmediate,I=n.process,T=n.Dispatch,B=n.Function,V=n.MessageChannel,Y=n.String,k=0,P={},l="onreadystatechange",N,U,W,Z;try{N=n.location}catch{}var ee=function(_){if(m(P,_)){var G=P[_];delete P[_],G()}},te=function(_){return function(){ee(_)}},me=function(_){ee(_.data)},de=function(_){n.postMessage(Y(_),N.protocol+"//"+N.host)};(!h||!O)&&(h=function(G){E(arguments.length,1);var y=o(G)?G:B(G),F=S(arguments,1);return P[++k]=function(){s(y,void 0,F)},U(k),k},O=function(G){delete P[G]},b?U=function(_){I.nextTick(te(_))}:T&&T.now?U=function(_){T.now(te(_))}:V&&!R?(W=new V,Z=W.port2,W.port1.onmessage=me,U=i(Z.postMessage,Z)):n.addEventListener&&o(n.postMessage)&&!n.importScripts&&N&&N.protocol!=="file:"&&!u(de)?(U=de,n.addEventListener("message",me,!1)):l in g("script")?U=function(_){d.appendChild(g("script"))[l]=function(){d.removeChild(this),ee(_)}}:U=function(_){setTimeout(te(_),0)}),p.exports={set:h,clear:O}},863:(p,x,e)=>{var n=e(1702);p.exports=n(1 .valueOf)},1400:(p,x,e)=>{var n=e(9303),s=Math.max,i=Math.min;p.exports=function(o,m){var u=n(o);return u<0?s(u+m,0):i(u,m)}},4599:(p,x,e)=>{var n=e(7593),s=TypeError;p.exports=function(i){var o=n(i,"number");if(typeof o=="number")throw s("Can't convert number to bigint");return BigInt(o)}},7067:(p,x,e)=>{var n=e(9303),s=e(7466),i=RangeError;p.exports=function(o){if(o===void 0)return 0;var m=n(o),u=s(m);if(m!==u)throw i("Wrong length or index");return u}},5656:(p,x,e)=>{var n=e(8361),s=e(4488);p.exports=function(i){return n(s(i))}},9303:(p,x,e)=>{var n=e(4758);p.exports=function(s){var i=+s;return i!==i||i===0?0:n(i)}},7466:(p,x,e)=>{var n=e(9303),s=Math.min;p.exports=function(i){return i>0?s(n(i),9007199254740991):0}},7908:(p,x,e)=>{var n=e(4488),s=Object;p.exports=function(i){return s(n(i))}},4590:(p,x,e)=>{var n=e(3002),s=RangeError;p.exports=function(i,o){var m=n(i);if(m%o)throw s("Wrong offset");return m}},3002:(p,x,e)=>{var n=e(9303),s=RangeError;p.exports=function(i){var o=n(i);if(o<0)throw s("The argument can't be less than 0");return o}},7593:(p,x,e)=>{var n=e(6916),s=e(111),i=e(2190),o=e(8173),m=e(2140),u=e(5112),d=TypeError,S=u("toPrimitive");p.exports=function(g,E){if(!s(g)||i(g))return g;var R=o(g,S),b;if(R){if(E===void 0&&(E="default"),b=n(R,g,E),!s(b)||i(b))return b;throw d("Can't convert object to primitive value")}return E===void 0&&(E="number"),m(g,E)}},4948:(p,x,e)=>{var n=e(7593),s=e(2190);p.exports=function(i){var o=n(i,"string");return s(o)?o:o+""}},1694:(p,x,e)=>{var n=e(5112),s=n("toStringTag"),i={};i[s]="z",p.exports=String(i)==="[object z]"},1340:(p,x,e)=>{var n=e(648),s=String;p.exports=function(i){if(n(i)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return s(i)}},6330:p=>{var x=String;p.exports=function(e){try{return x(e)}catch{return"Object"}}},9843:(p,x,e)=>{var n=e(2109),s=e(7854),i=e(6916),o=e(9781),m=e(3832),u=e(260),d=e(3331),S=e(5787),g=e(9114),E=e(8880),R=e(5988),b=e(7466),h=e(7067),O=e(4590),I=e(4948),T=e(2597),B=e(648),V=e(111),Y=e(2190),k=e(30),P=e(7976),l=e(7674),N=e(8006).f,U=e(7321),W=e(2092).forEach,Z=e(6340),ee=e(3070),te=e(1236),me=e(9909),de=e(9587),_=me.get,G=me.set,y=me.enforce,F=ee.f,K=te.f,q=Math.round,D=s.RangeError,c=d.ArrayBuffer,f=c.prototype,v=d.DataView,A=u.NATIVE_ARRAY_BUFFER_VIEWS,j=u.TYPED_ARRAY_TAG,X=u.TypedArray,Q=u.TypedArrayPrototype,z=u.aTypedArrayConstructor,ne=u.isTypedArray,ae="BYTES_PER_ELEMENT",be="Wrong length",Oe=function(C,H){z(C);for(var Le=0,Te=H.length,Ve=new C(Te);Te>Le;)Ve[Le]=H[Le++];return Ve},Ce=function(C,H){F(C,H,{get:function(){return _(this)[H]}})},Ge=function(C){var H;return P(f,C)||(H=B(C))=="ArrayBuffer"||H=="SharedArrayBuffer"},Ye=function(C,H){return ne(C)&&!Y(H)&&H in C&&R(+H)&&H>=0},st=function(H,Le){return Le=I(Le),Ye(H,Le)?g(2,H[Le]):K(H,Le)},xt=function(H,Le,Te){return Le=I(Le),Ye(H,Le)&&V(Te)&&T(Te,"value")&&!T(Te,"get")&&!T(Te,"set")&&!Te.configurable&&(!T(Te,"writable")||Te.writable)&&(!T(Te,"enumerable")||Te.enumerable)?(H[Le]=Te.value,H):F(H,Le,Te)};o?(A||(te.f=st,ee.f=xt,Ce(Q,"buffer"),Ce(Q,"byteOffset"),Ce(Q,"byteLength"),Ce(Q,"length")),n({target:"Object",stat:!0,forced:!A},{getOwnPropertyDescriptor:st,defineProperty:xt}),p.exports=function(C,H,Le){var Te=C.match(/\d+$/)[0]/8,Ve=C+(Le?"Clamped":"")+"Array",Ee="get"+C,Fe="set"+C,ze=s[Ve],Xe=ze,We=Xe&&Xe.prototype,ke={},tt=function(qe,Je){var lt=_(qe);return lt.view[Ee](Je*Te+lt.byteOffset,!0)},ct=function(qe,Je,lt){var gt=_(qe);Le&&(lt=(lt=q(lt))<0?0:lt>255?255:lt&255),gt.view[Fe](Je*Te+gt.byteOffset,lt,!0)},nt=function(qe,Je){F(qe,Je,{get:function(){return tt(this,Je)},set:function(lt){return ct(this,Je,lt)},enumerable:!0})};A?m&&(Xe=H(function(qe,Je,lt,gt){return S(qe,We),de(function(){return V(Je)?Ge(Je)?gt!==void 0?new ze(Je,O(lt,Te),gt):lt!==void 0?new ze(Je,O(lt,Te)):new ze(Je):ne(Je)?Oe(Xe,Je):i(U,Xe,Je):new ze(h(Je))}(),qe,Xe)}),l&&l(Xe,X),W(N(ze),function(qe){qe in Xe||E(Xe,qe,ze[qe])}),Xe.prototype=We):(Xe=H(function(qe,Je,lt,gt){S(qe,We);var At=0,kt=0,Gt,Bt,zt;if(!V(Je))zt=h(Je),Bt=zt*Te,Gt=new c(Bt);else if(Ge(Je)){Gt=Je,kt=O(lt,Te);var tr=Je.byteLength;if(gt===void 0){if(tr%Te||(Bt=tr-kt,Bt<0))throw D(be)}else if(Bt=b(gt)*Te,Bt+kt>tr)throw D(be);zt=Bt/Te}else return ne(Je)?Oe(Xe,Je):i(U,Xe,Je);for(G(qe,{buffer:Gt,byteOffset:kt,byteLength:Bt,length:zt,view:new v(Gt)});At<zt;)nt(qe,At++)}),l&&l(Xe,X),We=Xe.prototype=k(Q)),We.constructor!==Xe&&E(We,"constructor",Xe),y(We).TypedArrayConstructor=Xe,j&&E(We,j,Ve);var He=Xe!=ze;ke[Ve]=Xe,n({global:!0,constructor:!0,forced:He,sham:!A},ke),ae in Xe||E(Xe,ae,Te),ae in We||E(We,ae,Te),Z(Ve)}):p.exports=function(){}},3832:(p,x,e)=>{var n=e(7854),s=e(7293),i=e(7072),o=e(260).NATIVE_ARRAY_BUFFER_VIEWS,m=n.ArrayBuffer,u=n.Int8Array;p.exports=!o||!s(function(){u(1)})||!s(function(){new u(-1)})||!i(function(d){new u,new u(null),new u(1.5),new u(d)},!0)||s(function(){return new u(new m(2),1,void 0).length!==1})},3074:(p,x,e)=>{var n=e(7745),s=e(6304);p.exports=function(i,o){return n(s(i),o)}},7321:(p,x,e)=>{var n=e(9974),s=e(6916),i=e(9483),o=e(7908),m=e(6244),u=e(8554),d=e(1246),S=e(7659),g=e(260).aTypedArrayConstructor;p.exports=function(R){var b=i(this),h=o(R),O=arguments.length,I=O>1?arguments[1]:void 0,T=I!==void 0,B=d(h),V,Y,k,P,l,N;if(B&&!S(B))for(l=u(h,B),N=l.next,h=[];!(P=s(N,l)).done;)h.push(P.value);for(T&&O>2&&(I=n(I,arguments[2])),Y=m(h),k=new(g(b))(Y),V=0;Y>V;V++)k[V]=T?I(h[V],V):h[V];return k}},6304:(p,x,e)=>{var n=e(260),s=e(6707),i=n.aTypedArrayConstructor,o=n.getTypedArrayConstructor;p.exports=function(m){return i(s(m,o(m)))}},9711:(p,x,e)=>{var n=e(1702),s=0,i=Math.random(),o=n(1 .toString);p.exports=function(m){return"Symbol("+(m===void 0?"":m)+")_"+o(++s+i,36)}},3307:(p,x,e)=>{var n=e(133);p.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(p,x,e)=>{var n=e(9781),s=e(7293);p.exports=n&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:p=>{var x=TypeError;p.exports=function(e,n){if(e<n)throw x("Not enough arguments");return e}},6061:(p,x,e)=>{var n=e(5112);x.f=n},5112:(p,x,e)=>{var n=e(7854),s=e(2309),i=e(2597),o=e(9711),m=e(133),u=e(3307),d=s("wks"),S=n.Symbol,g=S&&S.for,E=u?S:S&&S.withoutSetter||o;p.exports=function(R){if(!i(d,R)||!(m||typeof d[R]=="string")){var b="Symbol."+R;m&&i(S,R)?d[R]=S[R]:u&&g?d[R]=g(b):d[R]=E(b)}return d[R]}},1361:p=>{p.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},9191:(p,x,e)=>{var n=e(5005),s=e(2597),i=e(8880),o=e(7976),m=e(7674),u=e(9920),d=e(2626),S=e(9587),g=e(6277),E=e(8340),R=e(7741),b=e(2914),h=e(9781),O=e(1913);p.exports=function(I,T,B,V){var Y="stackTraceLimit",k=V?2:1,P=I.split("."),l=P[P.length-1],N=n.apply(null,P);if(N){var U=N.prototype;if(!O&&s(U,"cause")&&delete U.cause,!B)return N;var W=n("Error"),Z=T(function(ee,te){var me=g(V?te:ee,void 0),de=V?new N(ee):new N;return me!==void 0&&i(de,"message",me),b&&i(de,"stack",R(de.stack,2)),this&&o(U,this)&&S(de,this,Z),arguments.length>k&&E(de,arguments[k]),de});if(Z.prototype=U,l!=="Error"?m?m(Z,W):u(Z,W,{name:!0}):h&&Y in N&&(d(Z,N,Y),d(Z,N,"prepareStackTrace")),u(Z,N),!O)try{U.name!==l&&i(U,"name",l),U.constructor=Z}catch{}return Z}}},9575:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(7293),o=e(3331),m=e(9670),u=e(1400),d=e(7466),S=e(6707),g=o.ArrayBuffer,E=o.DataView,R=E.prototype,b=s(g.prototype.slice),h=s(R.getUint8),O=s(R.setUint8),I=i(function(){return!new g(2).slice(1,void 0).byteLength});n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:I},{slice:function(B,V){if(b&&V===void 0)return b(m(this),B);for(var Y=m(this).byteLength,k=u(B,Y),P=u(V===void 0?Y:V,Y),l=new(S(this,g))(d(P-k)),N=new E(this),U=new E(l),W=0;k<P;)O(U,W++,h(N,k++));return l}})},2222:(p,x,e)=>{var n=e(2109),s=e(7293),i=e(3157),o=e(111),m=e(7908),u=e(6244),d=e(7207),S=e(6135),g=e(5417),E=e(1194),R=e(5112),b=e(7392),h=R("isConcatSpreadable"),O=b>=51||!s(function(){var V=[];return V[h]=!1,V.concat()[0]!==V}),I=E("concat"),T=function(V){if(!o(V))return!1;var Y=V[h];return Y!==void 0?!!Y:i(V)},B=!O||!I;n({target:"Array",proto:!0,arity:1,forced:B},{concat:function(Y){var k=m(this),P=g(k,0),l=0,N,U,W,Z,ee;for(N=-1,W=arguments.length;N<W;N++)if(ee=N===-1?k:arguments[N],T(ee))for(Z=u(ee),d(l+Z),U=0;U<Z;U++,l++)U in ee&&S(P,l,ee[U]);else d(l+1),S(P,l++,ee);return P.length=l,P}})},6541:(p,x,e)=>{var n=e(2109),s=e(2092).every,i=e(9341),o=i("every");n({target:"Array",proto:!0,forced:!o},{every:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}})},7327:(p,x,e)=>{var n=e(2109),s=e(2092).filter,i=e(1194),o=i("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}})},9826:(p,x,e)=>{var n=e(2109),s=e(2092).find,i=e(1223),o="find",m=!0;o in[]&&Array(1)[o](function(){m=!1}),n({target:"Array",proto:!0,forced:m},{find:function(d){return s(this,d,arguments.length>1?arguments[1]:void 0)}}),i(o)},9554:(p,x,e)=>{var n=e(2109),s=e(8533);n({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},1038:(p,x,e)=>{var n=e(2109),s=e(8457),i=e(7072),o=!i(function(m){Array.from(m)});n({target:"Array",stat:!0,forced:o},{from:s})},6699:(p,x,e)=>{var n=e(2109),s=e(1318).includes,i=e(7293),o=e(1223),m=i(function(){return!Array(1).includes()});n({target:"Array",proto:!0,forced:m},{includes:function(d){return s(this,d,arguments.length>1?arguments[1]:void 0)}}),o("includes")},2772:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(1318).indexOf,o=e(9341),m=s([].indexOf),u=!!m&&1/m([1],1,-0)<0,d=o("indexOf");n({target:"Array",proto:!0,forced:u||!d},{indexOf:function(g){var E=arguments.length>1?arguments[1]:void 0;return u?m(this,g,E)||0:i(this,g,E)}})},9753:(p,x,e)=>{var n=e(2109),s=e(3157);n({target:"Array",stat:!0},{isArray:s})},6992:(p,x,e)=>{var n=e(5656),s=e(1223),i=e(7497),o=e(9909),m=e(3070).f,u=e(654),d=e(1913),S=e(9781),g="Array Iterator",E=o.set,R=o.getterFor(g);p.exports=u(Array,"Array",function(h,O){E(this,{type:g,target:n(h),index:0,kind:O})},function(){var h=R(this),O=h.target,I=h.kind,T=h.index++;return!O||T>=O.length?(h.target=void 0,{value:void 0,done:!0}):I=="keys"?{value:T,done:!1}:I=="values"?{value:O[T],done:!1}:{value:[T,O[T]],done:!1}},"values");var b=i.Arguments=i.Array;if(s("keys"),s("values"),s("entries"),!d&&S&&b.name!=="values")try{m(b,"name",{value:"values"})}catch{}},9600:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(8361),o=e(5656),m=e(9341),u=s([].join),d=i!=Object,S=m("join",",");n({target:"Array",proto:!0,forced:d||!S},{join:function(E){return u(o(this),E===void 0?",":E)}})},4986:(p,x,e)=>{var n=e(2109),s=e(6583);n({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},1249:(p,x,e)=>{var n=e(2109),s=e(2092).map,i=e(1194),o=i("map");n({target:"Array",proto:!0,forced:!o},{map:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}})},5827:(p,x,e)=>{var n=e(2109),s=e(3671).left,i=e(9341),o=e(7392),m=e(5268),u=i("reduce"),d=!m&&o>79&&o<83;n({target:"Array",proto:!0,forced:!u||d},{reduce:function(g){var E=arguments.length;return s(this,g,E,E>1?arguments[1]:void 0)}})},5069:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(3157),o=s([].reverse),m=[1,2];n({target:"Array",proto:!0,forced:String(m)===String(m.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o(this)}})},7042:(p,x,e)=>{var n=e(2109),s=e(3157),i=e(4411),o=e(111),m=e(1400),u=e(6244),d=e(5656),S=e(6135),g=e(5112),E=e(1194),R=e(206),b=E("slice"),h=g("species"),O=Array,I=Math.max;n({target:"Array",proto:!0,forced:!b},{slice:function(B,V){var Y=d(this),k=u(Y),P=m(B,k),l=m(V===void 0?k:V,k),N,U,W;if(s(Y)&&(N=Y.constructor,i(N)&&(N===O||s(N.prototype))?N=void 0:o(N)&&(N=N[h],N===null&&(N=void 0)),N===O||N===void 0))return R(Y,P,l);for(U=new(N===void 0?O:N)(I(l-P,0)),W=0;P<l;P++,W++)P in Y&&S(U,W,Y[P]);return U.length=W,U}})},5212:(p,x,e)=>{var n=e(2109),s=e(2092).some,i=e(9341),o=i("some");n({target:"Array",proto:!0,forced:!o},{some:function(u){return s(this,u,arguments.length>1?arguments[1]:void 0)}})},2707:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(9662),o=e(7908),m=e(6244),u=e(5117),d=e(1340),S=e(7293),g=e(4362),E=e(9341),R=e(8886),b=e(256),h=e(7392),O=e(8008),I=[],T=s(I.sort),B=s(I.push),V=S(function(){I.sort(void 0)}),Y=S(function(){I.sort(null)}),k=E("sort"),P=!S(function(){if(h)return h<70;if(!(R&&R>3)){if(b)return!0;if(O)return O<603;var U="",W,Z,ee,te;for(W=65;W<76;W++){switch(Z=String.fromCharCode(W),W){case 66:case 69:case 70:case 72:ee=3;break;case 68:case 71:ee=4;break;default:ee=2}for(te=0;te<47;te++)I.push({k:Z+te,v:ee})}for(I.sort(function(me,de){return de.v-me.v}),te=0;te<I.length;te++)Z=I[te].k.charAt(0),U.charAt(U.length-1)!==Z&&(U+=Z);return U!=="DGBEFHACIJK"}}),l=V||!Y||!k||!P,N=function(U){return function(W,Z){return Z===void 0?-1:W===void 0?1:U!==void 0?+U(W,Z)||0:d(W)>d(Z)?1:-1}};n({target:"Array",proto:!0,forced:l},{sort:function(W){W!==void 0&&i(W);var Z=o(this);if(P)return W===void 0?T(Z):T(Z,W);var ee=[],te=m(Z),me,de;for(de=0;de<te;de++)de in Z&&B(ee,Z[de]);for(g(ee,N(W)),me=ee.length,de=0;de<me;)Z[de]=ee[de++];for(;de<te;)u(Z,de++);return Z}})},561:(p,x,e)=>{var n=e(2109),s=e(7908),i=e(1400),o=e(9303),m=e(6244),u=e(7207),d=e(5417),S=e(6135),g=e(5117),E=e(1194),R=E("splice"),b=Math.max,h=Math.min;n({target:"Array",proto:!0,forced:!R},{splice:function(I,T){var B=s(this),V=m(B),Y=i(I,V),k=arguments.length,P,l,N,U,W,Z;for(k===0?P=l=0:k===1?(P=0,l=V-Y):(P=k-2,l=h(b(o(T),0),V-Y)),u(V+P-l),N=d(B,l),U=0;U<l;U++)W=Y+U,W in B&&S(N,U,B[W]);if(N.length=l,P<l){for(U=Y;U<V-l;U++)W=U+l,Z=U+P,W in B?B[Z]=B[W]:g(B,Z);for(U=V;U>V-l+P;U--)g(B,U-1)}else if(P>l)for(U=V-l;U>Y;U--)W=U+l-1,Z=U+P-1,W in B?B[Z]=B[W]:g(B,Z);for(U=0;U<P;U++)B[U+Y]=arguments[U+2];return B.length=V-l+P,N}})},3843:(p,x,e)=>{var n=e(2109),s=e(1702),i=Date,o=s(i.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return o(new i)}})},8733:(p,x,e)=>{var n=e(2109),s=e(5573);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==s},{toISOString:s})},3710:(p,x,e)=>{var n=e(1702),s=e(8052),i=Date.prototype,o="Invalid Date",m="toString",u=n(i[m]),d=n(i.getTime);String(new Date(NaN))!=o&&s(i,m,function(){var g=d(this);return g===g?u(this):o})},1703:(p,x,e)=>{var n=e(2109),s=e(7854),i=e(2104),o=e(9191),m="WebAssembly",u=s[m],d=Error("e",{cause:7}).cause!==7,S=function(E,R){var b={};b[E]=o(E,R,d),n({global:!0,constructor:!0,arity:1,forced:d},b)},g=function(E,R){if(u&&u[E]){var b={};b[E]=o(m+"."+E,R,d),n({target:m,stat:!0,constructor:!0,arity:1,forced:d},b)}};S("Error",function(E){return function(b){return i(E,this,arguments)}}),S("EvalError",function(E){return function(b){return i(E,this,arguments)}}),S("RangeError",function(E){return function(b){return i(E,this,arguments)}}),S("ReferenceError",function(E){return function(b){return i(E,this,arguments)}}),S("SyntaxError",function(E){return function(b){return i(E,this,arguments)}}),S("TypeError",function(E){return function(b){return i(E,this,arguments)}}),S("URIError",function(E){return function(b){return i(E,this,arguments)}}),g("CompileError",function(E){return function(b){return i(E,this,arguments)}}),g("LinkError",function(E){return function(b){return i(E,this,arguments)}}),g("RuntimeError",function(E){return function(b){return i(E,this,arguments)}})},6647:(p,x,e)=>{var n=e(8052),s=e(7762),i=Error.prototype;i.toString!==s&&n(i,"toString",s)},4812:(p,x,e)=>{var n=e(2109),s=e(7065);n({target:"Function",proto:!0,forced:Function.bind!==s},{bind:s})},8309:(p,x,e)=>{var n=e(9781),s=e(6530).EXISTS,i=e(1702),o=e(3070).f,m=Function.prototype,u=i(m.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=i(d.exec),g="name";n&&!s&&o(m,g,{configurable:!0,get:function(){try{return S(d,u(this))[1]}catch{return""}}})},8862:(p,x,e)=>{var n=e(2109),s=e(5005),i=e(2104),o=e(6916),m=e(1702),u=e(7293),d=e(3157),S=e(614),g=e(111),E=e(2190),R=e(206),b=e(133),h=s("JSON","stringify"),O=m(/./.exec),I=m("".charAt),T=m("".charCodeAt),B=m("".replace),V=m(1 .toString),Y=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,l=!b||u(function(){var Z=s("Symbol")();return h([Z])!="[null]"||h({a:Z})!="{}"||h(Object(Z))!="{}"}),N=u(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),U=function(Z,ee){var te=R(arguments),me=ee;if(!(!g(ee)&&Z===void 0||E(Z)))return d(ee)||(ee=function(de,_){if(S(me)&&(_=o(me,this,de,_)),!E(_))return _}),te[1]=ee,i(h,null,te)},W=function(Z,ee,te){var me=I(te,ee-1),de=I(te,ee+1);return O(k,Z)&&!O(P,de)||O(P,Z)&&!O(k,me)?"\\u"+V(T(Z,0),16):Z};h&&n({target:"JSON",stat:!0,arity:3,forced:l||N},{stringify:function(ee,te,me){var de=R(arguments),_=i(l?U:h,null,de);return N&&typeof _=="string"?B(_,Y,W):_}})},3706:(p,x,e)=>{var n=e(7854),s=e(8003);s(n.JSON,"JSON",!0)},2703:(p,x,e)=>{var n=e(8003);n(Math,"Math",!0)},9653:(p,x,e)=>{var n=e(9781),s=e(7854),i=e(1702),o=e(4705),m=e(8052),u=e(2597),d=e(9587),S=e(7976),g=e(2190),E=e(7593),R=e(7293),b=e(8006).f,h=e(1236).f,O=e(3070).f,I=e(863),T=e(3111).trim,B="Number",V=s[B],Y=V.prototype,k=s.TypeError,P=i("".slice),l=i("".charCodeAt),N=function(me){var de=E(me,"number");return typeof de=="bigint"?de:U(de)},U=function(me){var de=E(me,"number"),_,G,y,F,K,q,D,c;if(g(de))throw k("Cannot convert a Symbol value to a number");if(typeof de=="string"&&de.length>2){if(de=T(de),_=l(de,0),_===43||_===45){if(G=l(de,2),G===88||G===120)return NaN}else if(_===48){switch(l(de,1)){case 66:case 98:y=2,F=49;break;case 79:case 111:y=8,F=55;break;default:return+de}for(K=P(de,2),q=K.length,D=0;D<q;D++)if(c=l(K,D),c<48||c>F)return NaN;return parseInt(K,y)}}return+de};if(o(B,!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var W=function(de){var _=arguments.length<1?0:V(N(de)),G=this;return S(Y,G)&&R(function(){I(G)})?d(Object(_),G,W):_},Z=n?b(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ee=0,te;Z.length>ee;ee++)u(V,te=Z[ee])&&!u(W,te)&&O(W,te,h(V,te));W.prototype=Y,Y.constructor=W,m(s,B,W,{constructor:!0})}},6977:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(9303),o=e(863),m=e(8415),u=e(7293),d=RangeError,S=String,g=Math.floor,E=s(m),R=s("".slice),b=s(1 .toFixed),h=function(Y,k,P){return k===0?P:k%2===1?h(Y,k-1,P*Y):h(Y*Y,k/2,P)},O=function(Y){for(var k=0,P=Y;P>=4096;)k+=12,P/=4096;for(;P>=2;)k+=1,P/=2;return k},I=function(Y,k,P){for(var l=-1,N=P;++l<6;)N+=k*Y[l],Y[l]=N%1e7,N=g(N/1e7)},T=function(Y,k){for(var P=6,l=0;--P>=0;)l+=Y[P],Y[P]=g(l/k),l=l%k*1e7},B=function(Y){for(var k=6,P="";--k>=0;)if(P!==""||k===0||Y[k]!==0){var l=S(Y[k]);P=P===""?l:P+E("0",7-l.length)+l}return P},V=u(function(){return b(8e-5,3)!=="0.000"||b(.9,0)!=="1"||b(1.255,2)!=="1.25"||b(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!u(function(){b({})});n({target:"Number",proto:!0,forced:V},{toFixed:function(k){var P=o(this),l=i(k),N=[0,0,0,0,0,0],U="",W="0",Z,ee,te,me;if(l<0||l>20)throw d("Incorrect fraction digits");if(P!=P)return"NaN";if(P<=-1e21||P>=1e21)return S(P);if(P<0&&(U="-",P=-P),P>1e-21)if(Z=O(P*h(2,69,1))-69,ee=Z<0?P*h(2,-Z,1):P/h(2,Z,1),ee*=4503599627370496,Z=52-Z,Z>0){for(I(N,0,ee),te=l;te>=7;)I(N,1e7,0),te-=7;for(I(N,h(10,te,1),0),te=Z-1;te>=23;)T(N,8388608),te-=23;T(N,1<<te),I(N,1,1),T(N,2),W=B(N)}else I(N,0,ee),I(N,1<<-Z,0),W=B(N)+E("0",l);return l>0?(me=W.length,W=U+(me<=l?"0."+E("0",l-me)+W:R(W,0,me-l)+"."+R(W,me-l))):W=U+W,W}})},8011:(p,x,e)=>{var n=e(2109),s=e(9781),i=e(30);n({target:"Object",stat:!0,sham:!s},{create:i})},3321:(p,x,e)=>{var n=e(2109),s=e(9781),i=e(6048).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!s},{defineProperties:i})},9070:(p,x,e)=>{var n=e(2109),s=e(9781),i=e(3070).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!s},{defineProperty:i})},9720:(p,x,e)=>{var n=e(2109),s=e(4699).entries;n({target:"Object",stat:!0},{entries:function(o){return s(o)}})},5003:(p,x,e)=>{var n=e(2109),s=e(7293),i=e(5656),o=e(1236).f,m=e(9781),u=s(function(){o(1)}),d=!m||u;n({target:"Object",stat:!0,forced:d,sham:!m},{getOwnPropertyDescriptor:function(g,E){return o(i(g),E)}})},9337:(p,x,e)=>{var n=e(2109),s=e(9781),i=e(3887),o=e(5656),m=e(1236),u=e(6135);n({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(S){for(var g=o(S),E=m.f,R=i(g),b={},h=0,O,I;R.length>h;)I=E(g,O=R[h++]),I!==void 0&&u(b,O,I);return b}})},9660:(p,x,e)=>{var n=e(2109),s=e(133),i=e(7293),o=e(5181),m=e(7908),u=!s||i(function(){o.f(1)});n({target:"Object",stat:!0,forced:u},{getOwnPropertySymbols:function(S){var g=o.f;return g?g(m(S)):[]}})},489:(p,x,e)=>{var n=e(2109),s=e(7293),i=e(7908),o=e(9518),m=e(8544),u=s(function(){o(1)});n({target:"Object",stat:!0,forced:u,sham:!m},{getPrototypeOf:function(S){return o(i(S))}})},7941:(p,x,e)=>{var n=e(2109),s=e(7908),i=e(1956),o=e(7293),m=o(function(){i(1)});n({target:"Object",stat:!0,forced:m},{keys:function(d){return i(s(d))}})},8304:(p,x,e)=>{var n=e(2109),s=e(7674);n({target:"Object",stat:!0},{setPrototypeOf:s})},1539:(p,x,e)=>{var n=e(1694),s=e(8052),i=e(288);n||s(Object.prototype,"toString",i,{unsafe:!0})},4678:(p,x,e)=>{var n=e(2109),s=e(2814);n({global:!0,forced:parseFloat!=s},{parseFloat:s})},821:(p,x,e)=>{var n=e(2109),s=e(6916),i=e(9662),o=e(8523),m=e(2534),u=e(408),d=e(612);n({target:"Promise",stat:!0,forced:d},{all:function(g){var E=this,R=o.f(E),b=R.resolve,h=R.reject,O=m(function(){var I=i(E.resolve),T=[],B=0,V=1;u(g,function(Y){var k=B++,P=!1;V++,s(I,E,Y).then(function(l){P||(P=!0,T[k]=l,--V||b(T))},h)}),--V||b(T)});return O.error&&h(O.value),R.promise}})},4164:(p,x,e)=>{var n=e(2109),s=e(1913),i=e(3702).CONSTRUCTOR,o=e(2492),m=e(5005),u=e(614),d=e(8052),S=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(E){return this.then(void 0,E)}}),!s&&u(o)){var g=m("Promise").prototype.catch;S.catch!==g&&d(S,"catch",g,{unsafe:!0})}},3401:(p,x,e)=>{var n=e(2109),s=e(1913),i=e(5268),o=e(7854),m=e(6916),u=e(8052),d=e(7674),S=e(8003),g=e(6340),E=e(9662),R=e(614),b=e(111),h=e(5787),O=e(6707),I=e(261).set,T=e(5948),B=e(842),V=e(2534),Y=e(8572),k=e(9909),P=e(2492),l=e(3702),N=e(8523),U="Promise",W=l.CONSTRUCTOR,Z=l.REJECTION_EVENT,ee=l.SUBCLASSING,te=k.getterFor(U),me=k.set,de=P&&P.prototype,_=P,G=de,y=o.TypeError,F=o.document,K=o.process,q=N.f,D=q,c=!!(F&&F.createEvent&&o.dispatchEvent),f="unhandledrejection",v="rejectionhandled",A=0,j=1,X=2,Q=1,z=2,ne,ae,be,Oe,Ce=function(Ee){var Fe;return b(Ee)&&R(Fe=Ee.then)?Fe:!1},Ge=function(Ee,Fe){var ze=Fe.value,Xe=Fe.state==j,We=Xe?Ee.ok:Ee.fail,ke=Ee.resolve,tt=Ee.reject,ct=Ee.domain,nt,He,qe;try{We?(Xe||(Fe.rejection===z&&H(Fe),Fe.rejection=Q),We===!0?nt=ze:(ct&&ct.enter(),nt=We(ze),ct&&(ct.exit(),qe=!0)),nt===Ee.promise?tt(y("Promise-chain cycle")):(He=Ce(nt))?m(He,nt,ke,tt):ke(nt)):tt(ze)}catch(Je){ct&&!qe&&ct.exit(),tt(Je)}},Ye=function(Ee,Fe){Ee.notified||(Ee.notified=!0,T(function(){for(var ze=Ee.reactions,Xe;Xe=ze.get();)Ge(Xe,Ee);Ee.notified=!1,Fe&&!Ee.rejection&&xt(Ee)}))},st=function(Ee,Fe,ze){var Xe,We;c?(Xe=F.createEvent("Event"),Xe.promise=Fe,Xe.reason=ze,Xe.initEvent(Ee,!1,!0),o.dispatchEvent(Xe)):Xe={promise:Fe,reason:ze},!Z&&(We=o["on"+Ee])?We(Xe):Ee===f&&B("Unhandled promise rejection",ze)},xt=function(Ee){m(I,o,function(){var Fe=Ee.facade,ze=Ee.value,Xe=C(Ee),We;if(Xe&&(We=V(function(){i?K.emit("unhandledRejection",ze,Fe):st(f,Fe,ze)}),Ee.rejection=i||C(Ee)?z:Q,We.error))throw We.value})},C=function(Ee){return Ee.rejection!==Q&&!Ee.parent},H=function(Ee){m(I,o,function(){var Fe=Ee.facade;i?K.emit("rejectionHandled",Fe):st(v,Fe,Ee.value)})},Le=function(Ee,Fe,ze){return function(Xe){Ee(Fe,Xe,ze)}},Te=function(Ee,Fe,ze){Ee.done||(Ee.done=!0,ze&&(Ee=ze),Ee.value=Fe,Ee.state=X,Ye(Ee,!0))},Ve=function(Ee,Fe,ze){if(!Ee.done){Ee.done=!0,ze&&(Ee=ze);try{if(Ee.facade===Fe)throw y("Promise can't be resolved itself");var Xe=Ce(Fe);Xe?T(function(){var We={done:!1};try{m(Xe,Fe,Le(Ve,We,Ee),Le(Te,We,Ee))}catch(ke){Te(We,ke,Ee)}}):(Ee.value=Fe,Ee.state=j,Ye(Ee,!1))}catch(We){Te({done:!1},We,Ee)}}};if(W&&(_=function(Fe){h(this,G),E(Fe),m(ne,this);var ze=te(this);try{Fe(Le(Ve,ze),Le(Te,ze))}catch(Xe){Te(ze,Xe)}},G=_.prototype,ne=function(Fe){me(this,{type:U,done:!1,notified:!1,parent:!1,reactions:new Y,rejection:!1,state:A,value:void 0})},ne.prototype=u(G,"then",function(Fe,ze){var Xe=te(this),We=q(O(this,_));return Xe.parent=!0,We.ok=R(Fe)?Fe:!0,We.fail=R(ze)&&ze,We.domain=i?K.domain:void 0,Xe.state==A?Xe.reactions.add(We):T(function(){Ge(We,Xe)}),We.promise}),ae=function(){var Ee=new ne,Fe=te(Ee);this.promise=Ee,this.resolve=Le(Ve,Fe),this.reject=Le(Te,Fe)},N.f=q=function(Ee){return Ee===_||Ee===be?new ae(Ee):D(Ee)},!s&&R(P)&&de!==Object.prototype)){Oe=de.then,ee||u(de,"then",function(Fe,ze){var Xe=this;return new _(function(We,ke){m(Oe,Xe,We,ke)}).then(Fe,ze)},{unsafe:!0});try{delete de.constructor}catch{}d&&d(de,G)}n({global:!0,constructor:!0,wrap:!0,forced:W},{Promise:_}),S(_,U,!1,!0),g(U)},8674:(p,x,e)=>{e(3401),e(821),e(4164),e(6027),e(683),e(6294)},6027:(p,x,e)=>{var n=e(2109),s=e(6916),i=e(9662),o=e(8523),m=e(2534),u=e(408),d=e(612);n({target:"Promise",stat:!0,forced:d},{race:function(g){var E=this,R=o.f(E),b=R.reject,h=m(function(){var O=i(E.resolve);u(g,function(I){s(O,E,I).then(R.resolve,b)})});return h.error&&b(h.value),R.promise}})},683:(p,x,e)=>{var n=e(2109),s=e(6916),i=e(8523),o=e(3702).CONSTRUCTOR;n({target:"Promise",stat:!0,forced:o},{reject:function(u){var d=i.f(this);return s(d.reject,void 0,u),d.promise}})},6294:(p,x,e)=>{var n=e(2109),s=e(5005),i=e(1913),o=e(2492),m=e(3702).CONSTRUCTOR,u=e(9478),d=s("Promise"),S=i&&!m;n({target:"Promise",stat:!0,forced:i||m},{resolve:function(E){return u(S&&this===d?o:this,E)}})},4603:(p,x,e)=>{var n=e(9781),s=e(7854),i=e(1702),o=e(4705),m=e(9587),u=e(8880),d=e(8006).f,S=e(7976),g=e(7850),E=e(1340),R=e(4706),b=e(2999),h=e(2626),O=e(8052),I=e(7293),T=e(2597),B=e(9909).enforce,V=e(6340),Y=e(5112),k=e(9441),P=e(7168),l=Y("match"),N=s.RegExp,U=N.prototype,W=s.SyntaxError,Z=i(U.exec),ee=i("".charAt),te=i("".replace),me=i("".indexOf),de=i("".slice),_=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,G=/a/g,y=/a/g,F=new N(G)!==G,K=b.MISSED_STICKY,q=b.UNSUPPORTED_Y,D=n&&(!F||K||k||P||I(function(){return y[l]=!1,N(G)!=G||N(y)==y||N(G,"i")!="/a/i"})),c=function(X){for(var Q=X.length,z=0,ne="",ae=!1,be;z<=Q;z++){if(be=ee(X,z),be==="\\"){ne+=be+ee(X,++z);continue}!ae&&be==="."?ne+="[\\s\\S]":(be==="["?ae=!0:be==="]"&&(ae=!1),ne+=be)}return ne},f=function(X){for(var Q=X.length,z=0,ne="",ae=[],be={},Oe=!1,Ce=!1,Ge=0,Ye="",st;z<=Q;z++){if(st=ee(X,z),st==="\\")st=st+ee(X,++z);else if(st==="]")Oe=!1;else if(!Oe)switch(!0){case st==="[":Oe=!0;break;case st==="(":Z(_,de(X,z+1))&&(z+=2,Ce=!0),ne+=st,Ge++;continue;case(st===">"&&Ce):if(Ye===""||T(be,Ye))throw new W("Invalid capture group name");be[Ye]=!0,ae[ae.length]=[Ye,Ge],Ce=!1,Ye="";continue}Ce?Ye+=st:ne+=st}return[ne,ae]};if(o("RegExp",D)){for(var v=function(Q,z){var ne=S(U,this),ae=g(Q),be=z===void 0,Oe=[],Ce=Q,Ge,Ye,st,xt,C,H;if(!ne&&ae&&be&&Q.constructor===v)return Q;if((ae||S(U,Q))&&(Q=Q.source,be&&(z=R(Ce))),Q=Q===void 0?"":E(Q),z=z===void 0?"":E(z),Ce=Q,k&&"dotAll"in G&&(Ye=!!z&&me(z,"s")>-1,Ye&&(z=te(z,/s/g,""))),Ge=z,K&&"sticky"in G&&(st=!!z&&me(z,"y")>-1,st&&q&&(z=te(z,/y/g,""))),P&&(xt=f(Q),Q=xt[0],Oe=xt[1]),C=m(N(Q,z),ne?this:U,v),(Ye||st||Oe.length)&&(H=B(C),Ye&&(H.dotAll=!0,H.raw=v(c(Q),Ge)),st&&(H.sticky=!0),Oe.length&&(H.groups=Oe)),Q!==Ce)try{u(C,"source",Ce===""?"(?:)":Ce)}catch{}return C},A=d(N),j=0;A.length>j;)h(v,N,A[j++]);U.constructor=v,v.prototype=U,O(s,"RegExp",v,{constructor:!0})}V("RegExp")},8450:(p,x,e)=>{var n=e(9781),s=e(9441),i=e(4326),o=e(7045),m=e(9909).get,u=RegExp.prototype,d=TypeError;n&&s&&o(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if(i(this)==="RegExp")return!!m(this).dotAll;throw d("Incompatible receiver, RegExp required")}}})},4916:(p,x,e)=>{var n=e(2109),s=e(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},8386:(p,x,e)=>{var n=e(9781),s=e(2999).MISSED_STICKY,i=e(4326),o=e(7045),m=e(9909).get,u=RegExp.prototype,d=TypeError;n&&s&&o(u,"sticky",{configurable:!0,get:function(){if(this!==u){if(i(this)==="RegExp")return!!m(this).sticky;throw d("Incompatible receiver, RegExp required")}}})},7601:(p,x,e)=>{e(4916);var n=e(2109),s=e(6916),i=e(1702),o=e(614),m=e(111),u=function(){var g=!1,E=/[ac]/;return E.exec=function(){return g=!0,/./.exec.apply(this,arguments)},E.test("abc")===!0&&g}(),d=TypeError,S=i(/./.test);n({target:"RegExp",proto:!0,forced:!u},{test:function(g){var E=this.exec;if(!o(E))return S(this,g);var R=s(E,this,g);if(R!==null&&!m(R))throw new d("RegExp exec method returned something other than an Object or null");return!!R}})},9714:(p,x,e)=>{var n=e(6530).PROPER,s=e(8052),i=e(9670),o=e(1340),m=e(7293),u=e(4706),d="toString",S=RegExp.prototype,g=S[d],E=m(function(){return g.call({source:"a",flags:"b"})!="/a/b"}),R=n&&g.name!=d;(E||R)&&s(RegExp.prototype,d,function(){var h=i(this),O=o(h.source),I=o(u(h));return"/"+O+"/"+I},{unsafe:!0})},7227:(p,x,e)=>{var n=e(7710),s=e(5631);n("Set",function(i){return function(){return i(this,arguments.length?arguments[0]:void 0)}},s)},189:(p,x,e)=>{e(7227)},915:(p,x,e)=>{var n=e(2109),s=e(4230),i=e(3429);n({target:"String",proto:!0,forced:i("bold")},{bold:function(){return s(this,"b","","")}})},2023:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(3929),o=e(4488),m=e(1340),u=e(4964),d=s("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(g){return!!~d(m(o(this)),m(i(g)),arguments.length>1?arguments[1]:void 0)}})},8734:(p,x,e)=>{var n=e(2109),s=e(4230),i=e(3429);n({target:"String",proto:!0,forced:i("italics")},{italics:function(){return s(this,"i","","")}})},8783:(p,x,e)=>{var n=e(8710).charAt,s=e(1340),i=e(9909),o=e(654),m="String Iterator",u=i.set,d=i.getterFor(m);o(String,"String",function(S){u(this,{type:m,string:s(S),index:0})},function(){var g=d(this),E=g.string,R=g.index,b;return R>=E.length?{value:void 0,done:!0}:(b=n(E,R),g.index+=b.length,{value:b,done:!1})})},6373:(p,x,e)=>{var n=e(2109),s=e(6916),i=e(1702),o=e(4994),m=e(4488),u=e(7466),d=e(1340),S=e(9670),g=e(4326),E=e(7850),R=e(4706),b=e(8173),h=e(8052),O=e(7293),I=e(5112),T=e(6707),B=e(1530),V=e(7651),Y=e(9909),k=e(1913),P=I("matchAll"),l="RegExp String",N=l+" Iterator",U=Y.set,W=Y.getterFor(N),Z=RegExp.prototype,ee=TypeError,te=i("".indexOf),me=i("".matchAll),de=!!me&&!O(function(){me("a",/./)}),_=o(function(F,K,q,D){U(this,{type:N,regexp:F,string:K,global:q,unicode:D,done:!1})},l,function(){var F=W(this);if(F.done)return{value:void 0,done:!0};var K=F.regexp,q=F.string,D=V(K,q);return D===null?{value:void 0,done:F.done=!0}:F.global?(d(D[0])===""&&(K.lastIndex=B(q,u(K.lastIndex),F.unicode)),{value:D,done:!1}):(F.done=!0,{value:D,done:!1})}),G=function(y){var F=S(this),K=d(y),q=T(F,RegExp),D=d(R(F)),c,f,v;return c=new q(q===RegExp?F.source:F,D),f=!!~te(D,"g"),v=!!~te(D,"u"),c.lastIndex=u(F.lastIndex),new _(c,K,f,v)};n({target:"String",proto:!0,forced:de},{matchAll:function(F){var K=m(this),q,D,c,f;if(F!=null){if(E(F)&&(q=d(m(R(F))),!~te(q,"g")))throw ee("`.matchAll` does not allow non-global regexes");if(de)return me(K,F);if(c=b(F,P),c===void 0&&k&&g(F)=="RegExp"&&(c=G),c)return s(c,F,K)}else if(de)return me(K,F);return D=d(K),f=new RegExp(F,"g"),k?s(G,f,D):f[P](D)}}),k||P in Z||h(Z,P,G)},4723:(p,x,e)=>{var n=e(6916),s=e(7007),i=e(9670),o=e(7466),m=e(1340),u=e(4488),d=e(8173),S=e(1530),g=e(7651);s("match",function(E,R,b){return[function(O){var I=u(this),T=O==null?void 0:d(O,E);return T?n(T,O,I):new RegExp(O)[E](m(I))},function(h){var O=i(this),I=m(h),T=b(R,O,I);if(T.done)return T.value;if(!O.global)return g(O,I);var B=O.unicode;O.lastIndex=0;for(var V=[],Y=0,k;(k=g(O,I))!==null;){var P=m(k[0]);V[Y]=P,P===""&&(O.lastIndex=S(I,o(O.lastIndex),B)),Y++}return Y===0?null:V}]})},8757:(p,x,e)=>{var n=e(2109),s=e(6916),i=e(1702),o=e(4488),m=e(614),u=e(7850),d=e(1340),S=e(8173),g=e(4706),E=e(647),R=e(5112),b=e(1913),h=R("replace"),O=TypeError,I=i("".indexOf),T=i("".replace),B=i("".slice),V=Math.max,Y=function(k,P,l){return l>k.length?-1:P===""?l:I(k,P,l)};n({target:"String",proto:!0},{replaceAll:function(P,l){var N=o(this),U,W,Z,ee,te,me,de,_,G,y=0,F=0,K="";if(P!=null){if(U=u(P),U&&(W=d(o(g(P))),!~I(W,"g")))throw O("`.replaceAll` does not allow non-global regexes");if(Z=S(P,h),Z)return s(Z,P,N,l);if(b&&U)return T(d(N),P,l)}for(ee=d(N),te=d(P),me=m(l),me||(l=d(l)),de=te.length,_=V(1,de),y=Y(ee,te,0);y!==-1;)G=me?d(l(te,y,ee)):E(te,ee,y,[],void 0,l),K+=B(ee,F,y)+G,F=y+de,y=Y(ee,te,y+_);return F<ee.length&&(K+=B(ee,F)),K}})},5306:(p,x,e)=>{var n=e(2104),s=e(6916),i=e(1702),o=e(7007),m=e(7293),u=e(9670),d=e(614),S=e(9303),g=e(7466),E=e(1340),R=e(4488),b=e(1530),h=e(8173),O=e(647),I=e(7651),T=e(5112),B=T("replace"),V=Math.max,Y=Math.min,k=i([].concat),P=i([].push),l=i("".indexOf),N=i("".slice),U=function(te){return te===void 0?te:String(te)},W=function(){return"a".replace(/./,"$0")==="$0"}(),Z=function(){return/./[B]?/./[B]("a","$0")==="":!1}(),ee=!m(function(){var te=/./;return te.exec=function(){var me=[];return me.groups={a:"7"},me},"".replace(te,"$<a>")!=="7"});o("replace",function(te,me,de){var _=Z?"$":"$0";return[function(y,F){var K=R(this),q=y==null?void 0:h(y,B);return q?s(q,y,K,F):s(me,E(K),y,F)},function(G,y){var F=u(this),K=E(G);if(typeof y=="string"&&l(y,_)===-1&&l(y,"$<")===-1){var q=de(me,F,K,y);if(q.done)return q.value}var D=d(y);D||(y=E(y));var c=F.global;if(c){var f=F.unicode;F.lastIndex=0}for(var v=[];;){var A=I(F,K);if(A===null||(P(v,A),!c))break;var j=E(A[0]);j===""&&(F.lastIndex=b(K,g(F.lastIndex),f))}for(var X="",Q=0,z=0;z<v.length;z++){A=v[z];for(var ne=E(A[0]),ae=V(Y(S(A.index),K.length),0),be=[],Oe=1;Oe<A.length;Oe++)P(be,U(A[Oe]));var Ce=A.groups;if(D){var Ge=k([ne],be,ae,K);Ce!==void 0&&P(Ge,Ce);var Ye=E(n(y,void 0,Ge))}else Ye=O(ne,K,ae,be,Ce,y);ae>=Q&&(X+=N(K,Q,ae)+Ye,Q=ae+ne.length)}return X+N(K,Q)}]},!ee||!W||Z)},4765:(p,x,e)=>{var n=e(6916),s=e(7007),i=e(9670),o=e(4488),m=e(1150),u=e(1340),d=e(8173),S=e(7651);s("search",function(g,E,R){return[function(h){var O=o(this),I=h==null?void 0:d(h,g);return I?n(I,h,O):new RegExp(h)[g](u(O))},function(b){var h=i(this),O=u(b),I=R(E,h,O);if(I.done)return I.value;var T=h.lastIndex;m(T,0)||(h.lastIndex=0);var B=S(h,O);return m(h.lastIndex,T)||(h.lastIndex=T),B===null?-1:B.index}]})},6755:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(1236).f,o=e(7466),m=e(1340),u=e(3929),d=e(4488),S=e(4964),g=e(1913),E=s("".startsWith),R=s("".slice),b=Math.min,h=S("startsWith"),O=!g&&!h&&!!function(){var I=i(String.prototype,"startsWith");return I&&!I.writable}();n({target:"String",proto:!0,forced:!O&&!h},{startsWith:function(T){var B=m(d(this));u(T);var V=o(b(arguments.length>1?arguments[1]:void 0,B.length)),Y=m(T);return E?E(B,Y,V):R(B,V,V+Y.length)===Y}})},7397:(p,x,e)=>{var n=e(2109),s=e(4230),i=e(3429);n({target:"String",proto:!0,forced:i("strike")},{strike:function(){return s(this,"strike","","")}})},3650:(p,x,e)=>{var n=e(2109),s=e(1702),i=e(4488),o=e(9303),m=e(1340),u=s("".slice),d=Math.max,S=Math.min,g=!"".substr||"ab".substr(-1)!=="b";n({target:"String",proto:!0,forced:g},{substr:function(R,b){var h=m(i(this)),O=h.length,I=o(R),T,B;return I===1/0&&(I=0),I<0&&(I=d(O+I,0)),T=b===void 0?O:o(b),T<=0||T===1/0?"":(B=S(I+T,O),I>=B?"":u(h,I,B))}})},3210:(p,x,e)=>{var n=e(2109),s=e(3111).trim,i=e(6091);n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return s(this)}})},2443:(p,x,e)=>{var n=e(7235);n("asyncIterator")},4032:(p,x,e)=>{var n=e(2109),s=e(7854),i=e(6916),o=e(1702),m=e(1913),u=e(9781),d=e(133),S=e(7293),g=e(2597),E=e(7976),R=e(9670),b=e(5656),h=e(4948),O=e(1340),I=e(9114),T=e(30),B=e(1956),V=e(8006),Y=e(1156),k=e(5181),P=e(1236),l=e(3070),N=e(6048),U=e(5296),W=e(8052),Z=e(2309),ee=e(6200),te=e(3501),me=e(9711),de=e(5112),_=e(6061),G=e(7235),y=e(6532),F=e(8003),K=e(9909),q=e(2092).forEach,D=ee("hidden"),c="Symbol",f="prototype",v=K.set,A=K.getterFor(c),j=Object[f],X=s.Symbol,Q=X&&X[f],z=s.TypeError,ne=s.QObject,ae=P.f,be=l.f,Oe=Y.f,Ce=U.f,Ge=o([].push),Ye=Z("symbols"),st=Z("op-symbols"),xt=Z("wks"),C=!ne||!ne[f]||!ne[f].findChild,H=u&&S(function(){return T(be({},"a",{get:function(){return be(this,"a",{value:7}).a}})).a!=7})?function(ke,tt,ct){var nt=ae(j,tt);nt&&delete j[tt],be(ke,tt,ct),nt&&ke!==j&&be(j,tt,nt)}:be,Le=function(ke,tt){var ct=Ye[ke]=T(Q);return v(ct,{type:c,tag:ke,description:tt}),u||(ct.description=tt),ct},Te=function(tt,ct,nt){tt===j&&Te(st,ct,nt),R(tt);var He=h(ct);return R(nt),g(Ye,He)?(nt.enumerable?(g(tt,D)&&tt[D][He]&&(tt[D][He]=!1),nt=T(nt,{enumerable:I(0,!1)})):(g(tt,D)||be(tt,D,I(1,{})),tt[D][He]=!0),H(tt,He,nt)):be(tt,He,nt)},Ve=function(tt,ct){R(tt);var nt=b(ct),He=B(nt).concat(We(nt));return q(He,function(qe){(!u||i(Fe,nt,qe))&&Te(tt,qe,nt[qe])}),tt},Ee=function(tt,ct){return ct===void 0?T(tt):Ve(T(tt),ct)},Fe=function(tt){var ct=h(tt),nt=i(Ce,this,ct);return this===j&&g(Ye,ct)&&!g(st,ct)?!1:nt||!g(this,ct)||!g(Ye,ct)||g(this,D)&&this[D][ct]?nt:!0},ze=function(tt,ct){var nt=b(tt),He=h(ct);if(!(nt===j&&g(Ye,He)&&!g(st,He))){var qe=ae(nt,He);return qe&&g(Ye,He)&&!(g(nt,D)&&nt[D][He])&&(qe.enumerable=!0),qe}},Xe=function(tt){var ct=Oe(b(tt)),nt=[];return q(ct,function(He){!g(Ye,He)&&!g(te,He)&&Ge(nt,He)}),nt},We=function(ke){var tt=ke===j,ct=Oe(tt?st:b(ke)),nt=[];return q(ct,function(He){g(Ye,He)&&(!tt||g(j,He))&&Ge(nt,Ye[He])}),nt};d||(X=function(){if(E(Q,this))throw z("Symbol is not a constructor");var tt=!arguments.length||arguments[0]===void 0?void 0:O(arguments[0]),ct=me(tt),nt=function(He){this===j&&i(nt,st,He),g(this,D)&&g(this[D],ct)&&(this[D][ct]=!1),H(this,ct,I(1,He))};return u&&C&&H(j,ct,{configurable:!0,set:nt}),Le(ct,tt)},Q=X[f],W(Q,"toString",function(){return A(this).tag}),W(X,"withoutSetter",function(ke){return Le(me(ke),ke)}),U.f=Fe,l.f=Te,N.f=Ve,P.f=ze,V.f=Y.f=Xe,k.f=We,_.f=function(ke){return Le(de(ke),ke)},u&&(be(Q,"description",{configurable:!0,get:function(){return A(this).description}}),m||W(j,"propertyIsEnumerable",Fe,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:X}),q(B(xt),function(ke){G(ke)}),n({target:c,stat:!0,forced:!d},{useSetter:function(){C=!0},useSimple:function(){C=!1}}),n({target:"Object",stat:!0,forced:!d,sham:!u},{create:Ee,defineProperty:Te,defineProperties:Ve,getOwnPropertyDescriptor:ze}),n({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Xe}),y(),F(X,c),te[D]=!0},1817:(p,x,e)=>{var n=e(2109),s=e(9781),i=e(7854),o=e(1702),m=e(2597),u=e(614),d=e(7976),S=e(1340),g=e(3070).f,E=e(9920),R=i.Symbol,b=R&&R.prototype;if(s&&u(R)&&(!("description"in b)||R().description!==void 0)){var h={},O=function(){var l=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),N=d(b,this)?new R(l):l===void 0?R():R(l);return l===""&&(h[N]=!0),N};E(O,R),O.prototype=b,b.constructor=O;var I=String(R("test"))=="Symbol(test)",T=o(b.toString),B=o(b.valueOf),V=/^Symbol\((.*)\)[^)]+$/,Y=o("".replace),k=o("".slice);g(b,"description",{configurable:!0,get:function(){var l=B(this),N=T(l);if(m(h,l))return"";var U=I?k(N,7,-1):Y(N,V,"$1");return U===""?void 0:U}}),n({global:!0,constructor:!0,forced:!0},{Symbol:O})}},763:(p,x,e)=>{var n=e(2109),s=e(5005),i=e(2597),o=e(1340),m=e(2309),u=e(735),d=m("string-to-symbol-registry"),S=m("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{for:function(g){var E=o(g);if(i(d,E))return d[E];var R=s("Symbol")(E);return d[E]=R,S[R]=E,R}})},2165:(p,x,e)=>{var n=e(7235);n("iterator")},2526:(p,x,e)=>{e(4032),e(763),e(6620),e(8862),e(9660)},6620:(p,x,e)=>{var n=e(2109),s=e(2597),i=e(2190),o=e(6330),m=e(2309),u=e(735),d=m("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!u},{keyFor:function(g){if(!i(g))throw TypeError(o(g)+" is not a symbol");if(s(d,g))return d[g]}})},3680:(p,x,e)=>{var n=e(5005),s=e(7235),i=e(8003);s("toStringTag"),i(n("Symbol"),"Symbol")},8675:(p,x,e)=>{var n=e(260),s=e(6244),i=e(9303),o=n.aTypedArray,m=n.exportTypedArrayMethod;m("at",function(d){var S=o(this),g=s(S),E=i(d),R=E>=0?E:g+E;return R<0||R>=g?void 0:S[R]})},2990:(p,x,e)=>{var n=e(1702),s=e(260),i=e(1048),o=n(i),m=s.aTypedArray,u=s.exportTypedArrayMethod;u("copyWithin",function(S,g){return o(m(this),S,g,arguments.length>2?arguments[2]:void 0)})},8927:(p,x,e)=>{var n=e(260),s=e(2092).every,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("every",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},3105:(p,x,e)=>{var n=e(260),s=e(1285),i=e(4599),o=e(648),m=e(6916),u=e(1702),d=e(7293),S=n.aTypedArray,g=n.exportTypedArrayMethod,E=u("".slice),R=d(function(){var b=0;return new Int8Array(2).fill({valueOf:function(){return b++}}),b!==1});g("fill",function(h){var O=arguments.length;S(this);var I=E(o(this),0,3)==="Big"?i(h):+h;return m(s,this,I,O>1?arguments[1]:void 0,O>2?arguments[2]:void 0)},R)},5035:(p,x,e)=>{var n=e(260),s=e(2092).filter,i=e(3074),o=n.aTypedArray,m=n.exportTypedArrayMethod;m("filter",function(d){var S=s(o(this),d,arguments.length>1?arguments[1]:void 0);return i(this,S)})},7174:(p,x,e)=>{var n=e(260),s=e(2092).findIndex,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("findIndex",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},2958:(p,x,e)=>{var n=e(260),s=e(9671).findLastIndex,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("findLastIndex",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},3408:(p,x,e)=>{var n=e(260),s=e(9671).findLast,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("findLast",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},4345:(p,x,e)=>{var n=e(260),s=e(2092).find,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("find",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},4197:(p,x,e)=>{var n=e(9843);n("Float32",function(s){return function(o,m,u){return s(this,o,m,u)}})},2846:(p,x,e)=>{var n=e(260),s=e(2092).forEach,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("forEach",function(u){s(i(this),u,arguments.length>1?arguments[1]:void 0)})},4731:(p,x,e)=>{var n=e(260),s=e(1318).includes,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("includes",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},7209:(p,x,e)=>{var n=e(260),s=e(1318).indexOf,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("indexOf",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},5109:(p,x,e)=>{var n=e(9843);n("Int16",function(s){return function(o,m,u){return s(this,o,m,u)}})},7145:(p,x,e)=>{var n=e(9843);n("Int8",function(s){return function(o,m,u){return s(this,o,m,u)}})},6319:(p,x,e)=>{var n=e(7854),s=e(7293),i=e(1702),o=e(260),m=e(6992),u=e(5112),d=u("iterator"),S=n.Uint8Array,g=i(m.values),E=i(m.keys),R=i(m.entries),b=o.aTypedArray,h=o.exportTypedArrayMethod,O=S&&S.prototype,I=!s(function(){O[d].call([1])}),T=!!O&&O.values&&O[d]===O.values&&O.values.name==="values",B=function(){return g(b(this))};h("entries",function(){return R(b(this))},I),h("keys",function(){return E(b(this))},I),h("values",B,I||!T,{name:"values"}),h(d,B,I||!T,{name:"values"})},8867:(p,x,e)=>{var n=e(260),s=e(1702),i=n.aTypedArray,o=n.exportTypedArrayMethod,m=s([].join);o("join",function(d){return m(i(this),d)})},7789:(p,x,e)=>{var n=e(260),s=e(2104),i=e(6583),o=n.aTypedArray,m=n.exportTypedArrayMethod;m("lastIndexOf",function(d){var S=arguments.length;return s(i,o(this),S>1?[d,arguments[1]]:[d])})},3739:(p,x,e)=>{var n=e(260),s=e(2092).map,i=e(6304),o=n.aTypedArray,m=n.exportTypedArrayMethod;m("map",function(d){return s(o(this),d,arguments.length>1?arguments[1]:void 0,function(S,g){return new(i(S))(g)})})},4483:(p,x,e)=>{var n=e(260),s=e(3671).right,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("reduceRight",function(u){var d=arguments.length;return s(i(this),u,d,d>1?arguments[1]:void 0)})},9368:(p,x,e)=>{var n=e(260),s=e(3671).left,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("reduce",function(u){var d=arguments.length;return s(i(this),u,d,d>1?arguments[1]:void 0)})},2056:(p,x,e)=>{var n=e(260),s=n.aTypedArray,i=n.exportTypedArrayMethod,o=Math.floor;i("reverse",function(){for(var u=this,d=s(u).length,S=o(d/2),g=0,E;g<S;)E=u[g],u[g++]=u[--d],u[d]=E;return u})},3462:(p,x,e)=>{var n=e(7854),s=e(6916),i=e(260),o=e(6244),m=e(4590),u=e(7908),d=e(7293),S=n.RangeError,g=n.Int8Array,E=g&&g.prototype,R=E&&E.set,b=i.aTypedArray,h=i.exportTypedArrayMethod,O=!d(function(){var T=new Uint8ClampedArray(2);return s(R,T,{length:1,0:3},1),T[1]!==3}),I=O&&i.NATIVE_ARRAY_BUFFER_VIEWS&&d(function(){var T=new g(2);return T.set(1),T.set("2",1),T[0]!==0||T[1]!==2});h("set",function(B){b(this);var V=m(arguments.length>1?arguments[1]:void 0,1),Y=u(B);if(O)return s(R,this,Y,V);var k=this.length,P=o(Y),l=0;if(P+V>k)throw S("Wrong length");for(;l<P;)this[V+l]=Y[l++]},!O||I)},678:(p,x,e)=>{var n=e(260),s=e(6304),i=e(7293),o=e(206),m=n.aTypedArray,u=n.exportTypedArrayMethod,d=i(function(){new Int8Array(1).slice()});u("slice",function(g,E){for(var R=o(m(this),g,E),b=s(this),h=0,O=R.length,I=new b(O);O>h;)I[h]=R[h++];return I},d)},7462:(p,x,e)=>{var n=e(260),s=e(2092).some,i=n.aTypedArray,o=n.exportTypedArrayMethod;o("some",function(u){return s(i(this),u,arguments.length>1?arguments[1]:void 0)})},3824:(p,x,e)=>{var n=e(7854),s=e(1702),i=e(7293),o=e(9662),m=e(4362),u=e(260),d=e(8886),S=e(256),g=e(7392),E=e(8008),R=u.aTypedArray,b=u.exportTypedArrayMethod,h=n.Uint16Array,O=h&&s(h.prototype.sort),I=!!O&&!(i(function(){O(new h(2),null)})&&i(function(){O(new h(2),{})})),T=!!O&&!i(function(){if(g)return g<74;if(d)return d<67;if(S)return!0;if(E)return E<602;var V=new h(516),Y=Array(516),k,P;for(k=0;k<516;k++)P=k%4,V[k]=515-k,Y[k]=k-2*P+3;for(O(V,function(l,N){return(l/4|0)-(N/4|0)}),k=0;k<516;k++)if(V[k]!==Y[k])return!0}),B=function(V){return function(Y,k){return V!==void 0?+V(Y,k)||0:k!==k?-1:Y!==Y?1:Y===0&&k===0?1/Y>0&&1/k<0?1:-1:Y>k}};b("sort",function(Y){return Y!==void 0&&o(Y),T?O(this,Y):m(R(this),B(Y))},!T||I)},5021:(p,x,e)=>{var n=e(260),s=e(7466),i=e(1400),o=e(6304),m=n.aTypedArray,u=n.exportTypedArrayMethod;u("subarray",function(S,g){var E=m(this),R=E.length,b=i(S,R),h=o(E);return new h(E.buffer,E.byteOffset+b*E.BYTES_PER_ELEMENT,s((g===void 0?R:i(g,R))-b))})},2974:(p,x,e)=>{var n=e(7854),s=e(2104),i=e(260),o=e(7293),m=e(206),u=n.Int8Array,d=i.aTypedArray,S=i.exportTypedArrayMethod,g=[].toLocaleString,E=!!u&&o(function(){g.call(new u(1))}),R=o(function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()})||!o(function(){u.prototype.toLocaleString.call([1,2])});S("toLocaleString",function(){return s(g,E?m(d(this)):d(this),m(arguments))},R)},5016:(p,x,e)=>{var n=e(260).exportTypedArrayMethod,s=e(7293),i=e(7854),o=e(1702),m=i.Uint8Array,u=m&&m.prototype||{},d=[].toString,S=o([].join);s(function(){d.call({})})&&(d=function(){return S(this)});var g=u.toString!=d;n("toString",d,g)},1118:(p,x,e)=>{e(2958)},7380:(p,x,e)=>{e(3408)},4747:(p,x,e)=>{var n=e(7854),s=e(8324),i=e(8509),o=e(8533),m=e(8880),u=function(S){if(S&&S.forEach!==o)try{m(S,"forEach",o)}catch{S.forEach=o}};for(var d in s)s[d]&&u(n[d]&&n[d].prototype);u(i)},3948:(p,x,e)=>{var n=e(7854),s=e(8324),i=e(8509),o=e(6992),m=e(8880),u=e(5112),d=u("iterator"),S=u("toStringTag"),g=o.values,E=function(b,h){if(b){if(b[d]!==g)try{m(b,d,g)}catch{b[d]=g}if(b[S]||m(b,S,h),s[h]){for(var O in o)if(b[O]!==o[O])try{m(b,O,o[O])}catch{b[O]=o[O]}}}};for(var R in s)E(n[R]&&n[R].prototype,R);E(i,"DOMTokenList")},6815:(p,x,e)=>{var n=e(2109),s=e(7854),i=e(7152).setInterval;n({global:!0,bind:!0,forced:s.setInterval!==i},{setInterval:i})},8417:(p,x,e)=>{var n=e(2109),s=e(7854),i=e(7152).setTimeout;n({global:!0,bind:!0,forced:s.setTimeout!==i},{setTimeout:i})},2564:(p,x,e)=>{e(6815),e(8417)},5556:(p,x,e)=>{e(6992);var n=e(2109),s=e(7854),i=e(6916),o=e(1702),m=e(9781),u=e(590),d=e(8052),S=e(9190),g=e(8003),E=e(4994),R=e(9909),b=e(5787),h=e(614),O=e(2597),I=e(9974),T=e(648),B=e(9670),V=e(111),Y=e(1340),k=e(30),P=e(9114),l=e(8554),N=e(1246),U=e(8053),W=e(5112),Z=e(4362),ee=W("iterator"),te="URLSearchParams",me=te+"Iterator",de=R.set,_=R.getterFor(te),G=R.getterFor(me),y=Object.getOwnPropertyDescriptor,F=function(He){if(!m)return s[He];var qe=y(s,He);return qe&&qe.value},K=F("fetch"),q=F("Request"),D=F("Headers"),c=q&&q.prototype,f=D&&D.prototype,v=s.RegExp,A=s.TypeError,j=s.decodeURIComponent,X=s.encodeURIComponent,Q=o("".charAt),z=o([].join),ne=o([].push),ae=o("".replace),be=o([].shift),Oe=o([].splice),Ce=o("".split),Ge=o("".slice),Ye=/\+/g,st=Array(4),xt=function(He){return st[He-1]||(st[He-1]=v("((?:%[\\da-f]{2}){"+He+"})","gi"))},C=function(He){try{return j(He)}catch{return He}},H=function(He){var qe=ae(He,Ye," "),Je=4;try{return j(qe)}catch{for(;Je;)qe=ae(qe,xt(Je--),C);return qe}},Le=/[!'()~]|%20/g,Te={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ve=function(He){return Te[He]},Ee=function(He){return ae(X(He),Le,Ve)},Fe=E(function(qe,Je){de(this,{type:me,iterator:l(_(qe).entries),kind:Je})},"Iterator",function(){var qe=G(this),Je=qe.kind,lt=qe.iterator.next(),gt=lt.value;return lt.done||(lt.value=Je==="keys"?gt.key:Je==="values"?gt.value:[gt.key,gt.value]),lt},!0),ze=function(He){this.entries=[],this.url=null,He!==void 0&&(V(He)?this.parseObject(He):this.parseQuery(typeof He=="string"?Q(He,0)==="?"?Ge(He,1):He:Y(He)))};ze.prototype={type:te,bindURL:function(He){this.url=He,this.update()},parseObject:function(He){var qe=N(He),Je,lt,gt,At,kt,Gt,Bt;if(qe)for(Je=l(He,qe),lt=Je.next;!(gt=i(lt,Je)).done;){if(At=l(B(gt.value)),kt=At.next,(Gt=i(kt,At)).done||(Bt=i(kt,At)).done||!i(kt,At).done)throw A("Expected sequence with length 2");ne(this.entries,{key:Y(Gt.value),value:Y(Bt.value)})}else for(var zt in He)O(He,zt)&&ne(this.entries,{key:zt,value:Y(He[zt])})},parseQuery:function(He){if(He)for(var qe=Ce(He,"&"),Je=0,lt,gt;Je<qe.length;)lt=qe[Je++],lt.length&&(gt=Ce(lt,"="),ne(this.entries,{key:H(be(gt)),value:H(z(gt,"="))}))},serialize:function(){for(var He=this.entries,qe=[],Je=0,lt;Je<He.length;)lt=He[Je++],ne(qe,Ee(lt.key)+"="+Ee(lt.value));return z(qe,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Xe=function(){b(this,We);var qe=arguments.length>0?arguments[0]:void 0;de(this,new ze(qe))},We=Xe.prototype;if(S(We,{append:function(qe,Je){U(arguments.length,2);var lt=_(this);ne(lt.entries,{key:Y(qe),value:Y(Je)}),lt.updateURL()},delete:function(He){U(arguments.length,1);for(var qe=_(this),Je=qe.entries,lt=Y(He),gt=0;gt<Je.length;)Je[gt].key===lt?Oe(Je,gt,1):gt++;qe.updateURL()},get:function(qe){U(arguments.length,1);for(var Je=_(this).entries,lt=Y(qe),gt=0;gt<Je.length;gt++)if(Je[gt].key===lt)return Je[gt].value;return null},getAll:function(qe){U(arguments.length,1);for(var Je=_(this).entries,lt=Y(qe),gt=[],At=0;At<Je.length;At++)Je[At].key===lt&&ne(gt,Je[At].value);return gt},has:function(qe){U(arguments.length,1);for(var Je=_(this).entries,lt=Y(qe),gt=0;gt<Je.length;)if(Je[gt++].key===lt)return!0;return!1},set:function(qe,Je){U(arguments.length,1);for(var lt=_(this),gt=lt.entries,At=!1,kt=Y(qe),Gt=Y(Je),Bt=0,zt;Bt<gt.length;Bt++)zt=gt[Bt],zt.key===kt&&(At?Oe(gt,Bt--,1):(At=!0,zt.value=Gt));At||ne(gt,{key:kt,value:Gt}),lt.updateURL()},sort:function(){var qe=_(this);Z(qe.entries,function(Je,lt){return Je.key>lt.key?1:-1}),qe.updateURL()},forEach:function(qe){for(var Je=_(this).entries,lt=I(qe,arguments.length>1?arguments[1]:void 0),gt=0,At;gt<Je.length;)At=Je[gt++],lt(At.value,At.key,this)},keys:function(){return new Fe(this,"keys")},values:function(){return new Fe(this,"values")},entries:function(){return new Fe(this,"entries")}},{enumerable:!0}),d(We,ee,We.entries,{name:"entries"}),d(We,"toString",function(){return _(this).serialize()},{enumerable:!0}),g(Xe,te),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:Xe}),!u&&h(D)){var ke=o(f.has),tt=o(f.set),ct=function(He){if(V(He)){var qe=He.body,Je;if(T(qe)===te)return Je=He.headers?new D(He.headers):new D,ke(Je,"content-type")||tt(Je,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(He,{body:P(0,Y(qe)),headers:P(0,Je)})}return He};if(h(K)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(qe){return K(qe,arguments.length>1?ct(arguments[1]):{})}}),h(q)){var nt=function(qe){return b(this,c),new q(qe,arguments.length>1?ct(arguments[1]):{})};c.constructor=nt,nt.prototype=c,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:nt})}}p.exports={URLSearchParams:Xe,getState:_}},1637:(p,x,e)=>{e(5556)},8789:(p,x,e)=>{e(8783);var n=e(2109),s=e(9781),i=e(590),o=e(7854),m=e(9974),u=e(1702),d=e(8052),S=e(7045),g=e(5787),E=e(2597),R=e(1574),b=e(8457),h=e(1589),O=e(8710).codeAt,I=e(3197),T=e(1340),B=e(8003),V=e(8053),Y=e(5556),k=e(9909),P=k.set,l=k.getterFor("URL"),N=Y.URLSearchParams,U=Y.getState,W=o.URL,Z=o.TypeError,ee=o.parseInt,te=Math.floor,me=Math.pow,de=u("".charAt),_=u(/./.exec),G=u([].join),y=u(1 .toString),F=u([].pop),K=u([].push),q=u("".replace),D=u([].shift),c=u("".split),f=u("".slice),v=u("".toLowerCase),A=u([].unshift),j="Invalid authority",X="Invalid scheme",Q="Invalid host",z="Invalid port",ne=/[a-z]/i,ae=/[\d+-.a-z]/i,be=/\d/,Oe=/^0x/i,Ce=/^[0-7]+$/,Ge=/^\d+$/,Ye=/^[\da-f]+$/i,st=/[\0\t\n\r #%/:<>?@[\\\]^|]/,xt=/[\0\t\n\r #/:<>?@[\\\]^|]/,C=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,H=/[\t\n\r]/g,Le,Te=function(ve){var Pe=c(ve,"."),se,ie,fe,$e,it,Qe,mt;if(Pe.length&&Pe[Pe.length-1]==""&&Pe.length--,se=Pe.length,se>4)return ve;for(ie=[],fe=0;fe<se;fe++){if($e=Pe[fe],$e=="")return ve;if(it=10,$e.length>1&&de($e,0)=="0"&&(it=_(Oe,$e)?16:8,$e=f($e,it==8?1:2)),$e==="")Qe=0;else{if(!_(it==10?Ge:it==8?Ce:Ye,$e))return ve;Qe=ee($e,it)}K(ie,Qe)}for(fe=0;fe<se;fe++)if(Qe=ie[fe],fe==se-1){if(Qe>=me(256,5-se))return null}else if(Qe>255)return null;for(mt=F(ie),fe=0;fe<ie.length;fe++)mt+=ie[fe]*me(256,3-fe);return mt},Ve=function(ve){var Pe=[0,0,0,0,0,0,0,0],se=0,ie=null,fe=0,$e,it,Qe,mt,St,It,Ze,Mt=function(){return de(ve,fe)};if(Mt()==":"){if(de(ve,1)!=":")return;fe+=2,se++,ie=se}for(;Mt();){if(se==8)return;if(Mt()==":"){if(ie!==null)return;fe++,se++,ie=se;continue}for($e=it=0;it<4&&_(Ye,Mt());)$e=$e*16+ee(Mt(),16),fe++,it++;if(Mt()=="."){if(it==0||(fe-=it,se>6))return;for(Qe=0;Mt();){if(mt=null,Qe>0)if(Mt()=="."&&Qe<4)fe++;else return;if(!_(be,Mt()))return;for(;_(be,Mt());){if(St=ee(Mt(),10),mt===null)mt=St;else{if(mt==0)return;mt=mt*10+St}if(mt>255)return;fe++}Pe[se]=Pe[se]*256+mt,Qe++,(Qe==2||Qe==4)&&se++}if(Qe!=4)return;break}else if(Mt()==":"){if(fe++,!Mt())return}else if(Mt())return;Pe[se++]=$e}if(ie!==null)for(It=se-ie,se=7;se!=0&&It>0;)Ze=Pe[se],Pe[se--]=Pe[ie+It-1],Pe[ie+--It]=Ze;else if(se!=8)return;return Pe},Ee=function(ve){for(var Pe=null,se=1,ie=null,fe=0,$e=0;$e<8;$e++)ve[$e]!==0?(fe>se&&(Pe=ie,se=fe),ie=null,fe=0):(ie===null&&(ie=$e),++fe);return fe>se&&(Pe=ie,se=fe),Pe},Fe=function(ve){var Pe,se,ie,fe;if(typeof ve=="number"){for(Pe=[],se=0;se<4;se++)A(Pe,ve%256),ve=te(ve/256);return G(Pe,".")}else if(typeof ve=="object"){for(Pe="",ie=Ee(ve),se=0;se<8;se++)fe&&ve[se]===0||(fe&&(fe=!1),ie===se?(Pe+=se?":":"::",fe=!0):(Pe+=y(ve[se],16),se<7&&(Pe+=":")));return"["+Pe+"]"}return ve},ze={},Xe=R({},ze,{" ":1,'"':1,"<":1,">":1,"`":1}),We=R({},Xe,{"#":1,"?":1,"{":1,"}":1}),ke=R({},We,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),tt=function(ve,Pe){var se=O(ve,0);return se>32&&se<127&&!E(Pe,ve)?ve:encodeURIComponent(ve)},ct={ftp:21,file:null,http:80,https:443,ws:80,wss:443},nt=function(ve,Pe){var se;return ve.length==2&&_(ne,de(ve,0))&&((se=de(ve,1))==":"||!Pe&&se=="|")},He=function(ve){var Pe;return ve.length>1&&nt(f(ve,0,2))&&(ve.length==2||(Pe=de(ve,2))==="/"||Pe==="\\"||Pe==="?"||Pe==="#")},qe=function(ve){return ve==="."||v(ve)==="%2e"},Je=function(ve){return ve=v(ve),ve===".."||ve==="%2e."||ve===".%2e"||ve==="%2e%2e"},lt={},gt={},At={},kt={},Gt={},Bt={},zt={},tr={},fr={},Jt={},J={},$={},oe={},ue={},ye={},re={},pe={},Se={},ge={},Be={},xe={},Ne=function(ve,Pe,se){var ie=T(ve),fe,$e,it;if(Pe){if($e=this.parse(ie),$e)throw Z($e);this.searchParams=null}else{if(se!==void 0&&(fe=new Ne(se,!0)),$e=this.parse(ie,null,fe),$e)throw Z($e);it=U(new N),it.bindURL(this),this.searchParams=it}};Ne.prototype={type:"URL",parse:function(ve,Pe,se){var ie=this,fe=Pe||lt,$e=0,it="",Qe=!1,mt=!1,St=!1,It,Ze,Mt,Ct;for(ve=T(ve),Pe||(ie.scheme="",ie.username="",ie.password="",ie.host=null,ie.port=null,ie.path=[],ie.query=null,ie.fragment=null,ie.cannotBeABaseURL=!1,ve=q(ve,C,"")),ve=q(ve,H,""),It=b(ve);$e<=It.length;){switch(Ze=It[$e],fe){case lt:if(Ze&&_(ne,Ze))it+=v(Ze),fe=gt;else{if(Pe)return X;fe=At;continue}break;case gt:if(Ze&&(_(ae,Ze)||Ze=="+"||Ze=="-"||Ze=="."))it+=v(Ze);else if(Ze==":"){if(Pe&&(ie.isSpecial()!=E(ct,it)||it=="file"&&(ie.includesCredentials()||ie.port!==null)||ie.scheme=="file"&&!ie.host))return;if(ie.scheme=it,Pe){ie.isSpecial()&&ct[ie.scheme]==ie.port&&(ie.port=null);return}it="",ie.scheme=="file"?fe=ue:ie.isSpecial()&&se&&se.scheme==ie.scheme?fe=kt:ie.isSpecial()?fe=tr:It[$e+1]=="/"?(fe=Gt,$e++):(ie.cannotBeABaseURL=!0,K(ie.path,""),fe=ge)}else{if(Pe)return X;it="",fe=At,$e=0;continue}break;case At:if(!se||se.cannotBeABaseURL&&Ze!="#")return X;if(se.cannotBeABaseURL&&Ze=="#"){ie.scheme=se.scheme,ie.path=h(se.path),ie.query=se.query,ie.fragment="",ie.cannotBeABaseURL=!0,fe=xe;break}fe=se.scheme=="file"?ue:Bt;continue;case kt:if(Ze=="/"&&It[$e+1]=="/")fe=fr,$e++;else{fe=Bt;continue}break;case Gt:if(Ze=="/"){fe=Jt;break}else{fe=Se;continue}case Bt:if(ie.scheme=se.scheme,Ze==Le)ie.username=se.username,ie.password=se.password,ie.host=se.host,ie.port=se.port,ie.path=h(se.path),ie.query=se.query;else if(Ze=="/"||Ze=="\\"&&ie.isSpecial())fe=zt;else if(Ze=="?")ie.username=se.username,ie.password=se.password,ie.host=se.host,ie.port=se.port,ie.path=h(se.path),ie.query="",fe=Be;else if(Ze=="#")ie.username=se.username,ie.password=se.password,ie.host=se.host,ie.port=se.port,ie.path=h(se.path),ie.query=se.query,ie.fragment="",fe=xe;else{ie.username=se.username,ie.password=se.password,ie.host=se.host,ie.port=se.port,ie.path=h(se.path),ie.path.length--,fe=Se;continue}break;case zt:if(ie.isSpecial()&&(Ze=="/"||Ze=="\\"))fe=fr;else if(Ze=="/")fe=Jt;else{ie.username=se.username,ie.password=se.password,ie.host=se.host,ie.port=se.port,fe=Se;continue}break;case tr:if(fe=fr,Ze!="/"||de(it,$e+1)!="/")continue;$e++;break;case fr:if(Ze!="/"&&Ze!="\\"){fe=Jt;continue}break;case Jt:if(Ze=="@"){Qe&&(it="%40"+it),Qe=!0,Mt=b(it);for(var Zt=0;Zt<Mt.length;Zt++){var $t=Mt[Zt];if($t==":"&&!St){St=!0;continue}var qt=tt($t,ke);St?ie.password+=qt:ie.username+=qt}it=""}else if(Ze==Le||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&ie.isSpecial()){if(Qe&&it=="")return j;$e-=b(it).length+1,it="",fe=J}else it+=Ze;break;case J:case $:if(Pe&&ie.scheme=="file"){fe=re;continue}else if(Ze==":"&&!mt){if(it=="")return Q;if(Ct=ie.parseHost(it),Ct)return Ct;if(it="",fe=oe,Pe==$)return}else if(Ze==Le||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&ie.isSpecial()){if(ie.isSpecial()&&it=="")return Q;if(Pe&&it==""&&(ie.includesCredentials()||ie.port!==null))return;if(Ct=ie.parseHost(it),Ct)return Ct;if(it="",fe=pe,Pe)return;continue}else Ze=="["?mt=!0:Ze=="]"&&(mt=!1),it+=Ze;break;case oe:if(_(be,Ze))it+=Ze;else if(Ze==Le||Ze=="/"||Ze=="?"||Ze=="#"||Ze=="\\"&&ie.isSpecial()||Pe){if(it!=""){var sr=ee(it,10);if(sr>65535)return z;ie.port=ie.isSpecial()&&sr===ct[ie.scheme]?null:sr,it=""}if(Pe)return;fe=pe;continue}else return z;break;case ue:if(ie.scheme="file",Ze=="/"||Ze=="\\")fe=ye;else if(se&&se.scheme=="file")if(Ze==Le)ie.host=se.host,ie.path=h(se.path),ie.query=se.query;else if(Ze=="?")ie.host=se.host,ie.path=h(se.path),ie.query="",fe=Be;else if(Ze=="#")ie.host=se.host,ie.path=h(se.path),ie.query=se.query,ie.fragment="",fe=xe;else{He(G(h(It,$e),""))||(ie.host=se.host,ie.path=h(se.path),ie.shortenPath()),fe=Se;continue}else{fe=Se;continue}break;case ye:if(Ze=="/"||Ze=="\\"){fe=re;break}se&&se.scheme=="file"&&!He(G(h(It,$e),""))&&(nt(se.path[0],!0)?K(ie.path,se.path[0]):ie.host=se.host),fe=Se;continue;case re:if(Ze==Le||Ze=="/"||Ze=="\\"||Ze=="?"||Ze=="#"){if(!Pe&&nt(it))fe=Se;else if(it==""){if(ie.host="",Pe)return;fe=pe}else{if(Ct=ie.parseHost(it),Ct)return Ct;if(ie.host=="localhost"&&(ie.host=""),Pe)return;it="",fe=pe}continue}else it+=Ze;break;case pe:if(ie.isSpecial()){if(fe=Se,Ze!="/"&&Ze!="\\")continue}else if(!Pe&&Ze=="?")ie.query="",fe=Be;else if(!Pe&&Ze=="#")ie.fragment="",fe=xe;else if(Ze!=Le&&(fe=Se,Ze!="/"))continue;break;case Se:if(Ze==Le||Ze=="/"||Ze=="\\"&&ie.isSpecial()||!Pe&&(Ze=="?"||Ze=="#")){if(Je(it)?(ie.shortenPath(),Ze!="/"&&!(Ze=="\\"&&ie.isSpecial())&&K(ie.path,"")):qe(it)?Ze!="/"&&!(Ze=="\\"&&ie.isSpecial())&&K(ie.path,""):(ie.scheme=="file"&&!ie.path.length&&nt(it)&&(ie.host&&(ie.host=""),it=de(it,0)+":"),K(ie.path,it)),it="",ie.scheme=="file"&&(Ze==Le||Ze=="?"||Ze=="#"))for(;ie.path.length>1&&ie.path[0]==="";)D(ie.path);Ze=="?"?(ie.query="",fe=Be):Ze=="#"&&(ie.fragment="",fe=xe)}else it+=tt(Ze,We);break;case ge:Ze=="?"?(ie.query="",fe=Be):Ze=="#"?(ie.fragment="",fe=xe):Ze!=Le&&(ie.path[0]+=tt(Ze,ze));break;case Be:!Pe&&Ze=="#"?(ie.fragment="",fe=xe):Ze!=Le&&(Ze=="'"&&ie.isSpecial()?ie.query+="%27":Ze=="#"?ie.query+="%23":ie.query+=tt(Ze,ze));break;case xe:Ze!=Le&&(ie.fragment+=tt(Ze,Xe));break}$e++}},parseHost:function(ve){var Pe,se,ie;if(de(ve,0)=="["){if(de(ve,ve.length-1)!="]"||(Pe=Ve(f(ve,1,-1)),!Pe))return Q;this.host=Pe}else if(this.isSpecial()){if(ve=I(ve),_(st,ve)||(Pe=Te(ve),Pe===null))return Q;this.host=Pe}else{if(_(xt,ve))return Q;for(Pe="",se=b(ve),ie=0;ie<se.length;ie++)Pe+=tt(se[ie],ze);this.host=Pe}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return E(ct,this.scheme)},shortenPath:function(){var ve=this.path,Pe=ve.length;Pe&&(this.scheme!="file"||Pe!=1||!nt(ve[0],!0))&&ve.length--},serialize:function(){var ve=this,Pe=ve.scheme,se=ve.username,ie=ve.password,fe=ve.host,$e=ve.port,it=ve.path,Qe=ve.query,mt=ve.fragment,St=Pe+":";return fe!==null?(St+="//",ve.includesCredentials()&&(St+=se+(ie?":"+ie:"")+"@"),St+=Fe(fe),$e!==null&&(St+=":"+$e)):Pe=="file"&&(St+="//"),St+=ve.cannotBeABaseURL?it[0]:it.length?"/"+G(it,"/"):"",Qe!==null&&(St+="?"+Qe),mt!==null&&(St+="#"+mt),St},setHref:function(ve){var Pe=this.parse(ve);if(Pe)throw Z(Pe);this.searchParams.update()},getOrigin:function(){var ve=this.scheme,Pe=this.port;if(ve=="blob")try{return new at(ve.path[0]).origin}catch{return"null"}return ve=="file"||!this.isSpecial()?"null":ve+"://"+Fe(this.host)+(Pe!==null?":"+Pe:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(ve){this.parse(T(ve)+":",lt)},getUsername:function(){return this.username},setUsername:function(ve){var Pe=b(T(ve));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var se=0;se<Pe.length;se++)this.username+=tt(Pe[se],ke)}},getPassword:function(){return this.password},setPassword:function(ve){var Pe=b(T(ve));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var se=0;se<Pe.length;se++)this.password+=tt(Pe[se],ke)}},getHost:function(){var ve=this.host,Pe=this.port;return ve===null?"":Pe===null?Fe(ve):Fe(ve)+":"+Pe},setHost:function(ve){this.cannotBeABaseURL||this.parse(ve,J)},getHostname:function(){var ve=this.host;return ve===null?"":Fe(ve)},setHostname:function(ve){this.cannotBeABaseURL||this.parse(ve,$)},getPort:function(){var ve=this.port;return ve===null?"":T(ve)},setPort:function(ve){this.cannotHaveUsernamePasswordPort()||(ve=T(ve),ve==""?this.port=null:this.parse(ve,oe))},getPathname:function(){var ve=this.path;return this.cannotBeABaseURL?ve[0]:ve.length?"/"+G(ve,"/"):""},setPathname:function(ve){this.cannotBeABaseURL||(this.path=[],this.parse(ve,pe))},getSearch:function(){var ve=this.query;return ve?"?"+ve:""},setSearch:function(ve){ve=T(ve),ve==""?this.query=null:(de(ve,0)=="?"&&(ve=f(ve,1)),this.query="",this.parse(ve,Be)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var ve=this.fragment;return ve?"#"+ve:""},setHash:function(ve){if(ve=T(ve),ve==""){this.fragment=null;return}de(ve,0)=="#"&&(ve=f(ve,1)),this.fragment="",this.parse(ve,xe)},update:function(){this.query=this.searchParams.serialize()||null}};var at=function(Pe){var se=g(this,ut),ie=V(arguments.length,1)>1?arguments[1]:void 0,fe=P(se,new Ne(Pe,!1,ie));s||(se.href=fe.serialize(),se.origin=fe.getOrigin(),se.protocol=fe.getProtocol(),se.username=fe.getUsername(),se.password=fe.getPassword(),se.host=fe.getHost(),se.hostname=fe.getHostname(),se.port=fe.getPort(),se.pathname=fe.getPathname(),se.search=fe.getSearch(),se.searchParams=fe.getSearchParams(),se.hash=fe.getHash())},ut=at.prototype,Ke=function(ve,Pe){return{get:function(){return l(this)[ve]()},set:Pe&&function(se){return l(this)[Pe](se)},configurable:!0,enumerable:!0}};if(s&&(S(ut,"href",Ke("serialize","setHref")),S(ut,"origin",Ke("getOrigin")),S(ut,"protocol",Ke("getProtocol","setProtocol")),S(ut,"username",Ke("getUsername","setUsername")),S(ut,"password",Ke("getPassword","setPassword")),S(ut,"host",Ke("getHost","setHost")),S(ut,"hostname",Ke("getHostname","setHostname")),S(ut,"port",Ke("getPort","setPort")),S(ut,"pathname",Ke("getPathname","setPathname")),S(ut,"search",Ke("getSearch","setSearch")),S(ut,"searchParams",Ke("getSearchParams")),S(ut,"hash",Ke("getHash","setHash"))),d(ut,"toJSON",function(){return l(this).serialize()},{enumerable:!0}),d(ut,"toString",function(){return l(this).serialize()},{enumerable:!0}),W){var ht=W.createObjectURL,Me=W.revokeObjectURL;ht&&d(at,"createObjectURL",m(ht,W)),Me&&d(at,"revokeObjectURL",m(Me,W))}B(at,"URL"),n({global:!0,constructor:!0,forced:!i,sham:!s},{URL:at})},285:(p,x,e)=>{e(8789)},7514:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var s=n.new_float;n.new_float_n,n.new_int,n.new_int_n,n.assert;var i=e(687);function o(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=s(i.SBMAX_l),this.s=s(i.SBMAX_s),this.psfb21=s(i.PSFB21),this.psfb12=s(i.PSFB12),this.cb_l=s(i.CBANDS),this.cb_s=s(i.CBANDS),this.eql_w=s(i.BLKSIZE/2)}p.exports=o},3724:(p,x,e)=>{var n=e(935),s=n.System;n.VbrMode,n.Float,n.ShortBlock,n.Util;var i=n.Arrays;n.new_array_n;var o=n.new_byte;n.new_double,n.new_float;var m=n.new_float_n,u=n.new_int;n.new_int_n;var d=n.assert,S=e(5638),g=e(7721),E=e(687),R=e(1998);b.EQ=function(h,O){return Math.abs(h)>Math.abs(O)?Math.abs(h-O)<=Math.abs(h)*1e-6:Math.abs(h-O)<=Math.abs(O)*1e-6},b.NEQ=function(h,O){return!b.EQ(h,O)};function b(){var h=this,O=32773,I=32,T=null,B=null,V=null,Y=null;this.setModules=function(c,f,v,A){T=c,B=f,V=v,Y=A};var k=null,P=0,l=0,N=0;this.getframebits=function(c){var f=c.internal_flags,v;f.bitrate_index!=0?v=g.bitrate_table[c.version][f.bitrate_index]:v=c.brate,d(8<=v&&v<=640);var A=0|(c.version+1)*72e3*v/c.out_samplerate+f.padding;return 8*A};function U(c){s.arraycopy(c.header[c.w_ptr].buf,0,k,l,c.sideinfo_len),l+=c.sideinfo_len,P+=c.sideinfo_len*8,c.w_ptr=c.w_ptr+1&R.MAX_HEADER_BUF-1}function W(c,f,v){for(d(v<I-2);v>0;){var A;N==0&&(N=8,l++,d(l<Lame.LAME_MAXMP3BUFFER),d(c.header[c.w_ptr].write_timing>=P),c.header[c.w_ptr].write_timing==P&&U(c),k[l]=0),A=Math.min(v,N),v-=A,N-=A,d(v<I),d(N<I),k[l]|=f>>v<<N,P+=A}}function Z(c,f,v){for(d(v<I-2);v>0;){var A;N==0&&(N=8,l++,d(l<Lame.LAME_MAXMP3BUFFER),k[l]=0),A=Math.min(v,N),v-=A,N-=A,d(v<I),d(N<I),k[l]|=f>>v<<N,P+=A}}function ee(c,f){var v=c.internal_flags,A;if(d(f>=0),f>=8&&(W(v,76,8),f-=8),f>=8&&(W(v,65,8),f-=8),f>=8&&(W(v,77,8),f-=8),f>=8&&(W(v,69,8),f-=8),f>=32){var j=V.getLameShortVersion();if(f>=32)for(A=0;A<j.length&&f>=8;++A)f-=8,W(v,j.charAt(A),8)}for(;f>=1;f-=1)W(v,v.ancillary_flag,1),v.ancillary_flag^=c.disable_reservoir?0:1;d(f==0)}function te(c,f,v){for(var A=c.header[c.h_ptr].ptr;v>0;){var j=Math.min(v,8-(A&7));v-=j,d(v<I),c.header[c.h_ptr].buf[A>>3]|=f>>v<<8-(A&7)-j,A+=j}c.header[c.h_ptr].ptr=A}function me(c,f){c<<=8;for(var v=0;v<8;v++)c<<=1,f<<=1,(f^c)&65536&&(f^=O);return f}this.CRC_writeheader=function(c,f){var v=65535;v=me(f[2]&255,v),v=me(f[3]&255,v);for(var A=6;A<c.sideinfo_len;A++)v=me(f[A]&255,v);f[4]=byte(v>>8),f[5]=byte(v&255)};function de(c,f){var v=c.internal_flags,A,j,X;if(A=v.l3_side,v.header[v.h_ptr].ptr=0,i.fill(v.header[v.h_ptr].buf,0,v.sideinfo_len,0),c.out_samplerate<16e3?te(v,4094,12):te(v,4095,12),te(v,c.version,1),te(v,1,2),te(v,c.error_protection?0:1,1),te(v,v.bitrate_index,4),te(v,v.samplerate_index,2),te(v,v.padding,1),te(v,c.extension,1),te(v,c.mode.ordinal(),2),te(v,v.mode_ext,2),te(v,c.copyright,1),te(v,c.original,1),te(v,c.emphasis,2),c.error_protection&&te(v,0,16),c.version==1){for(d(A.main_data_begin>=0),te(v,A.main_data_begin,9),v.channels_out==2?te(v,A.private_bits,3):te(v,A.private_bits,5),X=0;X<v.channels_out;X++){var Q;for(Q=0;Q<4;Q++)te(v,A.scfsi[X][Q],1)}for(j=0;j<2;j++)for(X=0;X<v.channels_out;X++){var z=A.tt[j][X];te(v,z.part2_3_length+z.part2_length,12),te(v,z.big_values/2,9),te(v,z.global_gain,8),te(v,z.scalefac_compress,4),z.block_type!=E.NORM_TYPE?(te(v,1,1),te(v,z.block_type,2),te(v,z.mixed_block_flag,1),z.table_select[0]==14&&(z.table_select[0]=16),te(v,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),te(v,z.table_select[1],5),te(v,z.subblock_gain[0],3),te(v,z.subblock_gain[1],3),te(v,z.subblock_gain[2],3)):(te(v,0,1),z.table_select[0]==14&&(z.table_select[0]=16),te(v,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),te(v,z.table_select[1],5),z.table_select[2]==14&&(z.table_select[2]=16),te(v,z.table_select[2],5),d(0<=z.region0_count&&z.region0_count<16),d(0<=z.region1_count&&z.region1_count<8),te(v,z.region0_count,4),te(v,z.region1_count,3)),te(v,z.preflag,1),te(v,z.scalefac_scale,1),te(v,z.count1table_select,1)}}else for(d(A.main_data_begin>=0),te(v,A.main_data_begin,8),te(v,A.private_bits,v.channels_out),j=0,X=0;X<v.channels_out;X++){var z=A.tt[j][X];te(v,z.part2_3_length+z.part2_length,12),te(v,z.big_values/2,9),te(v,z.global_gain,8),te(v,z.scalefac_compress,9),z.block_type!=E.NORM_TYPE?(te(v,1,1),te(v,z.block_type,2),te(v,z.mixed_block_flag,1),z.table_select[0]==14&&(z.table_select[0]=16),te(v,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),te(v,z.table_select[1],5),te(v,z.subblock_gain[0],3),te(v,z.subblock_gain[1],3),te(v,z.subblock_gain[2],3)):(te(v,0,1),z.table_select[0]==14&&(z.table_select[0]=16),te(v,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),te(v,z.table_select[1],5),z.table_select[2]==14&&(z.table_select[2]=16),te(v,z.table_select[2],5),d(0<=z.region0_count&&z.region0_count<16),d(0<=z.region1_count&&z.region1_count<8),te(v,z.region0_count,4),te(v,z.region1_count,3)),te(v,z.scalefac_scale,1),te(v,z.count1table_select,1)}c.error_protection&&CRC_writeheader(v,v.header[v.h_ptr].buf);{var ne=v.h_ptr;d(v.header[ne].ptr==v.sideinfo_len*8),v.h_ptr=ne+1&R.MAX_HEADER_BUF-1,v.header[v.h_ptr].write_timing=v.header[ne].write_timing+f,v.h_ptr==v.w_ptr&&s.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _(c,f){var v=g.ht[f.count1table_select+32],A,j=0,X=f.big_values,Q=f.big_values;for(d(f.count1table_select<2),A=(f.count1-f.big_values)/4;A>0;--A){var z=0,ne=0,ae;ae=f.l3_enc[X+0],ae!=0&&(ne+=8,f.xr[Q+0]<0&&z++,d(ae<=1)),ae=f.l3_enc[X+1],ae!=0&&(ne+=4,z*=2,f.xr[Q+1]<0&&z++,d(ae<=1)),ae=f.l3_enc[X+2],ae!=0&&(ne+=2,z*=2,f.xr[Q+2]<0&&z++,d(ae<=1)),ae=f.l3_enc[X+3],ae!=0&&(ne++,z*=2,f.xr[Q+3]<0&&z++,d(ae<=1)),X+=4,Q+=4,W(c,z+v.table[ne],v.hlen[ne]),j+=v.hlen[ne]}return j}function G(c,f,v,A,j){var X=g.ht[f],Q=0;if(d(f<32),f==0)return Q;for(var z=v;z<A;z+=2){var ne=0,ae=0,be=X.xlen,Oe=X.xlen,Ce=0,Ge=j.l3_enc[z],Ye=j.l3_enc[z+1];if(Ge!=0&&(j.xr[z]<0&&Ce++,ne--),f>15){if(Ge>14){var st=Ge-15;d(st<=X.linmax),Ce|=st<<1,ae=be,Ge=15}if(Ye>14){var xt=Ye-15;d(xt<=X.linmax),Ce<<=be,Ce|=xt,ae+=be,Ye=15}Oe=16}Ye!=0&&(Ce<<=1,j.xr[z+1]<0&&Ce++,ne--),d((Ge|Ye)<16),Ge=Ge*Oe+Ye,ae-=ne,ne+=X.hlen[Ge],d(ne<=I),d(ae<=I),W(c,X.table[Ge],ne),W(c,Ce,ae),Q+=ne+ae}return Q}function y(c,f){var v=3*c.scalefac_band.s[3];v>f.big_values&&(v=f.big_values);var A=G(c,f.table_select[0],0,v,f);return A+=G(c,f.table_select[1],v,f.big_values,f),A}function F(c,f){var v,A,j,X;v=f.big_values,d(0<=v&&v<=576);var Q=f.region0_count+1;return d(0<=Q),d(Q<c.scalefac_band.l.length),j=c.scalefac_band.l[Q],Q+=f.region1_count+1,d(0<=Q),d(Q<c.scalefac_band.l.length),X=c.scalefac_band.l[Q],j>v&&(j=v),X>v&&(X=v),A=G(c,f.table_select[0],0,j,f),A+=G(c,f.table_select[1],j,X,f),A+=G(c,f.table_select[2],X,v,f),A}function K(c){var f,v,A,j,X=0,Q=c.internal_flags,z=Q.l3_side;if(c.version==1)for(f=0;f<2;f++)for(v=0;v<Q.channels_out;v++){var ne=z.tt[f][v],ae=S.slen1_tab[ne.scalefac_compress],be=S.slen2_tab[ne.scalefac_compress];for(j=0,A=0;A<ne.sfbdivide;A++)ne.scalefac[A]!=-1&&(W(Q,ne.scalefac[A],ae),j+=ae);for(;A<ne.sfbmax;A++)ne.scalefac[A]!=-1&&(W(Q,ne.scalefac[A],be),j+=be);d(j==ne.part2_length),ne.block_type==E.SHORT_TYPE?j+=y(Q,ne):j+=F(Q,ne),j+=_(Q,ne),d(j==ne.part2_3_length+ne.part2_length),X+=j}else for(f=0,v=0;v<Q.channels_out;v++){var ne=z.tt[f][v],Oe,Ce,Ge=0;if(d(ne.sfb_partition_table!=null),j=0,A=0,Ce=0,ne.block_type==E.SHORT_TYPE){for(;Ce<4;Ce++){var Ye=ne.sfb_partition_table[Ce]/3,st=ne.slen[Ce];for(Oe=0;Oe<Ye;Oe++,A++)W(Q,Math.max(ne.scalefac[A*3+0],0),st),W(Q,Math.max(ne.scalefac[A*3+1],0),st),W(Q,Math.max(ne.scalefac[A*3+2],0),st),Ge+=3*st}j+=y(Q,ne)}else{for(;Ce<4;Ce++){var Ye=ne.sfb_partition_table[Ce],st=ne.slen[Ce];for(Oe=0;Oe<Ye;Oe++,A++)W(Q,Math.max(ne.scalefac[A],0),st),Ge+=st}j+=F(Q,ne)}j+=_(Q,ne),d(j==ne.part2_3_length),d(Ge==ne.part2_length),X+=Ge+j}return X}function q(){this.total=0}function D(c,f){var v=c.internal_flags,A,j,X,Q,z;return z=v.w_ptr,Q=v.h_ptr-1,Q==-1&&(Q=R.MAX_HEADER_BUF-1),A=v.header[Q].write_timing-P,f.total=A,A>=0&&(j=1+Q-z,Q<z&&(j=1+Q-z+R.MAX_HEADER_BUF),A-=j*8*v.sideinfo_len),X=h.getframebits(c),A+=X,f.total+=X,f.total%8!=0?f.total=1+f.total/8:f.total=f.total/8,f.total+=l+1,A<0&&s.err.println(`strange error flushing buffer ... 
`),A}this.flush_bitstream=function(c){var f=c.internal_flags,v,A,j=f.h_ptr-1;if(j==-1&&(j=R.MAX_HEADER_BUF-1),v=f.l3_side,!((A=D(c,new q))<0)){if(ee(c,A),d(f.header[j].write_timing+this.getframebits(c)==P),f.ResvSize=0,v.main_data_begin=0,f.findReplayGain){var X=T.GetTitleGain(f.rgdata);d(NEQ(X,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),f.RadioGain=Math.floor(X*10+.5)|0}f.findPeakSample&&(f.noclipGainChange=Math.ceil(Math.log10(f.PeakSample/32767)*20*10)|0,f.noclipGainChange>0&&(EQ(c.scale,1)||EQ(c.scale,0))?f.noclipScale=Math.floor(32767/f.PeakSample*100)/100:f.noclipScale=-1)}},this.add_dummy_byte=function(c,f,v){for(var A=c.internal_flags,j;v-- >0;)for(Z(A,f,8),j=0;j<R.MAX_HEADER_BUF;++j)A.header[j].write_timing+=8},this.format_bitstream=function(c){var f=c.internal_flags,v;v=f.l3_side;var A=this.getframebits(c);ee(c,v.resvDrain_pre),de(c,A);var j=8*f.sideinfo_len;if(j+=K(c),ee(c,v.resvDrain_post),j+=v.resvDrain_post,v.main_data_begin+=(A-j)/8,D(c,new q)!=f.ResvSize&&s.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),v.main_data_begin*8!=f.ResvSize&&(s.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*v.main_data_begin,f.ResvSize,v.resvDrain_post,v.resvDrain_pre,8*f.sideinfo_len,j-v.resvDrain_post-8*f.sideinfo_len,j,j%8,A),s.err.println("This is a fatal error.  It has several possible causes:"),s.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),s.err.println(" 9%%  Your system is overclocked"),s.err.println(" 1%%  bug in LAME encoding library"),f.ResvSize=v.main_data_begin*8),d(P%8==0),P>1e9){var X;for(X=0;X<R.MAX_HEADER_BUF;++X)f.header[X].write_timing-=P;P=0}return 0},this.copy_buffer=function(c,f,v,A,j){var X=l+1;if(X<=0)return 0;if(A!=0&&X>A)return-1;if(s.arraycopy(k,0,f,v,X),l=-1,N=0,j!=0){var Q=u(1);if(Q[0]=c.nMusicCRC,Y.updateMusicCRC(Q,f,v,X),c.nMusicCRC=Q[0],X>0&&(c.VBR_seek_table.nBytesWritten+=X),c.decode_on_the_fly){for(var z=m([2,1152]),ne=X,ae=-1,be;ae!=0;)if(ae=B.hip_decode1_unclipped(c.hip,f,v,ne,z[0],z[1]),ne=0,ae==-1&&(ae=0),ae>0){if(d(ae<=1152),c.findPeakSample){for(be=0;be<ae;be++)z[0][be]>c.PeakSample?c.PeakSample=z[0][be]:-z[0][be]>c.PeakSample&&(c.PeakSample=-z[0][be]);if(c.channels_out>1)for(be=0;be<ae;be++)z[1][be]>c.PeakSample?c.PeakSample=z[1][be]:-z[1][be]>c.PeakSample&&(c.PeakSample=-z[1][be])}if(c.findReplayGain&&T.AnalyzeSamples(c.rgdata,z[0],0,z[1],0,ae,c.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return X},this.init_bit_stream_w=function(c){k=o(Lame.LAME_MAXMP3BUFFER),c.h_ptr=c.w_ptr=0,c.header[c.h_ptr].write_timing=0,l=-1,N=0,P=0}}p.exports=b},9120:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var s=n.new_float;n.new_float_n;var i=n.new_int;n.new_int_n;var o=n.assert,m=e(3134),u=e(687),d=e(354),S=e(1998);function g(E){var R=E;this.quantize=R,this.iteration_loop=function(b,h,O,I){var T=b.internal_flags,B=s(d.SFBMAX),V=s(576),Y=i(2),k=0,P,l=T.l3_side,N=new m(k);this.quantize.rv.ResvFrameBegin(b,N),k=N.bits;for(var U=0;U<T.mode_gr;U++){P=this.quantize.qupvt.on_pe(b,h,Y,k,U,U),T.mode_ext==u.MPG_MD_MS_LR&&(this.quantize.ms_convert(T.l3_side,U),this.quantize.qupvt.reduce_side(Y,O[U],k,P));for(var W=0;W<T.channels_out;W++){var Z,ee,te=l.tt[U][W];te.block_type!=u.SHORT_TYPE?(Z=0,ee=T.PSY.mask_adjust-Z):(Z=0,ee=T.PSY.mask_adjust_short-Z),T.masking_lower=Math.pow(10,ee*.1),this.quantize.init_outer_loop(T,te),this.quantize.init_xrpow(T,te,V)&&(this.quantize.qupvt.calc_xmin(b,I[U][W],te,B),this.quantize.outer_loop(b,te,B,V,W,Y[W])),this.quantize.iteration_finish_one(T,U,W),o(te.part2_3_length<=S.MAX_BITS_PER_CHANNEL),o(te.part2_3_length<=Y[W])}}this.quantize.rv.ResvFrameEnd(T,k)}}p.exports=g},3449:(p,x,e)=>{var n=e(935),s=n.new_float,i=n.new_int;n.assert;function o(){this.global_gain=0,this.sfb_count1=0,this.step=i(39),this.noise=s(39),this.noise_log=s(39)}p.exports=o},2711:p=>{function x(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}p.exports=x},687:(p,x,e)=>{var n=e(935),s=n.System,i=n.VbrMode;n.Float,n.ShortBlock,n.Util,n.Arrays;var o=n.new_array_n;n.new_byte,n.new_double;var m=n.new_float,u=n.new_float_n,d=n.new_int;n.new_int_n;var S=n.assert;g.ENCDELAY=576,g.POSTDELAY=1152,g.MDCTDELAY=48,g.FFTOFFSET=224+g.MDCTDELAY,g.DECDELAY=528,g.SBLIMIT=32,g.CBANDS=64,g.SBPSY_l=21,g.SBPSY_s=12,g.SBMAX_l=22,g.SBMAX_s=13,g.PSFB21=6,g.PSFB12=6,g.BLKSIZE=1024,g.HBLKSIZE=g.BLKSIZE/2+1,g.BLKSIZE_s=256,g.HBLKSIZE_s=g.BLKSIZE_s/2+1,g.NORM_TYPE=0,g.START_TYPE=1,g.SHORT_TYPE=2,g.STOP_TYPE=3,g.MPG_MD_LR_LR=0,g.MPG_MD_LR_I=1,g.MPG_MD_MS_LR=2,g.MPG_MD_MS_I=3,g.fircoef=[-.1039435,-.1892065,-.21623599999999998,-.155915,3898045e-23,.23387249999999998,.50455,.756825,.9354899999999999];function g(){var E=e(2143),R=e(9584),b=g.FFTOFFSET,h=g.MPG_MD_MS_LR,O=null;this.psy=null;var I=null,T=null,B=null;this.setModules=function(l,N,U,W){O=l,this.psy=N,I=N,T=W,B=U};var V=new E;function Y(l){var N,U;if(l.ATH.useAdjust==0){l.ATH.adjust=1;return}if(U=l.loudness_sq[0][0],N=l.loudness_sq[1][0],l.channels_out==2?(U+=l.loudness_sq[0][1],N+=l.loudness_sq[1][1]):(U+=U,N+=N),l.mode_gr==2&&(U=Math.max(U,N)),U*=.5,U*=l.ATH.aaSensitivityP,U>.03125)l.ATH.adjust>=1?l.ATH.adjust=1:l.ATH.adjust<l.ATH.adjustLimit&&(l.ATH.adjust=l.ATH.adjustLimit),l.ATH.adjustLimit=1;else{var W=31.98*U+625e-6;l.ATH.adjust>=W?(l.ATH.adjust*=W*.075+.925,l.ATH.adjust<W&&(l.ATH.adjust=W)):l.ATH.adjustLimit>=W?l.ATH.adjust=W:l.ATH.adjust<l.ATH.adjustLimit&&(l.ATH.adjust=l.ATH.adjustLimit),l.ATH.adjustLimit=W}}function k(l){var N,U;for(S(0<=l.bitrate_index&&l.bitrate_index<16),S(0<=l.mode_ext&&l.mode_ext<4),l.bitrate_stereoMode_Hist[l.bitrate_index][4]++,l.bitrate_stereoMode_Hist[15][4]++,l.channels_out==2&&(l.bitrate_stereoMode_Hist[l.bitrate_index][l.mode_ext]++,l.bitrate_stereoMode_Hist[15][l.mode_ext]++),N=0;N<l.mode_gr;++N)for(U=0;U<l.channels_out;++U){var W=l.l3_side.tt[N][U].block_type|0;l.l3_side.tt[N][U].mixed_block_flag!=0&&(W=4),l.bitrate_blockType_Hist[l.bitrate_index][W]++,l.bitrate_blockType_Hist[l.bitrate_index][5]++,l.bitrate_blockType_Hist[15][W]++,l.bitrate_blockType_Hist[15][5]++}}function P(l,N){var U=l.internal_flags,W,Z;if(U.lame_encode_frame_init==0){var ee,te,me=m(2014),de=m(286+1152+576);for(U.lame_encode_frame_init=1,ee=0,te=0;ee<286+576*(1+U.mode_gr);++ee)ee<576*U.mode_gr?(me[ee]=0,U.channels_out==2&&(de[ee]=0)):(me[ee]=N[0][te],U.channels_out==2&&(de[ee]=N[1][te]),++te);for(Z=0;Z<U.mode_gr;Z++)for(W=0;W<U.channels_out;W++)U.l3_side.tt[Z][W].block_type=g.SHORT_TYPE;V.mdct_sub48(U,me,de),S(576>=g.FFTOFFSET),S(U.mf_size>=g.BLKSIZE+l.framesize-g.FFTOFFSET),S(U.mf_size>=512+l.framesize-32)}}this.lame_encode_mp3_frame=function(l,N,U,W,Z,ee){var te,me=o([2,2]);me[0][0]=new R,me[0][1]=new R,me[1][0]=new R,me[1][1]=new R;var de=o([2,2]);de[0][0]=new R,de[0][1]=new R,de[1][0]=new R,de[1][1]=new R;var _,G=[null,null],y=l.internal_flags,F=u([2,4]),K=[.5,.5],q=[[0,0],[0,0]],D=[[0,0],[0,0]],c,f,v;if(G[0]=N,G[1]=U,y.lame_encode_frame_init==0&&P(l,G),y.padding=0,(y.slot_lag-=y.frac_SpF)<0&&(y.slot_lag+=l.out_samplerate,y.padding=1),y.psymodel!=0){var A,j=[null,null],X=0,Q=d(2);for(v=0;v<y.mode_gr;v++){for(f=0;f<y.channels_out;f++)j[f]=G[f],X=576+v*576-g.FFTOFFSET;if(l.VBR==i.vbr_mtrh||l.VBR==i.vbr_mt?A=I.L3psycho_anal_vbr(l,j,X,v,me,de,q[v],D[v],F[v],Q):A=I.L3psycho_anal_ns(l,j,X,v,me,de,q[v],D[v],F[v],Q),A!=0)return-4;for(l.mode==MPEGMode.JOINT_STEREO&&(K[v]=F[v][2]+F[v][3],K[v]>0&&(K[v]=F[v][3]/K[v])),f=0;f<y.channels_out;f++){var z=y.l3_side.tt[v][f];z.block_type=Q[f],z.mixed_block_flag=0}}}else for(v=0;v<y.mode_gr;v++)for(f=0;f<y.channels_out;f++)y.l3_side.tt[v][f].block_type=g.NORM_TYPE,y.l3_side.tt[v][f].mixed_block_flag=0,D[v][f]=q[v][f]=700;if(Y(y),V.mdct_sub48(y,G[0],G[1]),y.mode_ext=g.MPG_MD_LR_LR,l.force_ms)y.mode_ext=g.MPG_MD_MS_LR;else if(l.mode==MPEGMode.JOINT_STEREO){var ne=0,ae=0;for(v=0;v<y.mode_gr;v++)for(f=0;f<y.channels_out;f++)ne+=D[v][f],ae+=q[v][f];if(ne<=1*ae){var be=y.l3_side.tt[0],Oe=y.l3_side.tt[y.mode_gr-1];be[0].block_type==be[1].block_type&&Oe[0].block_type==Oe[1].block_type&&(y.mode_ext=g.MPG_MD_MS_LR)}}if(y.mode_ext==h?(_=de,c=D):(_=me,c=q),l.analysis&&y.pinfo!=null)for(v=0;v<y.mode_gr;v++)for(f=0;f<y.channels_out;f++)y.pinfo.ms_ratio[v]=y.ms_ratio[v],y.pinfo.ms_ener_ratio[v]=K[v],y.pinfo.blocktype[v][f]=y.l3_side.tt[v][f].block_type,y.pinfo.pe[v][f]=c[v][f],s.arraycopy(y.l3_side.tt[v][f].xr,0,y.pinfo.xr[v][f],0,576),y.mode_ext==h&&(y.pinfo.ers[v][f]=y.pinfo.ers[v][f+2],s.arraycopy(y.pinfo.energy[v][f+2],0,y.pinfo.energy[v][f],0,y.pinfo.energy[v][f].length));if(l.VBR==i.vbr_off||l.VBR==i.vbr_abr){var Ce,Ge;for(Ce=0;Ce<18;Ce++)y.nsPsy.pefirbuf[Ce]=y.nsPsy.pefirbuf[Ce+1];for(Ge=0,v=0;v<y.mode_gr;v++)for(f=0;f<y.channels_out;f++)Ge+=c[v][f];for(y.nsPsy.pefirbuf[18]=Ge,Ge=y.nsPsy.pefirbuf[9],Ce=0;Ce<9;Ce++)Ge+=(y.nsPsy.pefirbuf[Ce]+y.nsPsy.pefirbuf[18-Ce])*g.fircoef[Ce];for(Ge=3350*y.mode_gr*y.channels_out/Ge,v=0;v<y.mode_gr;v++)for(f=0;f<y.channels_out;f++)c[v][f]*=Ge}if(y.iteration_loop.iteration_loop(l,c,K,_),O.format_bitstream(l),te=O.copy_buffer(y,W,Z,ee,1),l.bWriteVbrTag&&T.addVbrFrame(l),l.analysis&&y.pinfo!=null){for(f=0;f<y.channels_out;f++){var Ye;for(Ye=0;Ye<b;Ye++)y.pinfo.pcmdata[f][Ye]=y.pinfo.pcmdata[f][Ye+l.framesize];for(Ye=b;Ye<1600;Ye++)y.pinfo.pcmdata[f][Ye]=G[f][Ye-b]}B.set_frame_pinfo(l,_)}return k(y),te}}p.exports=g},9347:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock;var s=n.Util;n.Arrays,n.new_array_n,n.new_byte,n.new_double;var i=n.new_float;n.new_float_n,n.new_int,n.new_int_n,n.assert;var o=e(687);function m(){var u=i(o.BLKSIZE),d=i(o.BLKSIZE_s/2),S=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function g(R,b,h){var O=0,I,T,B;h<<=1;var V=b+h;I=4;do{var Y,k,P,l,N,U,W;W=I>>1,l=I,N=I<<1,U=N+l,I=N<<1,T=b,B=T+W;do{var Z,ee,te,me;ee=R[T+0]-R[T+l],Z=R[T+0]+R[T+l],me=R[T+N]-R[T+U],te=R[T+N]+R[T+U],R[T+N]=Z-te,R[T+0]=Z+te,R[T+U]=ee-me,R[T+l]=ee+me,ee=R[B+0]-R[B+l],Z=R[B+0]+R[B+l],me=s.SQRT2*R[B+U],te=s.SQRT2*R[B+N],R[B+N]=Z-te,R[B+0]=Z+te,R[B+U]=ee-me,R[B+l]=ee+me,B+=I,T+=I}while(T<V);for(k=S[O+0],Y=S[O+1],P=1;P<W;P++){var de,_;de=1-2*Y*Y,_=2*Y*k,T=b+P,B=b+l-P;do{var G,y,F,Z,ee,K,te,q,me,D;y=_*R[T+l]-de*R[B+l],G=de*R[T+l]+_*R[B+l],ee=R[T+0]-G,Z=R[T+0]+G,K=R[B+0]-y,F=R[B+0]+y,y=_*R[T+U]-de*R[B+U],G=de*R[T+U]+_*R[B+U],me=R[T+N]-G,te=R[T+N]+G,D=R[B+N]-y,q=R[B+N]+y,y=Y*te-k*D,G=k*te+Y*D,R[T+N]=Z-G,R[T+0]=Z+G,R[B+U]=K-y,R[B+l]=K+y,y=k*q-Y*me,G=Y*q+k*me,R[B+N]=F-G,R[B+0]=F+G,R[T+U]=ee-y,R[T+l]=ee+y,B+=I,T+=I}while(T<V);de=k,k=de*S[O+0]-Y*S[O+1],Y=de*S[O+1]+Y*S[O+0]}O+=2}while(I<h)}var E=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(R,b,h,O,I){for(var T=0;T<3;T++){var B=o.BLKSIZE_s/2,V=65535&576/3*(T+1),Y=o.BLKSIZE_s/8-1;do{var k,P,l,N,U,W=E[Y<<2]&255;k=d[W]*O[h][I+W+V],U=d[127-W]*O[h][I+W+V+128],P=k-U,k=k+U,l=d[W+64]*O[h][I+W+V+64],U=d[63-W]*O[h][I+W+V+192],N=l-U,l=l+U,B-=4,b[T][B+0]=k+l,b[T][B+2]=k-l,b[T][B+1]=P+N,b[T][B+3]=P-N,k=d[W+1]*O[h][I+W+V+1],U=d[126-W]*O[h][I+W+V+129],P=k-U,k=k+U,l=d[W+65]*O[h][I+W+V+65],U=d[62-W]*O[h][I+W+V+193],N=l-U,l=l+U,b[T][B+o.BLKSIZE_s/2+0]=k+l,b[T][B+o.BLKSIZE_s/2+2]=k-l,b[T][B+o.BLKSIZE_s/2+1]=P+N,b[T][B+o.BLKSIZE_s/2+3]=P-N}while(--Y>=0);g(b[T],B,o.BLKSIZE_s/2)}},this.fft_long=function(R,b,h,O,I){var T=o.BLKSIZE/8-1,B=o.BLKSIZE/2;do{var V,Y,k,P,l,N=E[T]&255;V=u[N]*O[h][I+N],l=u[N+512]*O[h][I+N+512],Y=V-l,V=V+l,k=u[N+256]*O[h][I+N+256],l=u[N+768]*O[h][I+N+768],P=k-l,k=k+l,B-=4,b[B+0]=V+k,b[B+2]=V-k,b[B+1]=Y+P,b[B+3]=Y-P,V=u[N+1]*O[h][I+N+1],l=u[N+513]*O[h][I+N+513],Y=V-l,V=V+l,k=u[N+257]*O[h][I+N+257],l=u[N+769]*O[h][I+N+769],P=k-l,k=k+l,b[B+o.BLKSIZE/2+0]=V+k,b[B+o.BLKSIZE/2+2]=V-k,b[B+o.BLKSIZE/2+1]=Y+P,b[B+o.BLKSIZE/2+3]=Y-P}while(--T>=0);g(b,B,o.BLKSIZE/2)},this.init_fft=function(R){for(var b=0;b<o.BLKSIZE;b++)u[b]=.42-.5*Math.cos(2*Math.PI*(b+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(b+.5)/o.BLKSIZE);for(var b=0;b<o.BLKSIZE_s/2;b++)d[b]=.5*(1-Math.cos(2*Math.PI*(b+.5)/o.BLKSIZE_s))}}p.exports=m},1287:(p,x,e)=>{var n=e(935),s=n.System;n.VbrMode,n.Float,n.ShortBlock,n.Util;var i=n.Arrays;n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert,o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1;function o(){var m=64.82;o.YULE_ORDER;var u=.95;o.MAX_SAMP_FREQ;var d=o.RMS_WINDOW_TIME_NUMERATOR,S=o.RMS_WINDOW_TIME_DENOMINATOR;o.MAX_SAMPLES_PER_WINDOW;var g=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],E=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function R(T,B,V,Y,k,P){for(;k--!=0;)V[Y]=1e-10+T[B+0]*P[0]-V[Y-1]*P[1]+T[B-1]*P[2]-V[Y-2]*P[3]+T[B-2]*P[4]-V[Y-3]*P[5]+T[B-3]*P[6]-V[Y-4]*P[7]+T[B-4]*P[8]-V[Y-5]*P[9]+T[B-5]*P[10]-V[Y-6]*P[11]+T[B-6]*P[12]-V[Y-7]*P[13]+T[B-7]*P[14]-V[Y-8]*P[15]+T[B-8]*P[16]-V[Y-9]*P[17]+T[B-9]*P[18]-V[Y-10]*P[19]+T[B-10]*P[20],++Y,++B}function b(T,B,V,Y,k,P){for(;k--!=0;)V[Y]=T[B+0]*P[0]-V[Y-1]*P[1]+T[B-1]*P[2]-V[Y-2]*P[3]+T[B-2]*P[4],++Y,++B}function h(T,B){for(var V=0;V<MAX_ORDER;V++)T.linprebuf[V]=T.lstepbuf[V]=T.loutbuf[V]=T.rinprebuf[V]=T.rstepbuf[V]=T.routbuf[V]=0;switch(0|B){case 48e3:T.reqindex=0;break;case 44100:T.reqindex=1;break;case 32e3:T.reqindex=2;break;case 24e3:T.reqindex=3;break;case 22050:T.reqindex=4;break;case 16e3:T.reqindex=5;break;case 12e3:T.reqindex=6;break;case 11025:T.reqindex=7;break;case 8e3:T.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return T.sampleWindow=0|(B*d+S-1)/S,T.lsum=0,T.rsum=0,T.totsamp=0,i.ill(T.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(T,B){return h(T,B)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(T.linpre=MAX_ORDER,T.rinpre=MAX_ORDER,T.lstep=MAX_ORDER,T.rstep=MAX_ORDER,T.lout=MAX_ORDER,T.rout=MAX_ORDER,i.fill(T.B,0),INIT_GAIN_ANALYSIS_OK)};function O(T){return T*T}this.AnalyzeSamples=function(T,B,V,Y,k,P,l){var N,U,W,Z,ee,te,me;if(P==0)return GAIN_ANALYSIS_OK;switch(me=0,ee=P,l){case 1:Y=B,k=V;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(P<MAX_ORDER?(s.arraycopy(B,V,T.linprebuf,MAX_ORDER,P),s.arraycopy(Y,k,T.rinprebuf,MAX_ORDER,P)):(s.arraycopy(B,V,T.linprebuf,MAX_ORDER,MAX_ORDER),s.arraycopy(Y,k,T.rinprebuf,MAX_ORDER,MAX_ORDER));ee>0;){te=ee>T.sampleWindow-T.totsamp?T.sampleWindow-T.totsamp:ee,me<MAX_ORDER?(N=T.linpre+me,U=T.linprebuf,W=T.rinpre+me,Z=T.rinprebuf,te>MAX_ORDER-me&&(te=MAX_ORDER-me)):(N=V+me,U=B,W=k+me,Z=Y),R(U,N,T.lstepbuf,T.lstep+T.totsamp,te,g[T.reqindex]),R(Z,W,T.rstepbuf,T.rstep+T.totsamp,te,g[T.reqindex]),b(T.lstepbuf,T.lstep+T.totsamp,T.loutbuf,T.lout+T.totsamp,te,E[T.reqindex]),b(T.rstepbuf,T.rstep+T.totsamp,T.routbuf,T.rout+T.totsamp,te,E[T.reqindex]),N=T.lout+T.totsamp,U=T.loutbuf,W=T.rout+T.totsamp,Z=T.routbuf;for(var de=te%8;de--!=0;)T.lsum+=O(U[N++]),T.rsum+=O(Z[W++]);for(de=te/8;de--!=0;)T.lsum+=O(U[N+0])+O(U[N+1])+O(U[N+2])+O(U[N+3])+O(U[N+4])+O(U[N+5])+O(U[N+6])+O(U[N+7]),N+=8,T.rsum+=O(Z[W+0])+O(Z[W+1])+O(Z[W+2])+O(Z[W+3])+O(Z[W+4])+O(Z[W+5])+O(Z[W+6])+O(Z[W+7]),W+=8;if(ee-=te,me+=te,T.totsamp+=te,T.totsamp==T.sampleWindow){var _=o.STEPS_per_dB*10*Math.log10((T.lsum+T.rsum)/T.totsamp*.5+1e-37),G=_<=0?0:0|_;G>=T.A.length&&(G=T.A.length-1),T.A[G]++,T.lsum=T.rsum=0,s.arraycopy(T.loutbuf,T.totsamp,T.loutbuf,0,MAX_ORDER),s.arraycopy(T.routbuf,T.totsamp,T.routbuf,0,MAX_ORDER),s.arraycopy(T.lstepbuf,T.totsamp,T.lstepbuf,0,MAX_ORDER),s.arraycopy(T.rstepbuf,T.totsamp,T.rstepbuf,0,MAX_ORDER),T.totsamp=0}if(T.totsamp>T.sampleWindow)return GAIN_ANALYSIS_ERROR}return P<MAX_ORDER?(s.arraycopy(T.linprebuf,P,T.linprebuf,0,MAX_ORDER-P),s.arraycopy(T.rinprebuf,P,T.rinprebuf,0,MAX_ORDER-P),s.arraycopy(B,V,T.linprebuf,MAX_ORDER-P,P),s.arraycopy(Y,k,T.rinprebuf,MAX_ORDER-P,P)):(s.arraycopy(B,V+P-MAX_ORDER,T.linprebuf,0,MAX_ORDER),s.arraycopy(Y,k+P-MAX_ORDER,T.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function I(T,B){var V,Y=0;for(V=0;V<B;V++)Y+=T[V];if(Y==0)return GAIN_NOT_ENOUGH_SAMPLES;var k=0|Math.ceil(Y*(1-u));for(V=B;V-- >0&&!((k-=T[V])<=0););return m-V/o.STEPS_per_dB}this.GetTitleGain=function(T){for(var B=I(T.A,T.A.length),V=0;V<T.A.length;V++)T.B[V]+=T.A[V],T.A[V]=0;for(var V=0;V<MAX_ORDER;V++)T.linprebuf[V]=T.lstepbuf[V]=T.loutbuf[V]=T.rinprebuf[V]=T.rstepbuf[V]=T.routbuf[V]=0;return T.totsamp=0,T.lsum=T.rsum=0,B}}p.exports=o},9438:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var s=n.new_float;n.new_float_n;var i=n.new_int;n.new_int_n,n.assert;var o=e(354);function m(){this.xr=s(576),this.l3_enc=i(576),this.scalefac=i(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=i(3),this.subblock_gain=i(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=i(o.SFBMAX),this.window=i(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=i(4),this.max_nonzero_coeff=0;var u=this;function d(g){return new Int32Array(g)}function S(g){return new Float32Array(g)}this.assign=function(g){u.xr=S(g.xr),u.l3_enc=d(g.l3_enc),u.scalefac=d(g.scalefac),u.xrpow_max=g.xrpow_max,u.part2_3_length=g.part2_3_length,u.big_values=g.big_values,u.count1=g.count1,u.global_gain=g.global_gain,u.scalefac_compress=g.scalefac_compress,u.block_type=g.block_type,u.mixed_block_flag=g.mixed_block_flag,u.table_select=d(g.table_select),u.subblock_gain=d(g.subblock_gain),u.region0_count=g.region0_count,u.region1_count=g.region1_count,u.preflag=g.preflag,u.scalefac_scale=g.scalefac_scale,u.count1table_select=g.count1table_select,u.part2_length=g.part2_length,u.sfb_lmax=g.sfb_lmax,u.sfb_smin=g.sfb_smin,u.psy_lmax=g.psy_lmax,u.sfbmax=g.sfbmax,u.psymax=g.psymax,u.sfbdivide=g.sfbdivide,u.width=d(g.width),u.window=d(g.window),u.count1bits=g.count1bits,u.sfb_partition_table=g.sfb_partition_table.slice(0),u.slen=d(g.slen),u.max_nonzero_coeff=g.max_nonzero_coeff}}p.exports=m},9524:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n;var s=n.new_int;n.new_int_n,n.assert;var i=e(9438);function o(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[s(4),s(4)];for(var m=0;m<2;m++)for(var u=0;u<2;u++)this.tt[m][u]=new i}p.exports=o},9584:(p,x,e)=>{var n=e(8200);function s(){this.thm=new n,this.en=new n}p.exports=s},8200:(p,x,e)=>{var n=e(687),s=e(935),i=s.System;s.VbrMode,s.Float,s.ShortBlock,s.Util,s.Arrays,s.new_array_n,s.new_byte,s.new_double;var o=s.new_float,m=s.new_float_n;s.new_int,s.new_int_n,s.assert;function u(){this.l=o(n.SBMAX_l),this.s=m([n.SBMAX_s,3]);var d=this;this.assign=function(S){i.arraycopy(S.l,0,d.l,0,n.SBMAX_l);for(var g=0;g<n.SBMAX_s;g++)for(var E=0;E<3;E++)d.s[g][E]=S.s[g][E]}}p.exports=u},354:(p,x,e)=>{var n=e(687),s={};s.SFBMAX=n.SBMAX_s*3,p.exports=s},4566:(p,x,e)=>{var n=e(935),s=n.System,i=n.VbrMode;n.Float;var o=n.ShortBlock;n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var m=n.new_float;n.new_float_n,n.new_int;var u=n.new_int_n,d=n.new_short_n,S=n.assert,g=e(9319),E=e(3893),R=e(1998),b=e(7514),h=e(1062),O=e(9120),I=e(3724),T=e(7721),B=e(687);function V(){var Y=this,k=128*1024;V.V9=410,V.V8=420,V.V7=430,V.V6=440,V.V5=450,V.V4=460,V.V3=470,V.V2=480,V.V1=490,V.V0=500,V.R3MIX=1e3,V.STANDARD=1001,V.EXTREME=1002,V.INSANE=1003,V.STANDARD_FAST=1004,V.EXTREME_FAST=1005,V.MEDIUM=1006,V.MEDIUM_FAST=1007;var P=16384+k;V.LAME_MAXMP3BUFFER=P;var l,N,U,W,Z,ee=new g,te,me,de;this.enc=new B,this.setModules=function(C,H,Le,Te,Ve,Ee,Fe,ze,Xe){l=C,N=H,U=Le,W=Te,Z=Ve,te=Ee,me=ze,de=Xe,this.enc.setModules(N,ee,W,te)};function _(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=m(B.SBMAX_l),this.bo_s_weight=m(B.SBMAX_s)}function G(){this.lowerlimit=0}function y(C,H){this.lowpass=H}var F=4294479419;function K(C){var H;return C.class_id=F,H=C.internal_flags=new R,C.mode=MPEGMode.NOT_SET,C.original=1,C.in_samplerate=44100,C.num_channels=2,C.num_samples=-1,C.bWriteVbrTag=!0,C.quality=-1,C.short_blocks=null,H.subblock_gain=-1,C.lowpassfreq=0,C.highpassfreq=0,C.lowpasswidth=-1,C.highpasswidth=-1,C.VBR=i.vbr_off,C.VBR_q=4,C.ATHcurve=-1,C.VBR_mean_bitrate_kbps=128,C.VBR_min_bitrate_kbps=0,C.VBR_max_bitrate_kbps=0,C.VBR_hard_min=0,H.VBR_min_bitrate=1,H.VBR_max_bitrate=13,C.quant_comp=-1,C.quant_comp_short=-1,C.msfix=-1,H.resample_ratio=1,H.OldValue[0]=180,H.OldValue[1]=180,H.CurrentStep[0]=4,H.CurrentStep[1]=4,H.masking_lower=1,H.nsPsy.attackthre=-1,H.nsPsy.attackthre_s=-1,C.scale=-1,C.athaa_type=-1,C.ATHtype=-1,C.athaa_loudapprox=-1,C.athaa_sensitivity=0,C.useTemporal=null,C.interChRatio=-1,H.mf_samples_to_encode=B.ENCDELAY+B.POSTDELAY,C.encoder_padding=0,H.mf_size=B.ENCDELAY-B.MDCTDELAY,C.findReplayGain=!1,C.decode_on_the_fly=!1,H.decode_on_the_fly=!1,H.findReplayGain=!1,H.findPeakSample=!1,H.RadioGain=0,H.AudiophileGain=0,H.noclipGainChange=0,H.noclipScale=-1,C.preset=0,C.write_id3tag_automatic=!0,0}this.lame_init=function(){var C=new E;return K(C),C.lame_allocated_gfp=1,C};function q(C){return C>1?0:C<=0?1:Math.cos(Math.PI/2*C)}this.nearestBitrateFullIndex=function(C){var H=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Le=0,Te=0,Ve=0,Ee=0;Ee=H[16],Ve=16,Te=H[16],Le=16;for(var Fe=0;Fe<16;Fe++)if(Math.max(C,H[Fe+1])!=C){Ee=H[Fe+1],Ve=Fe+1,Te=H[Fe],Le=Fe;break}return Ee-C>C-Te?Le:Ve};function D(C,H){var Le=44100;return H>=48e3?Le=48e3:H>=44100?Le=44100:H>=32e3?Le=32e3:H>=24e3?Le=24e3:H>=22050?Le=22050:H>=16e3?Le=16e3:H>=12e3?Le=12e3:H>=11025?Le=11025:H>=8e3&&(Le=8e3),C==-1?Le:(C<=15960&&(Le=44100),C<=15250&&(Le=32e3),C<=11220&&(Le=24e3),C<=9970&&(Le=22050),C<=7230&&(Le=16e3),C<=5420&&(Le=12e3),C<=4510&&(Le=11025),C<=3970&&(Le=8e3),H<Le?H>44100?48e3:H>32e3?44100:H>24e3?32e3:H>22050?24e3:H>16e3?22050:H>12e3?16e3:H>11025?12e3:H>8e3?11025:8e3:Le)}function c(C,H){switch(C){case 44100:return H.version=1,0;case 48e3:return H.version=1,1;case 32e3:return H.version=1,2;case 22050:return H.version=0,0;case 24e3:return H.version=0,1;case 16e3:return H.version=0,2;case 11025:return H.version=0,0;case 12e3:return H.version=0,1;case 8e3:return H.version=0,2;default:return H.version=0,-1}}function f(C,H,Le){Le<16e3&&(H=2);for(var Te=T.bitrate_table[H][1],Ve=2;Ve<=14;Ve++)T.bitrate_table[H][Ve]>0&&Math.abs(T.bitrate_table[H][Ve]-C)<Math.abs(Te-C)&&(Te=T.bitrate_table[H][Ve]);return Te}function v(C,H,Le){Le<16e3&&(H=2);for(var Te=0;Te<=14;Te++)if(T.bitrate_table[H][Te]>0&&T.bitrate_table[H][Te]==C)return Te;return-1}function A(C,H){var Le=[new y(8,2e3),new y(16,3700),new y(24,3900),new y(32,5500),new y(40,7e3),new y(48,7500),new y(56,1e4),new y(64,11e3),new y(80,13500),new y(96,15100),new y(112,15600),new y(128,17e3),new y(160,17500),new y(192,18600),new y(224,19400),new y(256,19700),new y(320,20500)],Te=Y.nearestBitrateFullIndex(H);C.lowerlimit=Le[Te].lowpass}function j(C){var H=C.internal_flags,Le=32,Te=-1;if(H.lowpass1>0){for(var Ve=999,Ee=0;Ee<=31;Ee++){var Fe=Ee/31;Fe>=H.lowpass2&&(Le=Math.min(Le,Ee)),H.lowpass1<Fe&&Fe<H.lowpass2&&(Ve=Math.min(Ve,Ee))}Ve==999?H.lowpass1=(Le-.75)/31:H.lowpass1=(Ve-.75)/31,H.lowpass2=Le/31}if(H.highpass2>0&&H.highpass2<.021774193548387097&&(H.highpass1=0,H.highpass2=0,s.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),H.highpass2>0){for(var ze=-1,Ee=0;Ee<=31;Ee++){var Fe=Ee/31;Fe<=H.highpass1&&(Te=Math.max(Te,Ee)),H.highpass1<Fe&&Fe<H.highpass2&&(ze=Math.max(ze,Ee))}H.highpass1=Te/31,ze==-1?H.highpass2=(Te+.75)/31:H.highpass2=(ze+.75)/31}for(var Ee=0;Ee<32;Ee++){var Xe,We,Fe=Ee/31;H.highpass2>H.highpass1?Xe=q((H.highpass2-Fe)/(H.highpass2-H.highpass1+1e-20)):Xe=1,H.lowpass2>H.lowpass1?We=q((Fe-H.lowpass1)/(H.lowpass2-H.lowpass1+1e-20)):We=1,H.amp_filter[Ee]=Xe*We}}function X(C){var H=C.internal_flags;switch(C.quality){default:case 9:H.psymodel=0,H.noise_shaping=0,H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.use_best_huffman=0,H.full_outer_loop=0;break;case 8:C.quality=7;case 7:H.psymodel=1,H.noise_shaping=0,H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.use_best_huffman=0,H.full_outer_loop=0;break;case 6:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=0,H.full_outer_loop=0;break;case 5:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=0,H.full_outer_loop=0;break;case 4:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=0,H.noise_shaping_stop=0,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 3:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.noise_shaping_amp=1,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 2:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.substep_shaping==0&&(H.substep_shaping=2),H.noise_shaping_amp=1,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 1:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.substep_shaping==0&&(H.substep_shaping=2),H.noise_shaping_amp=2,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break;case 0:H.psymodel=1,H.noise_shaping==0&&(H.noise_shaping=1),H.substep_shaping==0&&(H.substep_shaping=2),H.noise_shaping_amp=2,H.noise_shaping_stop=1,H.subblock_gain==-1&&(H.subblock_gain=1),H.use_best_huffman=1,H.full_outer_loop=0;break}}function Q(C){var H=C.internal_flags;C.frameNum=0,C.write_id3tag_automatic&&me.id3tag_write_v2(C),H.bitrate_stereoMode_Hist=u([16,5]),H.bitrate_blockType_Hist=u([16,6]),H.PeakSample=0,C.bWriteVbrTag&&te.InitVbrTag(C)}this.lame_init_params=function(C){var H=C.internal_flags;if(H.Class_ID=0,H.ATH==null&&(H.ATH=new b),H.PSY==null&&(H.PSY=new _),H.rgdata==null&&(H.rgdata=new h),H.channels_in=C.num_channels,H.channels_in==1&&(C.mode=MPEGMode.MONO),H.channels_out=C.mode==MPEGMode.MONO?1:2,H.mode_ext=B.MPG_MD_MS_LR,C.mode==MPEGMode.MONO&&(C.force_ms=!1),C.VBR==i.vbr_off&&C.VBR_mean_bitrate_kbps!=128&&C.brate==0&&(C.brate=C.VBR_mean_bitrate_kbps),C.VBR==i.vbr_off||C.VBR==i.vbr_mtrh||C.VBR==i.vbr_mt||(C.free_format=!1),C.VBR==i.vbr_off&&C.brate==0&&I.EQ(C.compression_ratio,0)&&(C.compression_ratio=11.025),C.VBR==i.vbr_off&&C.compression_ratio>0&&(C.out_samplerate==0&&(C.out_samplerate=map2MP3Frequency(int(.97*C.in_samplerate))),C.brate=0|C.out_samplerate*16*H.channels_out/(1e3*C.compression_ratio),H.samplerate_index=c(C.out_samplerate,C),C.free_format||(C.brate=f(C.brate,C.version,C.out_samplerate))),C.out_samplerate!=0&&(C.out_samplerate<16e3?(C.VBR_mean_bitrate_kbps=Math.max(C.VBR_mean_bitrate_kbps,8),C.VBR_mean_bitrate_kbps=Math.min(C.VBR_mean_bitrate_kbps,64)):C.out_samplerate<32e3?(C.VBR_mean_bitrate_kbps=Math.max(C.VBR_mean_bitrate_kbps,8),C.VBR_mean_bitrate_kbps=Math.min(C.VBR_mean_bitrate_kbps,160)):(C.VBR_mean_bitrate_kbps=Math.max(C.VBR_mean_bitrate_kbps,32),C.VBR_mean_bitrate_kbps=Math.min(C.VBR_mean_bitrate_kbps,320))),C.lowpassfreq==0){var Le=16e3;switch(C.VBR){case i.vbr_off:{var Te=new G;A(Te,C.brate),Le=Te.lowerlimit;break}case i.vbr_abr:{var Te=new G;A(Te,C.VBR_mean_bitrate_kbps),Le=Te.lowerlimit;break}case i.vbr_rh:{var Ve=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=C.VBR_q&&C.VBR_q<=9){var Ee=Ve[C.VBR_q],Fe=Ve[C.VBR_q+1],ze=C.VBR_q_frac;Le=linear_int(Ee,Fe,ze)}else Le=19500;break}default:{var Ve=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=C.VBR_q&&C.VBR_q<=9){var Ee=Ve[C.VBR_q],Fe=Ve[C.VBR_q+1],ze=C.VBR_q_frac;Le=linear_int(Ee,Fe,ze)}else Le=19500}}C.mode==MPEGMode.MONO&&(C.VBR==i.vbr_off||C.VBR==i.vbr_abr)&&(Le*=1.5),C.lowpassfreq=Le|0}if(C.out_samplerate==0&&(2*C.lowpassfreq>C.in_samplerate&&(C.lowpassfreq=C.in_samplerate/2),C.out_samplerate=D(C.lowpassfreq|0,C.in_samplerate)),C.lowpassfreq=Math.min(20500,C.lowpassfreq),C.lowpassfreq=Math.min(C.out_samplerate/2,C.lowpassfreq),C.VBR==i.vbr_off&&(C.compression_ratio=C.out_samplerate*16*H.channels_out/(1e3*C.brate)),C.VBR==i.vbr_abr&&(C.compression_ratio=C.out_samplerate*16*H.channels_out/(1e3*C.VBR_mean_bitrate_kbps)),C.bWriteVbrTag||(C.findReplayGain=!1,C.decode_on_the_fly=!1,H.findPeakSample=!1),H.findReplayGain=C.findReplayGain,H.decode_on_the_fly=C.decode_on_the_fly,H.decode_on_the_fly&&(H.findPeakSample=!0),H.findReplayGain&&l.InitGainAnalysis(H.rgdata,C.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return C.internal_flags=null,-6;switch(H.decode_on_the_fly&&!C.decode_only&&(H.hip!=null&&de.hip_decode_exit(H.hip),H.hip=de.hip_decode_init()),H.mode_gr=C.out_samplerate<=24e3?1:2,C.framesize=576*H.mode_gr,C.encoder_delay=B.ENCDELAY,H.resample_ratio=C.in_samplerate/C.out_samplerate,C.VBR){case i.vbr_mt:case i.vbr_rh:case i.vbr_mtrh:{var Xe=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];C.compression_ratio=Xe[C.VBR_q]}break;case i.vbr_abr:C.compression_ratio=C.out_samplerate*16*H.channels_out/(1e3*C.VBR_mean_bitrate_kbps);break;default:C.compression_ratio=C.out_samplerate*16*H.channels_out/(1e3*C.brate);break}if(C.mode==MPEGMode.NOT_SET&&(C.mode=MPEGMode.JOINT_STEREO),C.highpassfreq>0?(H.highpass1=2*C.highpassfreq,C.highpasswidth>=0?H.highpass2=2*(C.highpassfreq+C.highpasswidth):H.highpass2=2*C.highpassfreq,H.highpass1/=C.out_samplerate,H.highpass2/=C.out_samplerate):(H.highpass1=0,H.highpass2=0),C.lowpassfreq>0?(H.lowpass2=2*C.lowpassfreq,C.lowpasswidth>=0?(H.lowpass1=2*(C.lowpassfreq-C.lowpasswidth),H.lowpass1<0&&(H.lowpass1=0)):H.lowpass1=2*C.lowpassfreq,H.lowpass1/=C.out_samplerate,H.lowpass2/=C.out_samplerate):(H.lowpass1=0,H.lowpass2=0),j(C),H.samplerate_index=c(C.out_samplerate,C),H.samplerate_index<0)return C.internal_flags=null,-1;if(C.VBR==i.vbr_off){if(C.free_format)H.bitrate_index=0;else if(C.brate=f(C.brate,C.version,C.out_samplerate),H.bitrate_index=v(C.brate,C.version,C.out_samplerate),H.bitrate_index<=0)return C.internal_flags=null,-1}else H.bitrate_index=1;C.analysis&&(C.bWriteVbrTag=!1),H.pinfo!=null&&(C.bWriteVbrTag=!1),N.init_bit_stream_w(H);for(var We=H.samplerate_index+3*C.version+6*(C.out_samplerate<16e3?1:0),ke=0;ke<B.SBMAX_l+1;ke++)H.scalefac_band.l[ke]=W.sfBandIndex[We].l[ke];for(var ke=0;ke<B.PSFB21+1;ke++){var tt=(H.scalefac_band.l[22]-H.scalefac_band.l[21])/B.PSFB21,ct=H.scalefac_band.l[21]+ke*tt;H.scalefac_band.psfb21[ke]=ct}H.scalefac_band.psfb21[B.PSFB21]=576;for(var ke=0;ke<B.SBMAX_s+1;ke++)H.scalefac_band.s[ke]=W.sfBandIndex[We].s[ke];for(var ke=0;ke<B.PSFB12+1;ke++){var tt=(H.scalefac_band.s[13]-H.scalefac_band.s[12])/B.PSFB12,ct=H.scalefac_band.s[12]+ke*tt;H.scalefac_band.psfb12[ke]=ct}H.scalefac_band.psfb12[B.PSFB12]=192,C.version==1?H.sideinfo_len=H.channels_out==1?21:36:H.sideinfo_len=H.channels_out==1?13:21,C.error_protection&&(H.sideinfo_len+=2),Q(C),H.Class_ID=F;{var nt;for(nt=0;nt<19;nt++)H.nsPsy.pefirbuf[nt]=700*H.mode_gr*H.channels_out;C.ATHtype==-1&&(C.ATHtype=4)}switch(S(C.VBR_q<=9),S(C.VBR_q>=0),C.VBR){case i.vbr_mt:C.VBR=i.vbr_mtrh;case i.vbr_mtrh:{C.useTemporal==null&&(C.useTemporal=!1),U.apply_preset(C,500-C.VBR_q*10,0),C.quality<0&&(C.quality=LAME_DEFAULT_QUALITY),C.quality<5&&(C.quality=0),C.quality>5&&(C.quality=5),H.PSY.mask_adjust=C.maskingadjust,H.PSY.mask_adjust_short=C.maskingadjust_short,C.experimentalY?H.sfb21_extra=!1:H.sfb21_extra=C.out_samplerate>44e3,H.iteration_loop=new VBRNewIterationLoop(Z);break}case i.vbr_rh:{U.apply_preset(C,500-C.VBR_q*10,0),H.PSY.mask_adjust=C.maskingadjust,H.PSY.mask_adjust_short=C.maskingadjust_short,C.experimentalY?H.sfb21_extra=!1:H.sfb21_extra=C.out_samplerate>44e3,C.quality>6&&(C.quality=6),C.quality<0&&(C.quality=LAME_DEFAULT_QUALITY),H.iteration_loop=new VBROldIterationLoop(Z);break}default:{var He;H.sfb21_extra=!1,C.quality<0&&(C.quality=LAME_DEFAULT_QUALITY),He=C.VBR,He==i.vbr_off&&(C.VBR_mean_bitrate_kbps=C.brate),U.apply_preset(C,C.VBR_mean_bitrate_kbps,0),C.VBR=He,H.PSY.mask_adjust=C.maskingadjust,H.PSY.mask_adjust_short=C.maskingadjust_short,He==i.vbr_off?H.iteration_loop=new O(Z):H.iteration_loop=new ABRIterationLoop(Z);break}}if(S(C.scale>=0),C.VBR!=i.vbr_off){if(H.VBR_min_bitrate=1,H.VBR_max_bitrate=14,C.out_samplerate<16e3&&(H.VBR_max_bitrate=8),C.VBR_min_bitrate_kbps!=0&&(C.VBR_min_bitrate_kbps=f(C.VBR_min_bitrate_kbps,C.version,C.out_samplerate),H.VBR_min_bitrate=v(C.VBR_min_bitrate_kbps,C.version,C.out_samplerate),H.VBR_min_bitrate<0)||C.VBR_max_bitrate_kbps!=0&&(C.VBR_max_bitrate_kbps=f(C.VBR_max_bitrate_kbps,C.version,C.out_samplerate),H.VBR_max_bitrate=v(C.VBR_max_bitrate_kbps,C.version,C.out_samplerate),H.VBR_max_bitrate<0))return-1;C.VBR_min_bitrate_kbps=T.bitrate_table[C.version][H.VBR_min_bitrate],C.VBR_max_bitrate_kbps=T.bitrate_table[C.version][H.VBR_max_bitrate],C.VBR_mean_bitrate_kbps=Math.min(T.bitrate_table[C.version][H.VBR_max_bitrate],C.VBR_mean_bitrate_kbps),C.VBR_mean_bitrate_kbps=Math.max(T.bitrate_table[C.version][H.VBR_min_bitrate],C.VBR_mean_bitrate_kbps)}return C.tune&&(H.PSY.mask_adjust+=C.tune_value_a,H.PSY.mask_adjust_short+=C.tune_value_a),X(C),S(C.scale>=0),C.athaa_type<0?H.ATH.useAdjust=3:H.ATH.useAdjust=C.athaa_type,H.ATH.aaSensitivityP=Math.pow(10,C.athaa_sensitivity/-10),C.short_blocks==null&&(C.short_blocks=o.short_block_allowed),C.short_blocks==o.short_block_allowed&&(C.mode==MPEGMode.JOINT_STEREO||C.mode==MPEGMode.STEREO)&&(C.short_blocks=o.short_block_coupled),C.quant_comp<0&&(C.quant_comp=1),C.quant_comp_short<0&&(C.quant_comp_short=0),C.msfix<0&&(C.msfix=0),C.exp_nspsytune=C.exp_nspsytune|1,C.internal_flags.nsPsy.attackthre<0&&(C.internal_flags.nsPsy.attackthre=g.NSATTACKTHRE),C.internal_flags.nsPsy.attackthre_s<0&&(C.internal_flags.nsPsy.attackthre_s=g.NSATTACKTHRE_S),S(C.scale>=0),C.scale<0&&(C.scale=1),C.ATHtype<0&&(C.ATHtype=4),C.ATHcurve<0&&(C.ATHcurve=4),C.athaa_loudapprox<0&&(C.athaa_loudapprox=2),C.interChRatio<0&&(C.interChRatio=0),C.useTemporal==null&&(C.useTemporal=!0),H.slot_lag=H.frac_SpF=0,C.VBR==i.vbr_off&&(H.slot_lag=H.frac_SpF=(C.version+1)*72e3*C.brate%C.out_samplerate|0),W.iteration_init(C),ee.psymodel_init(C),S(C.scale>=0),0};function z(C,H){(C.in_buffer_0==null||C.in_buffer_nsamples<H)&&(C.in_buffer_0=m(H),C.in_buffer_1=m(H),C.in_buffer_nsamples=H)}this.lame_encode_flush=function(C,H,Le,Te){var Ve=C.internal_flags,Ee=d([2,1152]),Fe=0,ze,Xe,We,ke,tt=Ve.mf_samples_to_encode-B.POSTDELAY,ct=ne(C);if(Ve.mf_samples_to_encode<1)return 0;for(ze=0,C.in_samplerate!=C.out_samplerate&&(tt+=16*C.out_samplerate/C.in_samplerate),We=C.framesize-tt%C.framesize,We<576&&(We+=C.framesize),C.encoder_padding=We,ke=(tt+We)/C.framesize;ke>0&&Fe>=0;){var nt=ct-Ve.mf_size,He=C.frameNum;nt*=C.in_samplerate,nt/=C.out_samplerate,nt>1152&&(nt=1152),nt<1&&(nt=1),Xe=Te-ze,Te==0&&(Xe=0),Fe=this.lame_encode_buffer(C,Ee[0],Ee[1],nt,H,Le,Xe),Le+=Fe,ze+=Fe,ke-=He!=C.frameNum?1:0}if(Ve.mf_samples_to_encode=0,Fe<0||(Xe=Te-ze,Te==0&&(Xe=0),N.flush_bitstream(C),Fe=N.copy_buffer(Ve,H,Le,Xe,1),Fe<0))return Fe;if(Le+=Fe,ze+=Fe,Xe=Te-ze,Te==0&&(Xe=0),C.write_id3tag_automatic){if(me.id3tag_write_v1(C),Fe=N.copy_buffer(Ve,H,Le,Xe,0),Fe<0)return Fe;ze+=Fe}return ze},this.lame_encode_buffer=function(C,H,Le,Te,Ve,Ee,Fe){var ze=C.internal_flags,Xe=[null,null];if(ze.Class_ID!=F)return-3;if(Te==0)return 0;z(ze,Te),Xe[0]=ze.in_buffer_0,Xe[1]=ze.in_buffer_1;for(var We=0;We<Te;We++)Xe[0][We]=H[We],ze.channels_in>1&&(Xe[1][We]=Le[We]);return ae(C,Xe[0],Xe[1],Te,Ve,Ee,Fe)};function ne(C){var H=B.BLKSIZE+C.framesize-B.FFTOFFSET;return H=Math.max(H,512+C.framesize-32),S(R.MFSIZE>=H),H}function ae(C,H,Le,Te,Ve,Ee,Fe){var ze=C.internal_flags,Xe=0,We,ke,tt,ct,nt,He=[null,null],qe=[null,null];if(ze.Class_ID!=F)return-3;if(Te==0)return 0;if(nt=N.copy_buffer(ze,Ve,Ee,Fe,0),nt<0)return nt;if(Ee+=nt,Xe+=nt,qe[0]=H,qe[1]=Le,I.NEQ(C.scale,0)&&I.NEQ(C.scale,1))for(ke=0;ke<Te;++ke)qe[0][ke]*=C.scale,ze.channels_out==2&&(qe[1][ke]*=C.scale);if(I.NEQ(C.scale_left,0)&&I.NEQ(C.scale_left,1))for(ke=0;ke<Te;++ke)qe[0][ke]*=C.scale_left;if(I.NEQ(C.scale_right,0)&&I.NEQ(C.scale_right,1))for(ke=0;ke<Te;++ke)qe[1][ke]*=C.scale_right;if(C.num_channels==2&&ze.channels_out==1)for(ke=0;ke<Te;++ke)qe[0][ke]=.5*(qe[0][ke]+qe[1][ke]),qe[1][ke]=0;ct=ne(C),He[0]=ze.mfbuf[0],He[1]=ze.mfbuf[1];for(var Je=0;Te>0;){var lt=[null,null],gt=0,At=0;lt[0]=qe[0],lt[1]=qe[1];var kt=new Oe;if(xt(C,He,lt,Je,Te,kt),gt=kt.n_in,At=kt.n_out,ze.findReplayGain&&!ze.decode_on_the_fly&&l.AnalyzeSamples(ze.rgdata,He[0],ze.mf_size,He[1],ze.mf_size,At,ze.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Te-=gt,Je+=gt,ze.channels_out==2,ze.mf_size+=At,S(ze.mf_size<=R.MFSIZE),ze.mf_samples_to_encode<1&&(ze.mf_samples_to_encode=B.ENCDELAY+B.POSTDELAY),ze.mf_samples_to_encode+=At,ze.mf_size>=ct){var Gt=Fe-Xe;if(Fe==0&&(Gt=0),We=be(C,He[0],He[1],Ve,Ee,Gt),We<0)return We;for(Ee+=We,Xe+=We,ze.mf_size-=C.framesize,ze.mf_samples_to_encode-=C.framesize,tt=0;tt<ze.channels_out;tt++)for(ke=0;ke<ze.mf_size;ke++)He[tt][ke]=He[tt][ke+C.framesize]}}return S(Te==0),Xe}function be(C,H,Le,Te,Ve,Ee){var Fe=Y.enc.lame_encode_mp3_frame(C,H,Le,Te,Ve,Ee);return C.frameNum++,Fe}function Oe(){this.n_in=0,this.n_out=0}function Ce(){this.num_used=0}function Ge(C,H){return H!=0?Ge(H,C%H):C}function Ye(C,H,Le){var Te=Math.PI*H;C/=Le,C<0&&(C=0),C>1&&(C=1);var Ve=C-.5,Ee=.42-.5*Math.cos(2*C*Math.PI)+.08*Math.cos(4*C*Math.PI);return Math.abs(Ve)<1e-9?Te/Math.PI:Ee*Math.sin(Le*Te*Ve)/(Math.PI*Le*Ve)}function st(C,H,Le,Te,Ve,Ee,Fe,ze,Xe){var We=C.internal_flags,ke,tt=0,ct,nt=C.out_samplerate/Ge(C.out_samplerate,C.in_samplerate);nt>R.BPC&&(nt=R.BPC);var He=Math.abs(We.resample_ratio-Math.floor(.5+We.resample_ratio))<1e-4?1:0,qe=1/We.resample_ratio;qe>1&&(qe=1);var Je=31;Je%2==0&&--Je,Je+=He;var lt=Je+1;if(We.fill_buffer_resample_init==0){for(We.inbuf_old[0]=m(lt),We.inbuf_old[1]=m(lt),ke=0;ke<=2*nt;++ke)We.blackfilt[ke]=m(lt);for(We.itime[0]=0,We.itime[1]=0,tt=0;tt<=2*nt;tt++){var gt=0,At=(tt-nt)/(2*nt);for(ke=0;ke<=Je;ke++)gt+=We.blackfilt[tt][ke]=Ye(ke-At,qe,Je);for(ke=0;ke<=Je;ke++)We.blackfilt[tt][ke]/=gt}We.fill_buffer_resample_init=1}var kt=We.inbuf_old[Xe];for(ct=0;ct<Te;ct++){var Gt,Bt;if(Gt=ct*We.resample_ratio,tt=0|Math.floor(Gt-We.itime[Xe]),Je+tt-Je/2>=Fe)break;var At=Gt-We.itime[Xe]-(tt+.5*(Je%2));S(Math.abs(At)<=.501),Bt=0|Math.floor(At*2*nt+nt+.5);var zt=0;for(ke=0;ke<=Je;++ke){var tr=ke+tt-Je/2,fr;S(tr<Fe),S(tr+lt>=0),fr=tr<0?kt[lt+tr]:Ve[Ee+tr],zt+=fr*We.blackfilt[Bt][ke]}H[Le+ct]=zt}if(ze.num_used=Math.min(Fe,Je+tt-Je/2),We.itime[Xe]+=ze.num_used-ct*We.resample_ratio,ze.num_used>=lt)for(ke=0;ke<lt;ke++)kt[ke]=Ve[Ee+ze.num_used+ke-lt];else{var Jt=lt-ze.num_used;for(ke=0;ke<Jt;++ke)kt[ke]=kt[ke+ze.num_used];for(tt=0;ke<lt;++ke,++tt)kt[ke]=Ve[Ee+tt];S(tt==ze.num_used)}return ct}function xt(C,H,Le,Te,Ve,Ee){var Fe=C.internal_flags;if(Fe.resample_ratio<.9999||Fe.resample_ratio>1.0001)for(var ze=0;ze<Fe.channels_out;ze++){var Xe=new Ce;Ee.n_out=st(C,H[ze],Fe.mf_size,C.framesize,Le[ze],Te,Ve,Xe,ze),Ee.n_in=Xe.num_used}else{Ee.n_out=Math.min(C.framesize,Ve),Ee.n_in=Ee.n_out;for(var We=0;We<Ee.n_out;++We)H[0][Fe.mf_size+We]=Le[0][Te+We],Fe.channels_out==2&&(H[1][Fe.mf_size+We]=Le[1][Te+We])}}}p.exports=V},3893:(p,x,e)=>{var n=e(8231);function s(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=n.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}p.exports=s},1998:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n;var s=n.new_byte,i=n.new_double,o=n.new_float,m=n.new_float_n,u=n.new_int,d=n.new_int_n;n.assert;var S=e(9524),g=e(302),E=e(7885),R=e(3362),b=e(8200),h=e(687),O=e(354);I.MFSIZE=3456+h.ENCDELAY-h.MDCTDELAY,I.MAX_HEADER_BUF=256,I.MAX_BITS_PER_CHANNEL=4095,I.MAX_BITS_PER_GRANULE=7680,I.BPC=320;function I(){var T=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=m([2,I.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new S,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=u(2),this.CurrentStep=u(2),this.masking_lower=0,this.bv_scf=u(576),this.pseudohalf=u(O.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*I.BPC+1),this.itime=i(2),this.sideinfo_len=0,this.sb_sample=m([2,2,18,h.SBLIMIT]),this.amp_filter=o(32);function B(){this.write_timing=0,this.ptr=0,this.buf=s(T)}this.header=new Array(I.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new g,this.minval_l=o(h.CBANDS),this.minval_s=o(h.CBANDS),this.nb_1=m([4,h.CBANDS]),this.nb_2=m([4,h.CBANDS]),this.nb_s1=m([4,h.CBANDS]),this.nb_s2=m([4,h.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=m([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(h.SBMAX_l),this.mld_s=o(h.SBMAX_s),this.bm_l=u(h.SBMAX_l),this.bo_l=u(h.SBMAX_l),this.bm_s=u(h.SBMAX_s),this.bo_s=u(h.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=d([h.CBANDS,2]),this.s3ind_s=d([h.CBANDS,2]),this.numlines_s=u(h.CBANDS),this.numlines_l=u(h.CBANDS),this.rnumlines_l=o(h.CBANDS),this.mld_cb_l=o(h.CBANDS),this.mld_cb_s=o(h.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=u(2),this.nsPsy=new E,this.VBR_seek_table=new R,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=d([16,5]),this.bitrate_blockType_Hist=d([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var V=0;V<this.en.length;V++)this.en[V]=new b;for(var V=0;V<this.thm.length;V++)this.thm[V]=new b;for(var V=0;V<this.header.length;V++)this.header[V]=new B}p.exports=I},8231:p=>{function x(e){var n=e;this.ordinal=function(){return n}}x.STEREO=new x(0),x.JOINT_STEREO=new x(1),x.DUAL_CHANNEL=new x(2),x.MONO=new x(3),x.NOT_SET=new x(4),p.exports=x},3134:p=>{function x(e){this.bits=e}p.exports=x},2143:(p,x,e)=>{var n=e(935),s=n.System;n.VbrMode,n.Float,n.ShortBlock;var i=n.Util,o=n.Arrays;n.new_array_n,n.new_byte,n.new_double;var m=n.new_float;n.new_float_n,n.new_int,n.new_int_n,n.assert;var u=e(687);function d(){var S=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*i.SQRT2*.5/2384e-9,.017876148*i.SQRT2*.5/2384e-9,.003134727*i.SQRT2*.5/2384e-9,.002457142*i.SQRT2*.5/2384e-9,971317e-9*i.SQRT2*.5/2384e-9,218868e-9*i.SQRT2*.5/2384e-9,101566e-9*i.SQRT2*.5/2384e-9,13828e-9*i.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],g=12,E=36,R=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],b=R[u.SHORT_TYPE],h=R[u.SHORT_TYPE],O=R[u.SHORT_TYPE],I=R[u.SHORT_TYPE],T=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function B(k,P,l){for(var N=10,U=P+238-14-286,W=-15;W<0;W++){var Z,ee,te;Z=S[N+-10],ee=k[U+-224]*Z,te=k[P+224]*Z,Z=S[N+-9],ee+=k[U+-160]*Z,te+=k[P+160]*Z,Z=S[N+-8],ee+=k[U+-96]*Z,te+=k[P+96]*Z,Z=S[N+-7],ee+=k[U+-32]*Z,te+=k[P+32]*Z,Z=S[N+-6],ee+=k[U+32]*Z,te+=k[P+-32]*Z,Z=S[N+-5],ee+=k[U+96]*Z,te+=k[P+-96]*Z,Z=S[N+-4],ee+=k[U+160]*Z,te+=k[P+-160]*Z,Z=S[N+-3],ee+=k[U+224]*Z,te+=k[P+-224]*Z,Z=S[N+-2],ee+=k[P+-256]*Z,te-=k[U+256]*Z,Z=S[N+-1],ee+=k[P+-192]*Z,te-=k[U+192]*Z,Z=S[N+0],ee+=k[P+-128]*Z,te-=k[U+128]*Z,Z=S[N+1],ee+=k[P+-64]*Z,te-=k[U+64]*Z,Z=S[N+2],ee+=k[P+0]*Z,te-=k[U+0]*Z,Z=S[N+3],ee+=k[P+64]*Z,te-=k[U+-64]*Z,Z=S[N+4],ee+=k[P+128]*Z,te-=k[U+-128]*Z,Z=S[N+5],ee+=k[P+192]*Z,te-=k[U+-192]*Z,ee*=S[N+6],Z=te-ee,l[30+W*2]=te+ee,l[31+W*2]=S[N+7]*Z,N+=18,P--,U++}{var ee,te,me,de;te=k[P+-16]*S[N+-10],ee=k[P+-32]*S[N+-2],te+=(k[P+-48]-k[P+16])*S[N+-9],ee+=k[P+-96]*S[N+-1],te+=(k[P+-80]+k[P+48])*S[N+-8],ee+=k[P+-160]*S[N+0],te+=(k[P+-112]-k[P+80])*S[N+-7],ee+=k[P+-224]*S[N+1],te+=(k[P+-144]+k[P+112])*S[N+-6],ee-=k[P+32]*S[N+2],te+=(k[P+-176]-k[P+144])*S[N+-5],ee-=k[P+96]*S[N+3],te+=(k[P+-208]+k[P+176])*S[N+-4],ee-=k[P+160]*S[N+4],te+=(k[P+-240]-k[P+208])*S[N+-3],ee-=k[P+224],me=ee-te,de=ee+te,te=l[14],ee=l[15]-te,l[31]=de+te,l[30]=me+ee,l[15]=me-ee,l[14]=de-te}{var _;_=l[28]-l[0],l[0]+=l[28],l[28]=_*S[N+-36+7],_=l[29]-l[1],l[1]+=l[29],l[29]=_*S[N+-36+7],_=l[26]-l[2],l[2]+=l[26],l[26]=_*S[N+-72+7],_=l[27]-l[3],l[3]+=l[27],l[27]=_*S[N+-72+7],_=l[24]-l[4],l[4]+=l[24],l[24]=_*S[N+-108+7],_=l[25]-l[5],l[5]+=l[25],l[25]=_*S[N+-108+7],_=l[22]-l[6],l[6]+=l[22],l[22]=_*i.SQRT2,_=l[23]-l[7],l[7]+=l[23],l[23]=_*i.SQRT2-l[7],l[7]-=l[6],l[22]-=l[7],l[23]-=l[22],_=l[6],l[6]=l[31]-_,l[31]=l[31]+_,_=l[7],l[7]=l[30]-_,l[30]=l[30]+_,_=l[22],l[22]=l[15]-_,l[15]=l[15]+_,_=l[23],l[23]=l[14]-_,l[14]=l[14]+_,_=l[20]-l[8],l[8]+=l[20],l[20]=_*S[N+-180+7],_=l[21]-l[9],l[9]+=l[21],l[21]=_*S[N+-180+7],_=l[18]-l[10],l[10]+=l[18],l[18]=_*S[N+-216+7],_=l[19]-l[11],l[11]+=l[19],l[19]=_*S[N+-216+7],_=l[16]-l[12],l[12]+=l[16],l[16]=_*S[N+-252+7],_=l[17]-l[13],l[13]+=l[17],l[17]=_*S[N+-252+7],_=-l[20]+l[24],l[20]+=l[24],l[24]=_*S[N+-216+7],_=-l[21]+l[25],l[21]+=l[25],l[25]=_*S[N+-216+7],_=l[4]-l[8],l[4]+=l[8],l[8]=_*S[N+-216+7],_=l[5]-l[9],l[5]+=l[9],l[9]=_*S[N+-216+7],_=l[0]-l[12],l[0]+=l[12],l[12]=_*S[N+-72+7],_=l[1]-l[13],l[1]+=l[13],l[13]=_*S[N+-72+7],_=l[16]-l[28],l[16]+=l[28],l[28]=_*S[N+-72+7],_=-l[17]+l[29],l[17]+=l[29],l[29]=_*S[N+-72+7],_=i.SQRT2*(l[2]-l[10]),l[2]+=l[10],l[10]=_,_=i.SQRT2*(l[3]-l[11]),l[3]+=l[11],l[11]=_,_=i.SQRT2*(-l[18]+l[26]),l[18]+=l[26],l[26]=_-l[18],_=i.SQRT2*(-l[19]+l[27]),l[19]+=l[27],l[27]=_-l[19],_=l[2],l[19]-=l[3],l[3]-=_,l[2]=l[31]-_,l[31]+=_,_=l[3],l[11]-=l[19],l[18]-=_,l[3]=l[30]-_,l[30]+=_,_=l[18],l[27]-=l[11],l[19]-=_,l[18]=l[15]-_,l[15]+=_,_=l[19],l[10]-=_,l[19]=l[14]-_,l[14]+=_,_=l[10],l[11]-=_,l[10]=l[23]-_,l[23]+=_,_=l[11],l[26]-=_,l[11]=l[22]-_,l[22]+=_,_=l[26],l[27]-=_,l[26]=l[7]-_,l[7]+=_,_=l[27],l[27]=l[6]-_,l[6]+=_,_=i.SQRT2*(l[0]-l[4]),l[0]+=l[4],l[4]=_,_=i.SQRT2*(l[1]-l[5]),l[1]+=l[5],l[5]=_,_=i.SQRT2*(l[16]-l[20]),l[16]+=l[20],l[20]=_,_=i.SQRT2*(l[17]-l[21]),l[17]+=l[21],l[21]=_,_=-i.SQRT2*(l[8]-l[12]),l[8]+=l[12],l[12]=_-l[8],_=-i.SQRT2*(l[9]-l[13]),l[9]+=l[13],l[13]=_-l[9],_=-i.SQRT2*(l[25]-l[29]),l[25]+=l[29],l[29]=_-l[25],_=-i.SQRT2*(l[24]+l[28]),l[24]-=l[28],l[28]=_-l[24],_=l[24]-l[16],l[24]=_,_=l[20]-_,l[20]=_,_=l[28]-_,l[28]=_,_=l[25]-l[17],l[25]=_,_=l[21]-_,l[21]=_,_=l[29]-_,l[29]=_,_=l[17]-l[1],l[17]=_,_=l[9]-_,l[9]=_,_=l[25]-_,l[25]=_,_=l[5]-_,l[5]=_,_=l[21]-_,l[21]=_,_=l[13]-_,l[13]=_,_=l[29]-_,l[29]=_,_=l[1]-l[0],l[1]=_,_=l[16]-_,l[16]=_,_=l[17]-_,l[17]=_,_=l[8]-_,l[8]=_,_=l[9]-_,l[9]=_,_=l[24]-_,l[24]=_,_=l[25]-_,l[25]=_,_=l[4]-_,l[4]=_,_=l[5]-_,l[5]=_,_=l[20]-_,l[20]=_,_=l[21]-_,l[21]=_,_=l[12]-_,l[12]=_,_=l[13]-_,l[13]=_,_=l[28]-_,l[28]=_,_=l[29]-_,l[29]=_,_=l[0],l[0]+=l[31],l[31]-=_,_=l[1],l[1]+=l[30],l[30]-=_,_=l[16],l[16]+=l[15],l[15]-=_,_=l[17],l[17]+=l[14],l[14]-=_,_=l[8],l[8]+=l[23],l[23]-=_,_=l[9],l[9]+=l[22],l[22]-=_,_=l[24],l[24]+=l[7],l[7]-=_,_=l[25],l[25]+=l[6],l[6]-=_,_=l[4],l[4]+=l[27],l[27]-=_,_=l[5],l[5]+=l[26],l[26]-=_,_=l[20],l[20]+=l[11],l[11]-=_,_=l[21],l[21]+=l[10],l[10]-=_,_=l[12],l[12]+=l[19],l[19]-=_,_=l[13],l[13]+=l[18],l[18]-=_,_=l[28],l[28]+=l[3],l[3]-=_,_=l[29],l[29]+=l[2],l[2]-=_}}function V(k,P){for(var l=0;l<3;l++){var N,U,W,Z,ee,te;Z=k[P+6]*R[u.SHORT_TYPE][0]-k[P+15],N=k[P+0]*R[u.SHORT_TYPE][2]-k[P+9],U=Z+N,W=Z-N,Z=k[P+15]*R[u.SHORT_TYPE][0]+k[P+6],N=k[P+9]*R[u.SHORT_TYPE][2]+k[P+0],ee=Z+N,te=-Z+N,N=(k[P+3]*R[u.SHORT_TYPE][1]-k[P+12])*2069978111953089e-26,Z=(k[P+12]*R[u.SHORT_TYPE][1]+k[P+3])*2069978111953089e-26,k[P+0]=U*190752519173728e-25+N,k[P+15]=-ee*190752519173728e-25+Z,W=W*.8660254037844387*1907525191737281e-26,ee=ee*.5*1907525191737281e-26+Z,k[P+3]=W-ee,k[P+6]=W+ee,U=U*.5*1907525191737281e-26-N,te=te*.8660254037844387*1907525191737281e-26,k[P+9]=U+te,k[P+12]=U-te,P++}}function Y(k,P,l){var N,U;{var W,Z,ee,te,me,de,_,G;W=l[17]-l[9],ee=l[15]-l[11],te=l[14]-l[12],me=l[0]+l[8],de=l[1]+l[7],_=l[2]+l[6],G=l[3]+l[5],k[P+17]=me+_-G-(de-l[4]),U=(me+_-G)*h[19]+(de-l[4]),N=(W-ee-te)*h[18],k[P+5]=N+U,k[P+6]=N-U,Z=(l[16]-l[10])*h[18],de=de*h[19]+l[4],N=W*h[12]+Z+ee*h[13]+te*h[14],U=-me*h[16]+de-_*h[17]+G*h[15],k[P+1]=N+U,k[P+2]=N-U,N=W*h[13]-Z-ee*h[14]+te*h[12],U=-me*h[17]+de-_*h[15]+G*h[16],k[P+9]=N+U,k[P+10]=N-U,N=W*h[14]-Z+ee*h[12]-te*h[13],U=me*h[15]-de+_*h[16]-G*h[17],k[P+13]=N+U,k[P+14]=N-U}{var y,F,K,q,D,c,f,v;y=l[8]-l[0],K=l[6]-l[2],q=l[5]-l[3],D=l[17]+l[9],c=l[16]+l[10],f=l[15]+l[11],v=l[14]+l[12],k[P+0]=D+f+v+(c+l[13]),N=(D+f+v)*h[19]-(c+l[13]),U=(y-K+q)*h[18],k[P+11]=N+U,k[P+12]=N-U,F=(l[7]-l[1])*h[18],c=l[13]-c*h[19],N=D*h[15]-c+f*h[16]+v*h[17],U=y*h[14]+F+K*h[12]+q*h[13],k[P+3]=N+U,k[P+4]=N-U,N=-D*h[17]+c-f*h[15]-v*h[16],U=y*h[13]+F-K*h[14]-q*h[12],k[P+7]=N+U,k[P+8]=N-U,N=-D*h[16]+c-f*h[17]-v*h[15],U=y*h[12]-F+K*h[13]-q*h[14],k[P+15]=N+U,k[P+16]=N-U}}this.mdct_sub48=function(k,P,l){for(var N=P,U=286,W=0;W<k.channels_out;W++){for(var Z=0;Z<k.mode_gr;Z++){for(var ee,te=k.l3_side.tt[Z][W],me=te.xr,de=0,_=k.sb_sample[W][1-Z],G=0,y=0;y<9;y++)for(B(N,U,_[G]),B(N,U+32,_[G+1]),G+=2,U+=64,ee=1;ee<32;ee+=2)_[G-1][ee]*=-1;for(ee=0;ee<32;ee++,de+=18){var F=te.block_type,K=k.sb_sample[W][Z],q=k.sb_sample[W][1-Z];if(te.mixed_block_flag!=0&&ee<2&&(F=0),k.amp_filter[ee]<1e-12)o.fill(me,de+0,de+18,0);else{if(k.amp_filter[ee]<1)for(var y=0;y<18;y++)q[y][T[ee]]*=k.amp_filter[ee];if(F==u.SHORT_TYPE){for(var y=-g/4;y<0;y++){var D=R[u.SHORT_TYPE][y+3];me[de+y*3+9]=K[9+y][T[ee]]*D-K[8-y][T[ee]],me[de+y*3+18]=K[14-y][T[ee]]*D+K[15+y][T[ee]],me[de+y*3+10]=K[15+y][T[ee]]*D-K[14-y][T[ee]],me[de+y*3+19]=q[2-y][T[ee]]*D+q[3+y][T[ee]],me[de+y*3+11]=q[3+y][T[ee]]*D-q[2-y][T[ee]],me[de+y*3+20]=q[8-y][T[ee]]*D+q[9+y][T[ee]]}V(me,de)}else{for(var c=m(18),y=-E/4;y<0;y++){var f,v;f=R[F][y+27]*q[y+9][T[ee]]+R[F][y+36]*q[8-y][T[ee]],v=R[F][y+9]*K[y+9][T[ee]]-R[F][y+18]*K[8-y][T[ee]],c[y+9]=f-v*b[3+y+9],c[y+18]=f*b[3+y+9]+v}Y(me,de,c)}}if(F!=u.SHORT_TYPE&&ee!=0)for(var y=7;y>=0;--y){var A,j;A=me[de+y]*O[20+y]+me[de+-1-y]*I[28+y],j=me[de+y]*I[28+y]-me[de+-1-y]*O[20+y],me[de+-1-y]=A,me[de+y]=j}}}if(N=l,U=286,k.mode_gr==1)for(var X=0;X<18;X++)s.arraycopy(k.sb_sample[W][1][X],0,k.sb_sample[W][0][X],0,32)}}}p.exports=d},7885:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var s=n.new_float,i=n.new_float_n,o=n.new_int;n.new_int_n,n.assert;var m=e(687);function u(){this.last_en_subshort=i([4,9]),this.lastAttacks=o(4),this.pefirbuf=s(19),this.longfact=s(m.SBMAX_l),this.shortfact=s(m.SBMAX_s),this.attackthre=0,this.attackthre_s=0}p.exports=u},9457:(p,x,e)=>{var n=e(935);n.System;var s=n.VbrMode;n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert;function i(){function o(h,O,I,T,B,V,Y,k,P,l,N,U,W,Z,ee){this.vbr_q=h,this.quant_comp=O,this.quant_comp_s=I,this.expY=T,this.st_lrm=B,this.st_s=V,this.masking_adj=Y,this.masking_adj_short=k,this.ath_lower=P,this.ath_curve=l,this.ath_sensitivity=N,this.interch=U,this.safejoint=W,this.sfb21mod=Z,this.msfix=ee}function m(h,O,I,T,B,V,Y,k,P,l,N,U,W,Z){this.quant_comp=O,this.quant_comp_s=I,this.safejoint=T,this.nsmsfix=B,this.st_lrm=V,this.st_s=Y,this.nsbass=k,this.scale=P,this.masking_adj=l,this.ath_lower=N,this.ath_curve=U,this.interch=W,this.sfscale=Z}var u;this.setModules=function(h){u=h};var d=[new o(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new o(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new o(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new o(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new o(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new o(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new o(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new o(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new o(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new o(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new o(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],S=[new o(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new o(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new o(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new o(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new o(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new o(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new o(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new o(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new o(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new o(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new o(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function g(h,O,I){var T=h.VBR==s.vbr_rh?d:S,B=h.VBR_q_frac,V=T[O],Y=T[O+1],k=V;V.st_lrm=V.st_lrm+B*(Y.st_lrm-V.st_lrm),V.st_s=V.st_s+B*(Y.st_s-V.st_s),V.masking_adj=V.masking_adj+B*(Y.masking_adj-V.masking_adj),V.masking_adj_short=V.masking_adj_short+B*(Y.masking_adj_short-V.masking_adj_short),V.ath_lower=V.ath_lower+B*(Y.ath_lower-V.ath_lower),V.ath_curve=V.ath_curve+B*(Y.ath_curve-V.ath_curve),V.ath_sensitivity=V.ath_sensitivity+B*(Y.ath_sensitivity-V.ath_sensitivity),V.interch=V.interch+B*(Y.interch-V.interch),V.msfix=V.msfix+B*(Y.msfix-V.msfix),b(h,k.vbr_q),I!=0?h.quant_comp=k.quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=k.quant_comp),I!=0?h.quant_comp_short=k.quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=k.quant_comp_s),k.expY!=0&&(h.experimentalY=k.expY!=0),I!=0?h.internal_flags.nsPsy.attackthre=k.st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=k.st_lrm),I!=0?h.internal_flags.nsPsy.attackthre_s=k.st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=k.st_s),I!=0?h.maskingadjust=k.masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=k.masking_adj),I!=0?h.maskingadjust_short=k.masking_adj_short:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=k.masking_adj_short),I!=0?h.ATHlower=-k.ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-k.ath_lower/10),I!=0?h.ATHcurve=k.ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=k.ath_curve),I!=0?h.athaa_sensitivity=k.ath_sensitivity:Math.abs(h.athaa_sensitivity- -1)>0||(h.athaa_sensitivity=k.ath_sensitivity),k.interch>0&&(I!=0?h.interChRatio=k.interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=k.interch)),k.safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|k.safejoint),k.sfb21mod>0&&(h.exp_nspsytune=h.exp_nspsytune|k.sfb21mod<<20),I!=0?h.msfix=k.msfix:Math.abs(h.msfix- -1)>0||(h.msfix=k.msfix),I==0&&(h.VBR_q=O,h.VBR_q_frac=B)}var E=[new m(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new m(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new m(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new m(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new m(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new m(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new m(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new m(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new m(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new m(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new m(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new m(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new m(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new m(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new m(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new m(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new m(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function R(h,O,I){var T=O,B=u.nearestBitrateFullIndex(O);if(h.VBR=s.vbr_abr,h.VBR_mean_bitrate_kbps=T,h.VBR_mean_bitrate_kbps=Math.min(h.VBR_mean_bitrate_kbps,320),h.VBR_mean_bitrate_kbps=Math.max(h.VBR_mean_bitrate_kbps,8),h.brate=h.VBR_mean_bitrate_kbps,h.VBR_mean_bitrate_kbps>320&&(h.disable_reservoir=!0),E[B].safejoint>0&&(h.exp_nspsytune=h.exp_nspsytune|2),E[B].sfscale>0&&(h.internal_flags.noise_shaping=2),Math.abs(E[B].nsbass)>0){var V=int(E[B].nsbass*4);V<0&&(V+=64),h.exp_nspsytune=h.exp_nspsytune|V<<2}return I!=0?h.quant_comp=E[B].quant_comp:Math.abs(h.quant_comp- -1)>0||(h.quant_comp=E[B].quant_comp),I!=0?h.quant_comp_short=E[B].quant_comp_s:Math.abs(h.quant_comp_short- -1)>0||(h.quant_comp_short=E[B].quant_comp_s),I!=0?h.msfix=E[B].nsmsfix:Math.abs(h.msfix- -1)>0||(h.msfix=E[B].nsmsfix),I!=0?h.internal_flags.nsPsy.attackthre=E[B].st_lrm:Math.abs(h.internal_flags.nsPsy.attackthre- -1)>0||(h.internal_flags.nsPsy.attackthre=E[B].st_lrm),I!=0?h.internal_flags.nsPsy.attackthre_s=E[B].st_s:Math.abs(h.internal_flags.nsPsy.attackthre_s- -1)>0||(h.internal_flags.nsPsy.attackthre_s=E[B].st_s),I!=0?h.scale=E[B].scale:Math.abs(h.scale- -1)>0||(h.scale=E[B].scale),I!=0?h.maskingadjust=E[B].masking_adj:Math.abs(h.maskingadjust-0)>0||(h.maskingadjust=E[B].masking_adj),E[B].masking_adj>0?I!=0?h.maskingadjust_short=E[B].masking_adj*.9:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=E[B].masking_adj*.9):I!=0?h.maskingadjust_short=E[B].masking_adj*1.1:Math.abs(h.maskingadjust_short-0)>0||(h.maskingadjust_short=E[B].masking_adj*1.1),I!=0?h.ATHlower=-E[B].ath_lower/10:Math.abs(-h.ATHlower*10-0)>0||(h.ATHlower=-E[B].ath_lower/10),I!=0?h.ATHcurve=E[B].ath_curve:Math.abs(h.ATHcurve- -1)>0||(h.ATHcurve=E[B].ath_curve),I!=0?h.interChRatio=E[B].interch:Math.abs(h.interChRatio- -1)>0||(h.interChRatio=E[B].interch),O}this.apply_preset=function(h,O,I){switch(O){case Lame.R3MIX:{O=Lame.V3,h.VBR=s.vbr_mtrh;break}case Lame.MEDIUM:{O=Lame.V4,h.VBR=s.vbr_rh;break}case Lame.MEDIUM_FAST:{O=Lame.V4,h.VBR=s.vbr_mtrh;break}case Lame.STANDARD:{O=Lame.V2,h.VBR=s.vbr_rh;break}case Lame.STANDARD_FAST:{O=Lame.V2,h.VBR=s.vbr_mtrh;break}case Lame.EXTREME:{O=Lame.V0,h.VBR=s.vbr_rh;break}case Lame.EXTREME_FAST:{O=Lame.V0,h.VBR=s.vbr_mtrh;break}case Lame.INSANE:return O=320,h.preset=O,R(h,O,I),h.VBR=s.vbr_off,O}switch(h.preset=O,O){case Lame.V9:return g(h,9,I),O;case Lame.V8:return g(h,8,I),O;case Lame.V7:return g(h,7,I),O;case Lame.V6:return g(h,6,I),O;case Lame.V5:return g(h,5,I),O;case Lame.V4:return g(h,4,I),O;case Lame.V3:return g(h,3,I),O;case Lame.V2:return g(h,2,I),O;case Lame.V1:return g(h,1,I),O;case Lame.V0:return g(h,0,I),O}return 8<=O&&O<=320?R(h,O,I):(h.preset=0,O)};function b(h,O){var I=0;return 0>O&&(I=-1,O=0),9<O&&(I=-1,O=9),h.VBR_q=O,h.VBR_q_frac=0,I}}p.exports=i},9319:(p,x,e)=>{var n=e(935);n.System;var s=n.VbrMode,i=n.Float,o=n.ShortBlock,m=n.Util,u=n.Arrays;n.new_array_n,n.new_byte,n.new_double;var d=n.new_float,S=n.new_float_n,g=n.new_int;n.new_int_n;var E=n.assert,R=e(9347),b=e(687);function h(){var O=new R,I=2.302585092994046,T=2,B=16,V=2,Y=16,k=.34,P=1/(14752*14752)/(b.BLKSIZE/2),l=.01,N=.8,U=.6,W=.3,Z=3.5,ee=21,te=.2302585093;function me(J){return J}function de(J,$){for(var oe=0,ue=0;ue<b.BLKSIZE/2;++ue)oe+=J[ue]*$.ATH.eql_w[ue];return oe*=P,oe}function _(J,$,oe,ue,ye,re,pe,Se,ge,Be,xe){var Ne=J.internal_flags;if(ge<2)O.fft_long(Ne,ue[ye],ge,Be,xe),O.fft_short(Ne,re[pe],ge,Be,xe);else if(ge==2){for(var at=b.BLKSIZE-1;at>=0;--at){var ut=ue[ye+0][at],Ke=ue[ye+1][at];ue[ye+0][at]=(ut+Ke)*m.SQRT2*.5,ue[ye+1][at]=(ut-Ke)*m.SQRT2*.5}for(var ht=2;ht>=0;--ht)for(var at=b.BLKSIZE_s-1;at>=0;--at){var ut=re[pe+0][ht][at],Ke=re[pe+1][ht][at];re[pe+0][ht][at]=(ut+Ke)*m.SQRT2*.5,re[pe+1][ht][at]=(ut-Ke)*m.SQRT2*.5}}$[0]=ue[ye+0][0],$[0]*=$[0];for(var at=b.BLKSIZE/2-1;at>=0;--at){var Me=ue[ye+0][b.BLKSIZE/2-at],ve=ue[ye+0][b.BLKSIZE/2+at];$[b.BLKSIZE/2-at]=(Me*Me+ve*ve)*.5}for(var ht=2;ht>=0;--ht){oe[ht][0]=re[pe+0][ht][0],oe[ht][0]*=oe[ht][0];for(var at=b.BLKSIZE_s/2-1;at>=0;--at){var Me=re[pe+0][ht][b.BLKSIZE_s/2-at],ve=re[pe+0][ht][b.BLKSIZE_s/2+at];oe[ht][b.BLKSIZE_s/2-at]=(Me*Me+ve*ve)*.5}}{for(var Pe=0,at=11;at<b.HBLKSIZE;at++)Pe+=$[at];Ne.tot_ener[ge]=Pe}if(J.analysis){for(var at=0;at<b.HBLKSIZE;at++)Ne.pinfo.energy[Se][ge][at]=Ne.pinfo.energy_save[ge][at],Ne.pinfo.energy_save[ge][at]=$[at];Ne.pinfo.pe[Se][ge]=Ne.pe[ge]}J.athaa_loudapprox==2&&ge<2&&(Ne.loudness_sq[Se][ge]=Ne.loudness_sq_save[ge],Ne.loudness_sq_save[ge]=de($,Ne))}var G=8,y=23,F=15,K,q,D,c=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function f(){K=Math.pow(10,(G+1)/16),q=Math.pow(10,(y+1)/16),D=Math.pow(10,F/10)}var v=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],A=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],j=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function X(J,$,oe,ue,ye,re){var pe;if($>J)if($<J*q)pe=$/J;else return J+$;else{if(J>=$*q)return J+$;pe=J/$}if(E(J>=0),E($>=0),J+=$,ue+3<=6){if(pe>=K)return J;var Se=0|m.FAST_LOG10_X(pe,16);return J*A[Se]}var Se=0|m.FAST_LOG10_X(pe,16);if(re!=0?$=ye.ATH.cb_s[oe]*ye.ATH.adjust:$=ye.ATH.cb_l[oe]*ye.ATH.adjust,E($>=0),J<D*$){if(J>$){var ge,Be;return ge=1,Se<=13&&(ge=j[Se]),Be=m.FAST_LOG10_X(J/$,.6666666666666666),J*((v[Se]-ge)*Be+ge)}return Se>13?J:J*j[Se]}return J*v[Se]}var Q=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function z(J,$,oe){var ue;if(J<0&&(J=0),$<0&&($=0),J<=0)return $;if($<=0)return J;if($>J?ue=$/J:ue=J/$,-2<=oe&&oe<=2){if(ue>=K)return J+$;var ye=0|m.FAST_LOG10_X(ue,16);return(J+$)*Q[ye]}return ue<q?J+$:(J<$&&(J=$),J)}function ne(J,$){var oe=J.internal_flags;if(oe.channels_out>1){for(var ue=0;ue<b.SBMAX_l;ue++){var ye=oe.thm[0].l[ue],re=oe.thm[1].l[ue];oe.thm[0].l[ue]+=re*$,oe.thm[1].l[ue]+=ye*$}for(var ue=0;ue<b.SBMAX_s;ue++)for(var pe=0;pe<3;pe++){var ye=oe.thm[0].s[ue][pe],re=oe.thm[1].s[ue][pe];oe.thm[0].s[ue][pe]+=re*$,oe.thm[1].s[ue][pe]+=ye*$}}}function ae(J){for(var $=0;$<b.SBMAX_l;$++)if(!(J.thm[0].l[$]>1.58*J.thm[1].l[$]||J.thm[1].l[$]>1.58*J.thm[0].l[$])){var oe=J.mld_l[$]*J.en[3].l[$],ue=Math.max(J.thm[2].l[$],Math.min(J.thm[3].l[$],oe));oe=J.mld_l[$]*J.en[2].l[$];var ye=Math.max(J.thm[3].l[$],Math.min(J.thm[2].l[$],oe));J.thm[2].l[$]=ue,J.thm[3].l[$]=ye}for(var $=0;$<b.SBMAX_s;$++)for(var re=0;re<3;re++)if(!(J.thm[0].s[$][re]>1.58*J.thm[1].s[$][re]||J.thm[1].s[$][re]>1.58*J.thm[0].s[$][re])){var oe=J.mld_s[$]*J.en[3].s[$][re],ue=Math.max(J.thm[2].s[$][re],Math.min(J.thm[3].s[$][re],oe));oe=J.mld_s[$]*J.en[2].s[$][re];var ye=Math.max(J.thm[3].s[$][re],Math.min(J.thm[2].s[$][re],oe));J.thm[2].s[$][re]=ue,J.thm[3].s[$][re]=ye}}function be(J,$,oe){var ue=$,ye=Math.pow(10,oe);$*=2,ue*=2;for(var re=0;re<b.SBMAX_l;re++){var pe,Se,ge,Be;if(Be=J.ATH.cb_l[J.bm_l[re]]*ye,pe=Math.min(Math.max(J.thm[0].l[re],Be),Math.max(J.thm[1].l[re],Be)),Se=Math.max(J.thm[2].l[re],Be),ge=Math.max(J.thm[3].l[re],Be),pe*$<Se+ge){var xe=pe*ue/(Se+ge);Se*=xe,ge*=xe,E(Se+ge>0)}J.thm[2].l[re]=Math.min(Se,J.thm[2].l[re]),J.thm[3].l[re]=Math.min(ge,J.thm[3].l[re])}ye*=b.BLKSIZE_s/b.BLKSIZE;for(var re=0;re<b.SBMAX_s;re++)for(var Ne=0;Ne<3;Ne++){var pe,Se,ge,Be;if(Be=J.ATH.cb_s[J.bm_s[re]]*ye,pe=Math.min(Math.max(J.thm[0].s[re][Ne],Be),Math.max(J.thm[1].s[re][Ne],Be)),Se=Math.max(J.thm[2].s[re][Ne],Be),ge=Math.max(J.thm[3].s[re][Ne],Be),pe*$<Se+ge){var xe=pe*$/(Se+ge);Se*=xe,ge*=xe,E(Se+ge>0)}J.thm[2].s[re][Ne]=Math.min(J.thm[2].s[re][Ne],Se),J.thm[3].s[re][Ne]=Math.min(J.thm[3].s[re][Ne],ge)}}function Oe(J,$,oe,ue,ye){var re,pe,Se=0,ge=0;for(re=pe=0;re<b.SBMAX_s;++pe,++re){for(var Be=J.bo_s[re],xe=J.npart_s,Ne=Be<xe?Be:xe;pe<Ne;)E($[pe]>=0),E(oe[pe]>=0),Se+=$[pe],ge+=oe[pe],pe++;if(J.en[ue].s[re][ye]=Se,J.thm[ue].s[re][ye]=ge,pe>=xe){++re;break}E($[pe]>=0),E(oe[pe]>=0);{var at=J.PSY.bo_s_weight[re],ut=1-at;Se=at*$[pe],ge=at*oe[pe],J.en[ue].s[re][ye]+=Se,J.thm[ue].s[re][ye]+=ge,Se=ut*$[pe],ge=ut*oe[pe]}}for(;re<b.SBMAX_s;++re)J.en[ue].s[re][ye]=0,J.thm[ue].s[re][ye]=0}function Ce(J,$,oe,ue){var ye,re,pe=0,Se=0;for(ye=re=0;ye<b.SBMAX_l;++re,++ye){for(var ge=J.bo_l[ye],Be=J.npart_l,xe=ge<Be?ge:Be;re<xe;)E($[re]>=0),E(oe[re]>=0),pe+=$[re],Se+=oe[re],re++;if(J.en[ue].l[ye]=pe,J.thm[ue].l[ye]=Se,re>=Be){++ye;break}E($[re]>=0),E(oe[re]>=0);{var Ne=J.PSY.bo_l_weight[ye],at=1-Ne;pe=Ne*$[re],Se=Ne*oe[re],J.en[ue].l[ye]+=pe,J.thm[ue].l[ye]+=Se,pe=at*$[re],Se=at*oe[re]}}for(;ye<b.SBMAX_l;++ye)J.en[ue].l[ye]=0,J.thm[ue].l[ye]=0}function Ge(J,$,oe,ue,ye,re){var pe=J.internal_flags,Se,ge;for(ge=Se=0;ge<pe.npart_s;++ge){for(var Be=0,xe=pe.numlines_s[ge],Ne=0;Ne<xe;++Ne,++Se){var at=$[re][Se];Be+=at}oe[ge]=Be}for(E(ge==pe.npart_s),E(Se==129),Se=ge=0;ge<pe.npart_s;ge++){var ut=pe.s3ind_s[ge][0],Ke=pe.s3_ss[Se++]*oe[ut];for(++ut;ut<=pe.s3ind_s[ge][1];)Ke+=pe.s3_ss[Se]*oe[ut],++Se,++ut;{var ht=V*pe.nb_s1[ye][ge];ue[ge]=Math.min(Ke,ht)}if(pe.blocktype_old[ye&1]==b.SHORT_TYPE){var ht=Y*pe.nb_s2[ye][ge],Me=ue[ge];ue[ge]=Math.min(ht,Me)}pe.nb_s2[ye][ge]=pe.nb_s1[ye][ge],pe.nb_s1[ye][ge]=Ke,E(ue[ge]>=0)}for(;ge<=b.CBANDS;++ge)oe[ge]=0,ue[ge]=0}function Ye(J,$,oe,ue){var ye=J.internal_flags;J.short_blocks==o.short_block_coupled&&!($[0]!=0&&$[1]!=0)&&($[0]=$[1]=0);for(var re=0;re<ye.channels_out;re++)ue[re]=b.NORM_TYPE,J.short_blocks==o.short_block_dispensed&&($[re]=1),J.short_blocks==o.short_block_forced&&($[re]=0),$[re]!=0?(E(ye.blocktype_old[re]!=b.START_TYPE),ye.blocktype_old[re]==b.SHORT_TYPE&&(ue[re]=b.STOP_TYPE)):(ue[re]=b.SHORT_TYPE,ye.blocktype_old[re]==b.NORM_TYPE&&(ye.blocktype_old[re]=b.START_TYPE),ye.blocktype_old[re]==b.STOP_TYPE&&(ye.blocktype_old[re]=b.SHORT_TYPE)),oe[re]=ye.blocktype_old[re],ye.blocktype_old[re]=ue[re]}function st(J,$,oe){return oe>=1?J:oe<=0?$:$>0?Math.pow(J/$,oe)*$:0}var xt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function C(J,$){for(var oe=309.07,ue=0;ue<b.SBMAX_s-1;ue++)for(var ye=0;ye<3;ye++){var re=J.thm.s[ue][ye];if(E(ue<xt.length),re>0){var pe=re*$,Se=J.en.s[ue][ye];Se>pe&&(Se>pe*1e10?oe+=xt[ue]*(10*I):(E(pe>0),oe+=xt[ue]*m.FAST_LOG10(Se/pe)))}}return oe}var H=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function Le(J,$){for(var oe=281.0575,ue=0;ue<b.SBMAX_l-1;ue++){var ye=J.thm.l[ue];if(E(ue<H.length),ye>0){var re=ye*$,pe=J.en.l[ue];pe>re&&(pe>re*1e10?oe+=H[ue]*(10*I):(E(re>0),oe+=H[ue]*m.FAST_LOG10(pe/re)))}}return oe}function Te(J,$,oe,ue,ye){var re,pe;for(re=pe=0;re<J.npart_l;++re){var Se=0,ge=0,Be;for(Be=0;Be<J.numlines_l[re];++Be,++pe){var xe=$[pe];E(xe>=0),Se+=xe,ge<xe&&(ge=xe)}oe[re]=Se,ue[re]=ge,ye[re]=Se*J.rnumlines_l[re],E(J.rnumlines_l[re]>=0),E(Se>=0),E(oe[re]>=0),E(ue[re]>=0),E(ye[re]>=0)}}function Ve(J,$,oe,ue){var ye=c.length-1,re=0,pe=oe[re]+oe[re+1];if(E(pe>=0),pe>0){var Se=$[re];Se<$[re+1]&&(Se=$[re+1]),E(J.numlines_l[re]+J.numlines_l[re+1]-1>0),pe=20*(Se*2-pe)/(pe*(J.numlines_l[re]+J.numlines_l[re+1]-1));var ge=0|pe;ge>ye&&(ge=ye),ue[re]=ge}else ue[re]=0;for(re=1;re<J.npart_l-1;re++)if(pe=oe[re-1]+oe[re]+oe[re+1],E(pe>=0),pe>0){var Se=$[re-1];Se<$[re]&&(Se=$[re]),Se<$[re+1]&&(Se=$[re+1]),E(J.numlines_l[re-1]+J.numlines_l[re]+J.numlines_l[re+1]-1>0),pe=20*(Se*3-pe)/(pe*(J.numlines_l[re-1]+J.numlines_l[re]+J.numlines_l[re+1]-1));var ge=0|pe;ge>ye&&(ge=ye),ue[re]=ge}else ue[re]=0;if(E(re>0),E(re==J.npart_l-1),pe=oe[re-1]+oe[re],E(pe>=0),pe>0){var Se=$[re-1];Se<$[re]&&(Se=$[re]),E(J.numlines_l[re-1]+J.numlines_l[re]-1>0),pe=20*(Se*2-pe)/(pe*(J.numlines_l[re-1]+J.numlines_l[re]-1));var ge=0|pe;ge>ye&&(ge=ye),ue[re]=ge}else ue[re]=0;E(re==J.npart_l-1)}var Ee=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(J,$,oe,ue,ye,re,pe,Se,ge,Be){var xe=J.internal_flags,Ne=S([2,b.BLKSIZE]),at=S([2,3,b.BLKSIZE_s]),ut=d(b.CBANDS+1),Ke=d(b.CBANDS+1),ht=d(b.CBANDS+2),Me=g(2),ve=g(2),Pe,se,ie,fe,$e,it,Qe,mt,St=S([2,576]),It,Ze=g(b.CBANDS+2),Mt=g(b.CBANDS+2);for(u.fill(Mt,0),Pe=xe.channels_out,J.mode==MPEGMode.JOINT_STEREO&&(Pe=4),J.VBR==s.vbr_off?It=xe.ResvMax==0?0:xe.ResvSize/xe.ResvMax*.5:J.VBR==s.vbr_rh||J.VBR==s.vbr_mtrh||J.VBR==s.vbr_mt?It=.6:It=1,se=0;se<xe.channels_out;se++){var Ct=$[se],Zt=oe+576-350-ee+192;for(E(Ee.length==(ee-1)/2),fe=0;fe<576;fe++){var $t,qt;for($t=Ct[Zt+fe+10],qt=0,$e=0;$e<(ee-1)/2-1;$e+=2)$t+=Ee[$e]*(Ct[Zt+fe+$e]+Ct[Zt+fe+ee-$e]),qt+=Ee[$e+1]*(Ct[Zt+fe+$e+1]+Ct[Zt+fe+ee-$e-1]);St[se][fe]=$t+qt}ye[ue][se].en.assign(xe.en[se]),ye[ue][se].thm.assign(xe.thm[se]),Pe>2&&(re[ue][se].en.assign(xe.en[se+2]),re[ue][se].thm.assign(xe.thm[se+2]))}for(se=0;se<Pe;se++){var sr,cr,er=d(12),mr=[0,0,0,0],Br=d(12),un=1,Tn,An=d(b.CBANDS),_n=d(b.CBANDS),Ut=[0,0,0,0],Rr=d(b.HBLKSIZE),cn=S([3,b.HBLKSIZE_s]);for(E(xe.npart_s<=b.CBANDS),E(xe.npart_l<=b.CBANDS),fe=0;fe<3;fe++)er[fe]=xe.nsPsy.last_en_subshort[se][fe+6],E(xe.nsPsy.last_en_subshort[se][fe+4]>0),Br[fe]=er[fe]/xe.nsPsy.last_en_subshort[se][fe+4],mr[0]+=er[fe];if(se==2)for(fe=0;fe<576;fe++){var Fr,Lr;Fr=St[0][fe],Lr=St[1][fe],St[0][fe]=Fr+Lr,St[1][fe]=Fr-Lr}{var Wr=St[se&1],jr=0;for(fe=0;fe<9;fe++){for(var zn=jr+64,jt=1;jr<zn;jr++)jt<Math.abs(Wr[jr])&&(jt=Math.abs(Wr[jr]));xe.nsPsy.last_en_subshort[se][fe]=er[fe+3]=jt,mr[1+fe/3]+=jt,jt>er[fe+3-2]?(E(er[fe+3-2]>0),jt=jt/er[fe+3-2]):er[fe+3-2]>jt*10?(E(jt>0),jt=er[fe+3-2]/(jt*10)):jt=0,Br[fe+3]=jt}}if(J.analysis){var xr=Br[0];for(fe=1;fe<12;fe++)xr<Br[fe]&&(xr=Br[fe]);xe.pinfo.ers[ue][se]=xe.pinfo.ers_save[se],xe.pinfo.ers_save[se]=xr}for(Tn=se==3?xe.nsPsy.attackthre_s:xe.nsPsy.attackthre,fe=0;fe<12;fe++)Ut[fe/3]==0&&Br[fe]>Tn&&(Ut[fe/3]=fe%3+1);for(fe=1;fe<4;fe++){var Dr;mr[fe-1]>mr[fe]?(E(mr[fe]>0),Dr=mr[fe-1]/mr[fe]):(E(mr[fe-1]>0),Dr=mr[fe]/mr[fe-1]),Dr<1.7&&(Ut[fe]=0,fe==1&&(Ut[0]=0))}for(Ut[0]!=0&&xe.nsPsy.lastAttacks[se]!=0&&(Ut[0]=0),(xe.nsPsy.lastAttacks[se]==3||Ut[0]+Ut[1]+Ut[2]+Ut[3]!=0)&&(un=0,Ut[1]!=0&&Ut[0]!=0&&(Ut[1]=0),Ut[2]!=0&&Ut[1]!=0&&(Ut[2]=0),Ut[3]!=0&&Ut[2]!=0&&(Ut[3]=0)),se<2?ve[se]=un:un==0&&(ve[0]=ve[1]=0),ge[se]=xe.tot_ener[se],cr=at,sr=Ne,_(J,Rr,cn,sr,se&1,cr,se&1,ue,se,$,oe),Te(xe,Rr,ut,An,_n),Ve(xe,An,_n,Ze),mt=0;mt<3;mt++){var dn,rr;for(Ge(J,cn,Ke,ht,se,mt),Oe(xe,Ke,ht,se,mt),Qe=0;Qe<b.SBMAX_s;Qe++){if(rr=xe.thm[se].s[Qe][mt],rr*=N,Ut[mt]>=2||Ut[mt+1]==1){var Vr=mt!=0?mt-1:2,jt=st(xe.thm[se].s[Qe][Vr],rr,U*It);rr=Math.min(rr,jt)}if(Ut[mt]==1){var Vr=mt!=0?mt-1:2,jt=st(xe.thm[se].s[Qe][Vr],rr,W*It);rr=Math.min(rr,jt)}else if(mt!=0&&Ut[mt-1]==3||mt==0&&xe.nsPsy.lastAttacks[se]==3){var Vr=mt!=2?mt+1:0,jt=st(xe.thm[se].s[Qe][Vr],rr,W*It);rr=Math.min(rr,jt)}dn=er[mt*3+3]+er[mt*3+4]+er[mt*3+5],er[mt*3+5]*6<dn&&(rr*=.5,er[mt*3+4]*6<dn&&(rr*=.5)),xe.thm[se].s[Qe][mt]=rr}}for(xe.nsPsy.lastAttacks[se]=Ut[2],it=0,ie=0;ie<xe.npart_l;ie++){for(var Tr=xe.s3ind[ie][0],vn=ut[Tr]*c[Ze[Tr]],Ir=xe.s3_ll[it++]*vn;++Tr<=xe.s3ind[ie][1];)vn=ut[Tr]*c[Ze[Tr]],Ir=X(Ir,xe.s3_ll[it++]*vn,Tr,Tr-ie,xe,0);Ir*=.158489319246111,xe.blocktype_old[se&1]==b.SHORT_TYPE?ht[ie]=Ir:ht[ie]=st(Math.min(Ir,Math.min(T*xe.nb_1[se][ie],B*xe.nb_2[se][ie])),Ir,It),xe.nb_2[se][ie]=xe.nb_1[se][ie],xe.nb_1[se][ie]=Ir}for(;ie<=b.CBANDS;++ie)ut[ie]=0,ht[ie]=0;Ce(xe,ut,ht,se)}if((J.mode==MPEGMode.STEREO||J.mode==MPEGMode.JOINT_STEREO)&&J.interChRatio>0&&ne(J,J.interChRatio),J.mode==MPEGMode.JOINT_STEREO){var Zr;ae(xe),Zr=J.msfix,Math.abs(Zr)>0&&be(xe,Zr,J.ATHlower*xe.ATH.adjust)}for(Ye(J,ve,Be,Me),se=0;se<Pe;se++){var Or,Ar=0,Ur,pr;se>1?(Or=Se,Ar=-2,Ur=b.NORM_TYPE,(Be[0]==b.SHORT_TYPE||Be[1]==b.SHORT_TYPE)&&(Ur=b.SHORT_TYPE),pr=re[ue][se-2]):(Or=pe,Ar=0,Ur=Be[se],pr=ye[ue][se]),Ur==b.SHORT_TYPE?Or[Ar+se]=C(pr,xe.masking_lower):Or[Ar+se]=Le(pr,xe.masking_lower),J.analysis&&(xe.pinfo.pe[ue][se]=Or[Ar+se])}return 0};function Fe(J,$,oe,ue,ye,re,pe,Se){var ge=J.internal_flags;if(ue<2)O.fft_long(ge,pe[Se],ue,$,oe);else if(ue==2)for(var Be=b.BLKSIZE-1;Be>=0;--Be){var xe=pe[Se+0][Be],Ne=pe[Se+1][Be];pe[Se+0][Be]=(xe+Ne)*m.SQRT2*.5,pe[Se+1][Be]=(xe-Ne)*m.SQRT2*.5}re[0]=pe[Se+0][0],re[0]*=re[0];for(var Be=b.BLKSIZE/2-1;Be>=0;--Be){var at=pe[Se+0][b.BLKSIZE/2-Be],ut=pe[Se+0][b.BLKSIZE/2+Be];re[b.BLKSIZE/2-Be]=(at*at+ut*ut)*.5}{for(var Ke=0,Be=11;Be<b.HBLKSIZE;Be++)Ke+=re[Be];ge.tot_ener[ue]=Ke}if(J.analysis){for(var Be=0;Be<b.HBLKSIZE;Be++)ge.pinfo.energy[ye][ue][Be]=ge.pinfo.energy_save[ue][Be],ge.pinfo.energy_save[ue][Be]=re[Be];ge.pinfo.pe[ye][ue]=ge.pe[ue]}}function ze(J,$,oe,ue,ye,re,pe,Se){var ge=J.internal_flags;if(ye==0&&ue<2&&O.fft_short(ge,pe[Se],ue,$,oe),ue==2)for(var Be=b.BLKSIZE_s-1;Be>=0;--Be){var xe=pe[Se+0][ye][Be],Ne=pe[Se+1][ye][Be];pe[Se+0][ye][Be]=(xe+Ne)*m.SQRT2*.5,pe[Se+1][ye][Be]=(xe-Ne)*m.SQRT2*.5}re[ye][0]=pe[Se+0][ye][0],re[ye][0]*=re[ye][0];for(var Be=b.BLKSIZE_s/2-1;Be>=0;--Be){var at=pe[Se+0][ye][b.BLKSIZE_s/2-Be],ut=pe[Se+0][ye][b.BLKSIZE_s/2+Be];re[ye][b.BLKSIZE_s/2-Be]=(at*at+ut*ut)*.5}}function Xe(J,$,oe,ue){var ye=J.internal_flags;J.athaa_loudapprox==2&&oe<2&&(ye.loudness_sq[$][oe]=ye.loudness_sq_save[oe],ye.loudness_sq_save[oe]=de(ue,ye))}var We=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function ke(J,$,oe,ue,ye,re,pe,Se,ge,Be){for(var xe=S([2,576]),Ne=J.internal_flags,at=Ne.channels_out,ut=J.mode==MPEGMode.JOINT_STEREO?4:at,Ke=0;Ke<at;Ke++){firbuf=$[Ke];var ht=oe+576-350-ee+192;E(We.length==(ee-1)/2);for(var Me=0;Me<576;Me++){var ve,Pe;ve=firbuf[ht+Me+10],Pe=0;for(var se=0;se<(ee-1)/2-1;se+=2)ve+=We[se]*(firbuf[ht+Me+se]+firbuf[ht+Me+ee-se]),Pe+=We[se+1]*(firbuf[ht+Me+se+1]+firbuf[ht+Me+ee-se-1]);xe[Ke][Me]=ve+Pe}ye[ue][Ke].en.assign(Ne.en[Ke]),ye[ue][Ke].thm.assign(Ne.thm[Ke]),ut>2&&(re[ue][Ke].en.assign(Ne.en[Ke+2]),re[ue][Ke].thm.assign(Ne.thm[Ke+2]))}for(var Ke=0;Ke<ut;Ke++){var ie=d(12),fe=d(12),$e=[0,0,0,0],it=xe[Ke&1],Qe=0,mt=Ke==3?Ne.nsPsy.attackthre_s:Ne.nsPsy.attackthre,St=1;if(Ke==2)for(var Me=0,se=576;se>0;++Me,--se){var It=xe[0][Me],Ze=xe[1][Me];xe[0][Me]=It+Ze,xe[1][Me]=It-Ze}for(var Me=0;Me<3;Me++)fe[Me]=Ne.nsPsy.last_en_subshort[Ke][Me+6],E(Ne.nsPsy.last_en_subshort[Ke][Me+4]>0),ie[Me]=fe[Me]/Ne.nsPsy.last_en_subshort[Ke][Me+4],$e[0]+=fe[Me];for(var Me=0;Me<9;Me++){for(var Mt=Qe+64,Ct=1;Qe<Mt;Qe++)Ct<Math.abs(it[Qe])&&(Ct=Math.abs(it[Qe]));Ne.nsPsy.last_en_subshort[Ke][Me]=fe[Me+3]=Ct,$e[1+Me/3]+=Ct,Ct>fe[Me+3-2]?(E(fe[Me+3-2]>0),Ct=Ct/fe[Me+3-2]):fe[Me+3-2]>Ct*10?(E(Ct>0),Ct=fe[Me+3-2]/(Ct*10)):Ct=0,ie[Me+3]=Ct}for(var Me=0;Me<3;++Me){var Zt=fe[Me*3+3]+fe[Me*3+4]+fe[Me*3+5],$t=1;fe[Me*3+5]*6<Zt&&($t*=.5,fe[Me*3+4]*6<Zt&&($t*=.5)),Se[Ke][Me]=$t}if(J.analysis){for(var qt=ie[0],Me=1;Me<12;Me++)qt<ie[Me]&&(qt=ie[Me]);Ne.pinfo.ers[ue][Ke]=Ne.pinfo.ers_save[Ke],Ne.pinfo.ers_save[Ke]=qt}for(var Me=0;Me<12;Me++)ge[Ke][Me/3]==0&&ie[Me]>mt&&(ge[Ke][Me/3]=Me%3+1);for(var Me=1;Me<4;Me++){var sr=$e[Me-1],cr=$e[Me],er=Math.max(sr,cr);er<4e4&&sr<1.7*cr&&cr<1.7*sr&&(Me==1&&ge[Ke][0]<=ge[Ke][Me]&&(ge[Ke][0]=0),ge[Ke][Me]=0)}ge[Ke][0]<=Ne.nsPsy.lastAttacks[Ke]&&(ge[Ke][0]=0),(Ne.nsPsy.lastAttacks[Ke]==3||ge[Ke][0]+ge[Ke][1]+ge[Ke][2]+ge[Ke][3]!=0)&&(St=0,ge[Ke][1]!=0&&ge[Ke][0]!=0&&(ge[Ke][1]=0),ge[Ke][2]!=0&&ge[Ke][1]!=0&&(ge[Ke][2]=0),ge[Ke][3]!=0&&ge[Ke][2]!=0&&(ge[Ke][3]=0)),Ke<2?Be[Ke]=St:St==0&&(Be[0]=Be[1]=0),pe[Ke]=Ne.tot_ener[Ke]}}function tt(J,$,oe){if(oe==0)for(var ue=0;ue<J.npart_s;ue++)J.nb_s2[$][ue]=J.nb_s1[$][ue],J.nb_s1[$][ue]=0}function ct(J,$){for(var oe=0;oe<J.npart_l;oe++)J.nb_2[$][oe]=J.nb_1[$][oe],J.nb_1[$][oe]=0}function nt(J,$,oe,ue){var ye=c.length-1,re=0,pe=oe[re]+oe[re+1];if(E(pe>=0),pe>0){var Se=$[re];Se<$[re+1]&&(Se=$[re+1]),E(J.numlines_s[re]+J.numlines_s[re+1]-1>0),pe=20*(Se*2-pe)/(pe*(J.numlines_s[re]+J.numlines_s[re+1]-1));var ge=0|pe;ge>ye&&(ge=ye),ue[re]=ge}else ue[re]=0;for(re=1;re<J.npart_s-1;re++)if(pe=oe[re-1]+oe[re]+oe[re+1],E(re+1<J.npart_s),E(pe>=0),pe>0){var Se=$[re-1];Se<$[re]&&(Se=$[re]),Se<$[re+1]&&(Se=$[re+1]),E(J.numlines_s[re-1]+J.numlines_s[re]+J.numlines_s[re+1]-1>0),pe=20*(Se*3-pe)/(pe*(J.numlines_s[re-1]+J.numlines_s[re]+J.numlines_s[re+1]-1));var ge=0|pe;ge>ye&&(ge=ye),ue[re]=ge}else ue[re]=0;if(E(re>0),E(re==J.npart_s-1),pe=oe[re-1]+oe[re],E(pe>=0),pe>0){var Se=$[re-1];Se<$[re]&&(Se=$[re]),E(J.numlines_s[re-1]+J.numlines_s[re]-1>0),pe=20*(Se*2-pe)/(pe*(J.numlines_s[re-1]+J.numlines_s[re]-1));var ge=0|pe;ge>ye&&(ge=ye),ue[re]=ge}else ue[re]=0;E(re==J.npart_s-1)}function He(J,$,oe,ue,ye,re){var pe=J.internal_flags,Se=new float[b.CBANDS],ge=d(b.CBANDS),Be,xe,Ne,at=new int[b.CBANDS];for(Ne=xe=0;Ne<pe.npart_s;++Ne){var ut=0,Ke=0,ht=pe.numlines_s[Ne];for(Be=0;Be<ht;++Be,++xe){var Me=$[re][xe];ut+=Me,Ke<Me&&(Ke=Me)}oe[Ne]=ut,E(ut>=0),Se[Ne]=Ke,E(ht>0),ge[Ne]=ut/ht,E(ge[Ne]>=0)}for(E(Ne==pe.npart_s),E(xe==129);Ne<b.CBANDS;++Ne)Se[Ne]=0,ge[Ne]=0;for(nt(pe,Se,ge,at),xe=Ne=0;Ne<pe.npart_s;Ne++){var ve=pe.s3ind_s[Ne][0],Pe=pe.s3ind_s[Ne][1],se,ie,fe,$e,it;for(se=at[ve],ie=1,$e=pe.s3_ss[xe]*oe[ve]*c[at[ve]],++xe,++ve;ve<=Pe;)se+=at[ve],ie+=1,fe=pe.s3_ss[xe]*oe[ve]*c[at[ve]],$e=z($e,fe,ve-Ne),++xe,++ve;se=(1+2*se)/(2*ie),it=c[se]*.5,$e*=it,ue[Ne]=$e,pe.nb_s2[ye][Ne]=pe.nb_s1[ye][Ne],pe.nb_s1[ye][Ne]=$e,fe=Se[Ne],fe*=pe.minval_s[Ne],fe*=it,ue[Ne]>fe&&(ue[Ne]=fe),pe.masking_lower>1&&(ue[Ne]*=pe.masking_lower),ue[Ne]>oe[Ne]&&(ue[Ne]=oe[Ne]),pe.masking_lower<1&&(ue[Ne]*=pe.masking_lower),E(ue[Ne]>=0)}for(;Ne<b.CBANDS;++Ne)oe[Ne]=0,ue[Ne]=0}function qe(J,$,oe,ue,ye){var re=d(b.CBANDS),pe=d(b.CBANDS),Se=g(b.CBANDS+2),ge;Te(J,$,oe,re,pe),Ve(J,re,pe,Se);var Be=0;for(ge=0;ge<J.npart_l;ge++){var xe,Ne,at,ut,Ke=J.s3ind[ge][0],ht=J.s3ind[ge][1],Me=0,ve=0;for(Me=Se[Ke],ve+=1,Ne=J.s3_ll[Be]*oe[Ke]*c[Se[Ke]],++Be,++Ke;Ke<=ht;)Me+=Se[Ke],ve+=1,xe=J.s3_ll[Be]*oe[Ke]*c[Se[Ke]],ut=z(Ne,xe,Ke-ge),Ne=ut,++Be,++Ke;if(Me=(1+2*Me)/(2*ve),at=c[Me]*.5,Ne*=at,J.blocktype_old[ye&1]==b.SHORT_TYPE){var Pe=T*J.nb_1[ye][ge];Pe>0?ue[ge]=Math.min(Ne,Pe):ue[ge]=Math.min(Ne,oe[ge]*W)}else{var se=B*J.nb_2[ye][ge],ie=T*J.nb_1[ye][ge],Pe;se<=0&&(se=Ne),ie<=0&&(ie=Ne),J.blocktype_old[ye&1]==b.NORM_TYPE?Pe=Math.min(ie,se):Pe=ie,ue[ge]=Math.min(Ne,Pe)}J.nb_2[ye][ge]=J.nb_1[ye][ge],J.nb_1[ye][ge]=Ne,xe=re[ge],xe*=J.minval_l[ge],xe*=at,ue[ge]>xe&&(ue[ge]=xe),J.masking_lower>1&&(ue[ge]*=J.masking_lower),ue[ge]>oe[ge]&&(ue[ge]=oe[ge]),J.masking_lower<1&&(ue[ge]*=J.masking_lower),E(ue[ge]>=0)}for(;ge<b.CBANDS;++ge)oe[ge]=0,ue[ge]=0}function Je(J,$){var oe=J.internal_flags;J.short_blocks==o.short_block_coupled&&!($[0]!=0&&$[1]!=0)&&($[0]=$[1]=0);for(var ue=0;ue<oe.channels_out;ue++)J.short_blocks==o.short_block_dispensed&&($[ue]=1),J.short_blocks==o.short_block_forced&&($[ue]=0)}function lt(J,$,oe){for(var ue=J.internal_flags,ye=0;ye<ue.channels_out;ye++){var re=b.NORM_TYPE;$[ye]!=0?(E(ue.blocktype_old[ye]!=b.START_TYPE),ue.blocktype_old[ye]==b.SHORT_TYPE&&(re=b.STOP_TYPE)):(re=b.SHORT_TYPE,ue.blocktype_old[ye]==b.NORM_TYPE&&(ue.blocktype_old[ye]=b.START_TYPE),ue.blocktype_old[ye]==b.STOP_TYPE&&(ue.blocktype_old[ye]=b.SHORT_TYPE)),oe[ye]=ue.blocktype_old[ye],ue.blocktype_old[ye]=re}}function gt(J,$,oe,ue,ye,re,pe){for(var Se=re*2,ge=re>0?Math.pow(10,ye):1,Be,xe,Ne=0;Ne<pe;++Ne){var at=J[2][Ne],ut=J[3][Ne],Ke=$[0][Ne],ht=$[1][Ne],Me=$[2][Ne],ve=$[3][Ne];if(Ke<=1.58*ht&&ht<=1.58*Ke){var Pe=oe[Ne]*ut,se=oe[Ne]*at;xe=Math.max(Me,Math.min(ve,Pe)),Be=Math.max(ve,Math.min(Me,se))}else xe=Me,Be=ve;if(re>0){var ie,fe,$e=ue[Ne]*ge;if(ie=Math.min(Math.max(Ke,$e),Math.max(ht,$e)),Me=Math.max(xe,$e),ve=Math.max(Be,$e),fe=Me+ve,fe>0&&ie*Se<fe){var it=ie*Se/fe;Me*=it,ve*=it,E(fe>0)}xe=Math.min(Me,xe),Be=Math.min(ve,Be)}xe>at&&(xe=at),Be>ut&&(Be=ut),$[2][Ne]=xe,$[3][Ne]=Be}}this.L3psycho_anal_vbr=function(J,$,oe,ue,ye,re,pe,Se,ge,Be){var xe=J.internal_flags,Ne,at,ut=d(b.HBLKSIZE),Ke=S([3,b.HBLKSIZE_s]),ht=S([2,b.BLKSIZE]),Me=S([2,3,b.BLKSIZE_s]),ve=S([4,b.CBANDS]),Pe=S([4,b.CBANDS]),se=S([4,3]),ie=.6,fe=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],$e=g(2),it=J.mode==MPEGMode.JOINT_STEREO?4:xe.channels_out;ke(J,$,oe,ue,ye,re,ge,se,fe,$e),Je(J,$e);{for(var Qe=0;Qe<it;Qe++){var mt=Qe&1;Ne=ht,Fe(J,$,oe,Qe,ue,ut,Ne,mt),Xe(J,ue,Qe,ut),$e[mt]!=0?qe(xe,ut,ve[Qe],Pe[Qe],Qe):ct(xe,Qe)}$e[0]+$e[1]==2&&J.mode==MPEGMode.JOINT_STEREO&&gt(ve,Pe,xe.mld_cb_l,xe.ATH.cb_l,J.ATHlower*xe.ATH.adjust,J.msfix,xe.npart_l);for(var Qe=0;Qe<it;Qe++){var mt=Qe&1;$e[mt]!=0&&Ce(xe,ve[Qe],Pe[Qe],Qe)}}{for(var St=0;St<3;St++){for(var Qe=0;Qe<it;++Qe){var mt=Qe&1;$e[mt]!=0?tt(xe,Qe,St):(at=Me,ze(J,$,oe,Qe,St,Ke,at,mt),He(J,Ke,ve[Qe],Pe[Qe],Qe,St))}$e[0]+$e[1]==0&&J.mode==MPEGMode.JOINT_STEREO&&gt(ve,Pe,xe.mld_cb_s,xe.ATH.cb_s,J.ATHlower*xe.ATH.adjust,J.msfix,xe.npart_s);for(var Qe=0;Qe<it;++Qe){var mt=Qe&1;$e[mt]==0&&Oe(xe,ve[Qe],Pe[Qe],Qe,St)}}for(var Qe=0;Qe<it;Qe++){var mt=Qe&1;if($e[mt]==0)for(var It=0;It<b.SBMAX_s;It++){for(var Ze=d(3),St=0;St<3;St++){var Mt=xe.thm[Qe].s[It][St];if(Mt*=N,fe[Qe][St]>=2||fe[Qe][St+1]==1){var Ct=St!=0?St-1:2,Zt=st(xe.thm[Qe].s[It][Ct],Mt,U*ie);Mt=Math.min(Mt,Zt)}else if(fe[Qe][St]==1){var Ct=St!=0?St-1:2,Zt=st(xe.thm[Qe].s[It][Ct],Mt,W*ie);Mt=Math.min(Mt,Zt)}else if(St!=0&&fe[Qe][St-1]==3||St==0&&xe.nsPsy.lastAttacks[Qe]==3){var Ct=St!=2?St+1:0,Zt=st(xe.thm[Qe].s[It][Ct],Mt,W*ie);Mt=Math.min(Mt,Zt)}Mt*=se[Qe][St],Ze[St]=Mt}for(var St=0;St<3;St++)xe.thm[Qe].s[It][St]=Ze[St]}}}for(var Qe=0;Qe<it;Qe++)xe.nsPsy.lastAttacks[Qe]=fe[Qe][2];lt(J,$e,Be);for(var Qe=0;Qe<it;Qe++){var $t,qt,sr,cr;Qe>1?($t=Se,qt=-2,sr=b.NORM_TYPE,(Be[0]==b.SHORT_TYPE||Be[1]==b.SHORT_TYPE)&&(sr=b.SHORT_TYPE),cr=re[ue][Qe-2]):($t=pe,qt=0,sr=Be[Qe],cr=ye[ue][Qe]),sr==b.SHORT_TYPE?$t[qt+Qe]=C(cr,xe.masking_lower):$t[qt+Qe]=Le(cr,xe.masking_lower),J.analysis&&(xe.pinfo.pe[ue][Qe]=$t[qt+Qe])}return 0};function At(J,$){var oe=J,ue;return oe>=0?ue=-oe*27:ue=oe*$,ue<=-72?0:Math.exp(ue*te)}function kt(J){var $=0,oe=0;{var ue=0,ye,re;for(ue=0;At(ue,J)>1e-20;ue-=1);for(ye=ue,re=0;Math.abs(re-ye)>1e-12;)ue=(re+ye)/2,At(ue,J)>0?re=ue:ye=ue;$=ye}{var ue=0,ye,re;for(ue=0;At(ue,J)>1e-20;ue+=1);for(ye=0,re=ue;Math.abs(re-ye)>1e-12;)ue=(re+ye)/2,At(ue,J)>0?ye=ue:re=ue;oe=re}{var pe=0,Se=1e3,ge;for(ge=0;ge<=Se;++ge){var ue=$+ge*(oe-$)/Se,Be=At(ue,J);pe+=Be}{var xe=(Se+1)/(pe*(oe-$));return xe}}}function Gt(J){var $,oe,ue,ye;return $=J,$>=0?$*=3:$*=1.5,$>=.5&&$<=2.5?(ye=$-.5,oe=8*(ye*ye-2*ye)):oe=0,$+=.474,ue=15.811389+7.5*$-17.5*Math.sqrt(1+$*$),ue<=-60?0:($=Math.exp((oe+ue)*te),$/=.6609193,$)}function Bt(J){return J<0&&(J=0),J=J*.001,13*Math.atan(.76*J)+3.5*Math.atan(J*J/56.25)}function zt(J,$,oe,ue,ye,re,pe,Se,ge,Be,xe,Ne){var at=d(b.CBANDS+1),ut=Se/(Ne>15?2*576:2*192),Ke=g(b.HBLKSIZE),ht;Se/=ge;var Me=0,ve=0;for(ht=0;ht<b.CBANDS;ht++){var Pe,se;for(Pe=Bt(Se*Me),at[ht]=Se*Me,se=Me;Bt(Se*se)-Pe<k&&se<=ge/2;se++);for(J[ht]=se-Me,ve=ht+1;Me<se;)E(Me<b.HBLKSIZE),Ke[Me++]=ht;if(Me>ge/2){Me=ge/2,++ht;break}}E(ht<b.CBANDS),at[ht]=Se*Me;for(var ie=0;ie<Ne;ie++){var fe,$e,it,Qe,mt;it=Be[ie],Qe=Be[ie+1],fe=0|Math.floor(.5+xe*(it-.5)),fe<0&&(fe=0),$e=0|Math.floor(.5+xe*(Qe-.5)),$e>ge/2&&($e=ge/2),oe[ie]=(Ke[fe]+Ke[$e])/2,$[ie]=Ke[$e];var St=ut*Qe;pe[ie]=(St-at[$[ie]])/(at[$[ie]+1]-at[$[ie]]),pe[ie]<0?pe[ie]=0:pe[ie]>1&&(pe[ie]=1),mt=Bt(Se*Be[ie]*xe),mt=Math.min(mt,15.5)/15.5,re[ie]=Math.pow(10,1.25*(1-Math.cos(Math.PI*mt))-2.5)}Me=0;for(var It=0;It<ve;It++){var Ze=J[It],Pe,Mt;Pe=Bt(Se*Me),Mt=Bt(Se*(Me+Ze-1)),ue[It]=.5*(Pe+Mt),Pe=Bt(Se*(Me-.5)),Mt=Bt(Se*(Me+Ze-.5)),ye[It]=Mt-Pe,Me+=Ze}return ve}function tr(J,$,oe,ue,ye,re){var pe=S([b.CBANDS,b.CBANDS]),Se,ge=0;if(re)for(var Be=0;Be<$;Be++)for(Se=0;Se<$;Se++){var xe=Gt(oe[Be]-oe[Se])*ue[Se];pe[Be][Se]=xe*ye[Be]}else for(Se=0;Se<$;Se++)for(var Ne=15+Math.min(21/oe[Se],12),at=kt(Ne),Be=0;Be<$;Be++){var xe=at*At(oe[Be]-oe[Se],Ne)*ue[Se];pe[Be][Se]=xe*ye[Be]}for(var Be=0;Be<$;Be++){for(Se=0;Se<$&&!(pe[Be][Se]>0);Se++);for(J[Be][0]=Se,Se=$-1;Se>0&&!(pe[Be][Se]>0);Se--);J[Be][1]=Se,ge+=J[Be][1]-J[Be][0]+1}for(var ut=d(ge),Ke=0,Be=0;Be<$;Be++)for(Se=J[Be][0];Se<=J[Be][1];Se++)ut[Ke++]=pe[Be][Se];return ut}function fr(J){var $=Bt(J);return $=Math.min($,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*$))-2.5)}this.psymodel_init=function(J){var $=J.internal_flags,oe,ue=!0,ye=13,re=24,pe=0,Se=0,ge=-8.25,Be=-4.5,xe=d(b.CBANDS),Ne=d(b.CBANDS),at=d(b.CBANDS),ut=J.out_samplerate;switch(J.experimentalZ){default:case 0:ue=!0;break;case 1:ue=!(J.VBR==s.vbr_mtrh||J.VBR==s.vbr_mt);break;case 2:ue=!1;break;case 3:ye=8,pe=-1.75,Se=-.0125,ge=-8.25,Be=-2.25;break}for($.ms_ener_ratio_old=.25,$.blocktype_old[0]=$.blocktype_old[1]=b.NORM_TYPE,oe=0;oe<4;++oe){for(var Me=0;Me<b.CBANDS;++Me)$.nb_1[oe][Me]=1e20,$.nb_2[oe][Me]=1e20,$.nb_s1[oe][Me]=$.nb_s2[oe][Me]=1;for(var Ke=0;Ke<b.SBMAX_l;Ke++)$.en[oe].l[Ke]=1e20,$.thm[oe].l[Ke]=1e20;for(var Me=0;Me<3;++Me){for(var Ke=0;Ke<b.SBMAX_s;Ke++)$.en[oe].s[Ke][Me]=1e20,$.thm[oe].s[Ke][Me]=1e20;$.nsPsy.lastAttacks[oe]=0}for(var Me=0;Me<9;Me++)$.nsPsy.last_en_subshort[oe][Me]=10}for($.loudness_sq_save[0]=$.loudness_sq_save[1]=0,$.npart_l=zt($.numlines_l,$.bo_l,$.bm_l,xe,Ne,$.mld_l,$.PSY.bo_l_weight,ut,b.BLKSIZE,$.scalefac_band.l,b.BLKSIZE/1152,b.SBMAX_l),E($.npart_l<b.CBANDS),oe=0;oe<$.npart_l;oe++){var ht=pe;xe[oe]>=ye&&(ht=Se*(xe[oe]-ye)/(re-ye)+pe*(re-xe[oe])/(re-ye)),at[oe]=Math.pow(10,ht/10),$.numlines_l[oe]>0?$.rnumlines_l[oe]=1/$.numlines_l[oe]:$.rnumlines_l[oe]=0}$.s3_ll=tr($.s3ind,$.npart_l,xe,Ne,at,ue);var Me=0;for(oe=0;oe<$.npart_l;oe++){var ve;ve=i.MAX_VALUE;for(var Pe=0;Pe<$.numlines_l[oe];Pe++,Me++){var se=ut*Me/(1e3*b.BLKSIZE),ie;ie=this.ATHformula(se*1e3,J)-20,ie=Math.pow(10,.1*ie),ie*=$.numlines_l[oe],ve>ie&&(ve=ie)}$.ATH.cb_l[oe]=ve,ve=-20+xe[oe]*20/10,ve>6&&(ve=100),ve<-15&&(ve=-15),ve-=8,$.minval_l[oe]=Math.pow(10,ve/10)*$.numlines_l[oe]}for($.npart_s=zt($.numlines_s,$.bo_s,$.bm_s,xe,Ne,$.mld_s,$.PSY.bo_s_weight,ut,b.BLKSIZE_s,$.scalefac_band.s,b.BLKSIZE_s/384,b.SBMAX_s),E($.npart_s<b.CBANDS),Me=0,oe=0;oe<$.npart_s;oe++){var ve,ht=ge;xe[oe]>=ye&&(ht=Be*(xe[oe]-ye)/(re-ye)+ge*(re-xe[oe])/(re-ye)),at[oe]=Math.pow(10,ht/10),ve=i.MAX_VALUE;for(var Pe=0;Pe<$.numlines_s[oe];Pe++,Me++){var se=ut*Me/(1e3*b.BLKSIZE_s),ie;ie=this.ATHformula(se*1e3,J)-20,ie=Math.pow(10,.1*ie),ie*=$.numlines_s[oe],ve>ie&&(ve=ie)}$.ATH.cb_s[oe]=ve,ve=-7+xe[oe]*7/12,xe[oe]>12&&(ve*=1+Math.log(1+ve)*3.1),xe[oe]<12&&(ve*=1+Math.log(1-ve)*2.3),ve<-15&&(ve=-15),ve-=8,$.minval_s[oe]=Math.pow(10,ve/10)*$.numlines_s[oe]}$.s3_ss=tr($.s3ind_s,$.npart_s,xe,Ne,at,ue),f(),O.init_fft($),$.decay=Math.exp(-1*I/(l*ut/192));{var fe;fe=Z,J.exp_nspsytune&2&&(fe=1),Math.abs(J.msfix)>0&&(fe=J.msfix),J.msfix=fe;for(var $e=0;$e<$.npart_l;$e++)$.s3ind[$e][1]>$.npart_l-1&&($.s3ind[$e][1]=$.npart_l-1)}var it=576*$.mode_gr/ut;if($.ATH.decay=Math.pow(10,-1.2*it),$.ATH.adjust=.01,$.ATH.adjustLimit=1,E($.bo_l[b.SBMAX_l-1]<=$.npart_l),E($.bo_s[b.SBMAX_s-1]<=$.npart_s),J.ATHtype!=-1){var se,Qe=J.out_samplerate/b.BLKSIZE,mt=0;for(se=0,oe=0;oe<b.BLKSIZE/2;++oe)se+=Qe,$.ATH.eql_w[oe]=1/Math.pow(10,this.ATHformula(se,J)/10),mt+=$.ATH.eql_w[oe];for(mt=1/mt,oe=b.BLKSIZE/2;--oe>=0;)$.ATH.eql_w[oe]*=mt}{for(var $e=Me=0;$e<$.npart_s;++$e)for(oe=0;oe<$.numlines_s[$e];++oe)++Me;E(Me==129);for(var $e=Me=0;$e<$.npart_l;++$e)for(oe=0;oe<$.numlines_l[$e];++oe)++Me;E(Me==513)}for(Me=0,oe=0;oe<$.npart_l;oe++){var se=ut*(Me+$.numlines_l[oe]/2)/(1*b.BLKSIZE);$.mld_cb_l[oe]=fr(se),Me+=$.numlines_l[oe]}for(;oe<b.CBANDS;++oe)$.mld_cb_l[oe]=1;for(Me=0,oe=0;oe<$.npart_s;oe++){var se=ut*(Me+$.numlines_s[oe]/2)/(1*b.BLKSIZE_s);$.mld_cb_s[oe]=fr(se),Me+=$.numlines_s[oe]}for(;oe<b.CBANDS;++oe)$.mld_cb_s[oe]=1;return 0};function Jt(J,$){J<-.3&&(J=3410),J/=1e3,J=Math.max(.1,J);var oe=3.64*Math.pow(J,-.8)-6.8*Math.exp(-.6*Math.pow(J-3.4,2))+6*Math.exp(-.15*Math.pow(J-8.7,2))+(.6+.04*$)*.001*Math.pow(J,4);return oe}this.ATHformula=function(J,$){var oe;switch($.ATHtype){case 0:oe=Jt(J,9);break;case 1:oe=Jt(J,-1);break;case 2:oe=Jt(J,0);break;case 3:oe=Jt(J,1)+6;break;case 4:oe=Jt(J,$.ATHcurve);break;default:oe=Jt(J,0);break}return oe}}p.exports=h},9833:(p,x,e)=>{var n=e(935),s=n.System,i=n.VbrMode;n.Float,n.ShortBlock;var o=n.Util,m=n.Arrays;n.new_array_n,n.new_byte,n.new_double;var u=n.new_float;n.new_float_n,n.new_int,n.new_int_n;var d=n.assert,S=e(7095),g=e(2711),E=e(3449),R=e(687),b=e(9438),h=e(354);function O(){var I;this.rv=null;var T;this.qupvt=null;var B,V=new S,Y;this.setModules=function(G,y,F,K){I=G,T=y,this.rv=y,B=F,this.qupvt=F,Y=K,V.setModules(B,Y)},this.ms_convert=function(G,y){for(var F=0;F<576;++F){var K=G.tt[y][0].xr[F],q=G.tt[y][1].xr[F];G.tt[y][0].xr[F]=(K+q)*(o.SQRT2*.5),G.tt[y][1].xr[F]=(K-q)*(o.SQRT2*.5)}};function k(G,y,F,K){K=0;for(var q=0;q<=F;++q){var D=Math.abs(G.xr[q]);K+=D,y[q]=Math.sqrt(D*Math.sqrt(D)),y[q]>G.xrpow_max&&(G.xrpow_max=y[q])}return K}this.init_xrpow=function(G,y,F){var K=0,q=0|y.max_nonzero_coeff;if(d(F!=null),y.xrpow_max=0,d(0<=q&&q<=575),m.fill(F,q,576,0),K=k(y,F,q,K),K>1e-20){var D=0;G.substep_shaping&2&&(D=1);for(var c=0;c<y.psymax;c++)G.pseudohalf[c]=D;return!0}return m.fill(y.l3_enc,0,576,0),!1};function P(G,y){var F=G.ATH,K=y.xr;if(y.block_type!=R.SHORT_TYPE)for(var q=!1,D=R.PSFB21-1;D>=0&&!q;D--){var c=G.scalefac_band.psfb21[D],f=G.scalefac_band.psfb21[D+1],v=B.athAdjust(F.adjust,F.psfb21[D],F.floor);G.nsPsy.longfact[21]>1e-12&&(v*=G.nsPsy.longfact[21]);for(var A=f-1;A>=c;A--)if(Math.abs(K[A])<v)K[A]=0;else{q=!0;break}}else for(var j=0;j<3;j++)for(var q=!1,D=R.PSFB12-1;D>=0&&!q;D--){var c=G.scalefac_band.s[12]*3+(G.scalefac_band.s[13]-G.scalefac_band.s[12])*j+(G.scalefac_band.psfb12[D]-G.scalefac_band.psfb12[0]),f=c+(G.scalefac_band.psfb12[D+1]-G.scalefac_band.psfb12[D]),X=B.athAdjust(F.adjust,F.psfb12[D],F.floor);G.nsPsy.shortfact[12]>1e-12&&(X*=G.nsPsy.shortfact[12]);for(var A=f-1;A>=c;A--)if(Math.abs(K[A])<X)K[A]=0;else{q=!0;break}}}this.init_outer_loop=function(G,y){y.part2_3_length=0,y.big_values=0,y.count1=0,y.global_gain=210,y.scalefac_compress=0,y.table_select[0]=0,y.table_select[1]=0,y.table_select[2]=0,y.subblock_gain[0]=0,y.subblock_gain[1]=0,y.subblock_gain[2]=0,y.subblock_gain[3]=0,y.region0_count=0,y.region1_count=0,y.preflag=0,y.scalefac_scale=0,y.count1table_select=0,y.part2_length=0,y.sfb_lmax=R.SBPSY_l,y.sfb_smin=R.SBPSY_s,y.psy_lmax=G.sfb21_extra?R.SBMAX_l:R.SBPSY_l,y.psymax=y.psy_lmax,y.sfbmax=y.sfb_lmax,y.sfbdivide=11;for(var F=0;F<R.SBMAX_l;F++)y.width[F]=G.scalefac_band.l[F+1]-G.scalefac_band.l[F],y.window[F]=3;if(y.block_type==R.SHORT_TYPE){var K=u(576);y.sfb_smin=0,y.sfb_lmax=0,y.mixed_block_flag!=0&&(y.sfb_smin=3,y.sfb_lmax=G.mode_gr*2+4),y.psymax=y.sfb_lmax+3*((G.sfb21_extra?R.SBMAX_s:R.SBPSY_s)-y.sfb_smin),y.sfbmax=y.sfb_lmax+3*(R.SBPSY_s-y.sfb_smin),y.sfbdivide=y.sfbmax-18,y.psy_lmax=y.sfb_lmax;var q=G.scalefac_band.l[y.sfb_lmax];s.arraycopy(y.xr,0,K,0,576);for(var F=y.sfb_smin;F<R.SBMAX_s;F++)for(var D=G.scalefac_band.s[F],c=G.scalefac_band.s[F+1],f=0;f<3;f++)for(var v=D;v<c;v++)y.xr[q++]=K[3*v+f];for(var A=y.sfb_lmax,F=y.sfb_smin;F<R.SBMAX_s;F++)y.width[A]=y.width[A+1]=y.width[A+2]=G.scalefac_band.s[F+1]-G.scalefac_band.s[F],y.window[A]=0,y.window[A+1]=1,y.window[A+2]=2,A+=3}y.count1bits=0,y.sfb_partition_table=B.nr_of_sfb_block[0][0],y.slen[0]=0,y.slen[1]=0,y.slen[2]=0,y.slen[3]=0,y.max_nonzero_coeff=575,m.fill(y.scalefac,0),P(G,y)};function l(G){this.ordinal=G}l.BINSEARCH_NONE=new l(0),l.BINSEARCH_UP=new l(1),l.BINSEARCH_DOWN=new l(2);function N(G,y,F,K,q){var D,c=G.CurrentStep[K],f=!1,v=G.OldValue[K],A=l.BINSEARCH_NONE;for(y.global_gain=v,F-=y.part2_length,d(c!=0);;){var j;if(D=Y.count_bits(G,q,y,null),c==1||D==F)break;D>F?(A==l.BINSEARCH_DOWN&&(f=!0),f&&(c/=2),A=l.BINSEARCH_UP,j=c):(A==l.BINSEARCH_UP&&(f=!0),f&&(c/=2),A=l.BINSEARCH_DOWN,j=-c),y.global_gain+=j,y.global_gain<0&&(y.global_gain=0,f=!0),y.global_gain>255&&(y.global_gain=255,f=!0)}for(d(y.global_gain>=0),d(y.global_gain<256);D>F&&y.global_gain<255;)y.global_gain++,D=Y.count_bits(G,q,y,null);return G.CurrentStep[K]=v-y.global_gain>=4?4:2,G.OldValue[K]=y.global_gain,y.part2_3_length=D,D}this.trancate_smallspectrums=function(G,y,F,K){var q=u(h.SFBMAX);if(!(!(G.substep_shaping&4)&&y.block_type==R.SHORT_TYPE||G.substep_shaping&128)){B.calc_noise(y,F,q,new g,null);for(var c=0;c<576;c++){var D=0;y.l3_enc[c]!=0&&(D=Math.abs(y.xr[c])),K[c]=D}var c=0,f=8;y.block_type==R.SHORT_TYPE&&(f=6);do{var v,A,j,X,Q=y.width[f];if(c+=Q,!(q[f]>=1)&&(m.sort(K,c-Q,Q),!BitStream.EQ(K[c-1],0))){v=(1-q[f])*F[f],A=0,X=0;do{var z;for(j=1;X+j<Q&&!BitStream.NEQ(K[X+c-Q],K[X+c+j-Q]);j++);if(z=K[X+c-Q]*K[X+c-Q]*j,v<z){X!=0&&(A=K[X+c-Q-1]);break}v-=z,X+=j}while(X<Q);if(!BitStream.EQ(A,0))do Math.abs(y.xr[c-Q])<=A&&(y.l3_enc[c-Q]=0);while(--Q>0)}}while(++f<y.psymax);y.part2_3_length=Y.noquant_count_bits(G,y,null)}};function U(G){for(var y=0;y<G.sfbmax;y++)if(G.scalefac[y]+G.subblock_gain[G.window[y]]==0)return!1;return!0}function W(G){return o.FAST_LOG10(.368+.632*G*G*G)}function Z(G,y){for(var F=1e-37,K=0;K<y.psymax;K++)F+=W(G[K]);return Math.max(1e-20,F)}function ee(G,y,F,K,q){var D;switch(G){default:case 9:{y.over_count>0?(D=F.over_SSD<=y.over_SSD,F.over_SSD==y.over_SSD&&(D=F.bits<y.bits)):D=F.max_noise<0&&F.max_noise*10+F.bits<=y.max_noise*10+y.bits;break}case 0:D=F.over_count<y.over_count||F.over_count==y.over_count&&F.over_noise<y.over_noise||F.over_count==y.over_count&&BitStream.EQ(F.over_noise,y.over_noise)&&F.tot_noise<y.tot_noise;break;case 8:F.max_noise=Z(q,K);case 1:D=F.max_noise<y.max_noise;break;case 2:D=F.tot_noise<y.tot_noise;break;case 3:D=F.tot_noise<y.tot_noise&&F.max_noise<y.max_noise;break;case 4:D=F.max_noise<=0&&y.max_noise>.2||F.max_noise<=0&&y.max_noise<0&&y.max_noise>F.max_noise-.2&&F.tot_noise<y.tot_noise||F.max_noise<=0&&y.max_noise>0&&y.max_noise>F.max_noise-.2&&F.tot_noise<y.tot_noise+y.over_noise||F.max_noise>0&&y.max_noise>-.05&&y.max_noise>F.max_noise-.1&&F.tot_noise+F.over_noise<y.tot_noise+y.over_noise||F.max_noise>0&&y.max_noise>-.1&&y.max_noise>F.max_noise-.15&&F.tot_noise+F.over_noise+F.over_noise<y.tot_noise+y.over_noise+y.over_noise;break;case 5:D=F.over_noise<y.over_noise||BitStream.EQ(F.over_noise,y.over_noise)&&F.tot_noise<y.tot_noise;break;case 6:D=F.over_noise<y.over_noise||BitStream.EQ(F.over_noise,y.over_noise)&&(F.max_noise<y.max_noise||BitStream.EQ(F.max_noise,y.max_noise)&&F.tot_noise<=y.tot_noise);break;case 7:D=F.over_count<y.over_count||F.over_noise<y.over_noise;break}return y.over_count==0&&(D=D&&F.bits<y.bits),D}function te(G,y,F,K,q){var D=G.internal_flags,c;y.scalefac_scale==0?c=1.2968395546510096:c=1.6817928305074292;for(var f=0,v=0;v<y.sfbmax;v++)f<F[v]&&(f=F[v]);var A=D.noise_shaping_amp;switch(A==3&&(q?A=2:A=1),A){case 2:break;case 1:f>1?f=Math.pow(f,.5):f*=.95;break;case 0:default:f>1?f=1:f*=.95;break}for(var j=0,v=0;v<y.sfbmax;v++){var X=y.width[v],Q;if(j+=X,!(F[v]<f)){if(D.substep_shaping&2&&(D.pseudohalf[v]=D.pseudohalf[v]==0?1:0,D.pseudohalf[v]==0&&D.noise_shaping_amp==2))return;for(y.scalefac[v]++,Q=-X;Q<0;Q++)K[j+Q]*=c,K[j+Q]>y.xrpow_max&&(y.xrpow_max=K[j+Q]);if(D.noise_shaping_amp==2)return}}}function me(G,y){for(var F=1.2968395546510096,K=0,q=0;q<G.sfbmax;q++){var D=G.width[q],c=G.scalefac[q];if(G.preflag!=0&&(c+=B.pretab[q]),K+=D,c&1){c++;for(var f=-D;f<0;f++)y[K+f]*=F,y[K+f]>G.xrpow_max&&(G.xrpow_max=y[K+f])}G.scalefac[q]=c>>1}G.preflag=0,G.scalefac_scale=1}function de(G,y,F){var K,q=y.scalefac;for(K=0;K<y.sfb_lmax;K++)if(q[K]>=16)return!0;for(var D=0;D<3;D++){var c=0,f=0;for(K=y.sfb_lmax+D;K<y.sfbdivide;K+=3)c<q[K]&&(c=q[K]);for(;K<y.sfbmax;K+=3)f<q[K]&&(f=q[K]);if(!(c<16&&f<8)){if(y.subblock_gain[D]>=7)return!0;y.subblock_gain[D]++;var v=G.scalefac_band.l[y.sfb_lmax];for(K=y.sfb_lmax+D;K<y.sfbmax;K+=3){var A,j=y.width[K],X=q[K];if(d(X>=0),X=X-(4>>y.scalefac_scale),X>=0){q[K]=X,v+=j*3;continue}q[K]=0;{var Q=210+(X<<y.scalefac_scale+1);A=B.IPOW20(Q)}v+=j*(D+1);for(var z=-j;z<0;z++)F[v+z]*=A,F[v+z]>y.xrpow_max&&(y.xrpow_max=F[v+z]);v+=j*(3-D-1)}{var A=B.IPOW20(202);v+=y.width[K]*(D+1);for(var z=-y.width[K];z<0;z++)F[v+z]*=A,F[v+z]>y.xrpow_max&&(y.xrpow_max=F[v+z])}}}return!1}function _(G,y,F,K,q){var D=G.internal_flags;te(G,y,F,K,q);var c=U(y);return c?!1:(D.mode_gr==2?c=Y.scale_bitcount(y):c=Y.scale_bitcount_lsf(D,y),c?(D.noise_shaping>1&&(m.fill(D.pseudohalf,0),y.scalefac_scale==0?(me(y,K),c=!1):y.block_type==R.SHORT_TYPE&&D.subblock_gain>0&&(c=de(D,y,K)||U(y))),c||(D.mode_gr==2?c=Y.scale_bitcount(y):c=Y.scale_bitcount_lsf(D,y)),!c):!0)}this.outer_loop=function(G,y,F,K,q,D){var c=G.internal_flags,f=new b,v=u(576),A=u(h.SFBMAX),j=new g,X,Q=new E,z=9999999,ne=!1,ae=!1,be=0;if(N(c,y,D,q,K),c.noise_shaping==0)return 100;B.calc_noise(y,F,A,j,Q),j.bits=y.part2_3_length,f.assign(y);var Oe=0;for(s.arraycopy(K,0,v,0,576);!ne;){do{var Ce=new g,Ge,Ye=255;if(c.substep_shaping&2?Ge=20:Ge=3,c.sfb21_extra&&(A[f.sfbmax]>1||f.block_type==R.SHORT_TYPE&&(A[f.sfbmax+1]>1||A[f.sfbmax+2]>1))||!_(G,f,A,K,ae))break;f.scalefac_scale!=0&&(Ye=254);var st=D-f.part2_length;if(st<=0)break;for(;(f.part2_3_length=Y.count_bits(c,K,f,Q))>st&&f.global_gain<=Ye;)f.global_gain++;if(f.global_gain>Ye)break;if(j.over_count==0){for(;(f.part2_3_length=Y.count_bits(c,K,f,Q))>z&&f.global_gain<=Ye;)f.global_gain++;if(f.global_gain>Ye)break}if(B.calc_noise(f,F,A,Ce,Q),Ce.bits=f.part2_3_length,y.block_type!=R.SHORT_TYPE?X=G.quant_comp:X=G.quant_comp_short,X=ee(X,j,Ce,f,A)?1:0,X!=0)z=y.part2_3_length,j=Ce,y.assign(f),Oe=0,s.arraycopy(K,0,v,0,576);else if(c.full_outer_loop==0&&(++Oe>Ge&&j.over_count==0||c.noise_shaping_amp==3&&ae&&Oe>30||c.noise_shaping_amp==3&&ae&&f.global_gain-be>15))break}while(f.global_gain+f.scalefac_scale<255);c.noise_shaping_amp==3?ae?ne=!0:(f.assign(y),s.arraycopy(v,0,K,0,576),Oe=0,be=f.global_gain,ae=!0):ne=!0}return d(y.global_gain+y.scalefac_scale<=255),G.VBR==i.vbr_rh||G.VBR==i.vbr_mtrh?s.arraycopy(v,0,K,0,576):c.substep_shaping&1&&trancate_smallspectrums(c,y,F,K),j.over_count},this.iteration_finish_one=function(G,y,F){var K=G.l3_side,q=K.tt[y][F];Y.best_scalefac_store(G,y,F,K),G.use_best_huffman==1&&Y.best_huffman_divide(G,q),T.ResvAdjust(G,q)},this.VBR_encode_granule=function(G,y,F,K,q,D,c){var f=G.internal_flags,v=new b,A=u(576),j=c,X=c+1,Q=(c+D)/2,z,ne,ae=0,be=f.sfb21_extra;d(j<=LameInternalFlags.MAX_BITS_PER_CHANNEL),m.fill(v.l3_enc,0);do d(Q>=D),d(Q<=c),d(D<=c),Q>j-42?f.sfb21_extra=!1:f.sfb21_extra=be,ne=outer_loop(G,y,F,K,q,Q),ne<=0?(ae=1,X=y.part2_3_length,v.assign(y),s.arraycopy(K,0,A,0,576),c=X-32,z=c-D,Q=(c+D)/2):(D=Q+32,z=c-D,Q=(c+D)/2,ae!=0&&(ae=2,y.assign(v),s.arraycopy(A,0,K,0,576)));while(z>12);f.sfb21_extra=be,ae==2&&s.arraycopy(v.l3_enc,0,y.l3_enc,0,576),d(y.part2_3_length<=j)},this.get_framebits=function(G,y){var F=G.internal_flags;F.bitrate_index=F.VBR_min_bitrate;var K=I.getframebits(G);F.bitrate_index=1,K=I.getframebits(G);for(var q=1;q<=F.VBR_max_bitrate;q++){F.bitrate_index=q;var D=new MeanBits(K);y[q]=T.ResvFrameBegin(G,D),K=D.bits}},this.VBR_old_prepare=function(G,y,F,K,q,D,c,f,v){var A=G.internal_flags,j,X=0,Q=1,z=0;A.bitrate_index=A.VBR_max_bitrate;var ne=T.ResvFrameBegin(G,new MeanBits(0))/A.mode_gr;get_framebits(G,D);for(var ae=0;ae<A.mode_gr;ae++){var be=B.on_pe(G,y,f[ae],ne,ae,0);A.mode_ext==R.MPG_MD_MS_LR&&(ms_convert(A.l3_side,ae),B.reduce_side(f[ae],F[ae],ne,be));for(var Oe=0;Oe<A.channels_out;++Oe){var Ce=A.l3_side.tt[ae][Oe];Ce.block_type!=R.SHORT_TYPE?(X=1.28/(1+Math.exp(3.5-y[ae][Oe]/300))-.05,j=A.PSY.mask_adjust-X):(X=2.56/(1+Math.exp(3.5-y[ae][Oe]/300))-.14,j=A.PSY.mask_adjust_short-X),A.masking_lower=Math.pow(10,j*.1),init_outer_loop(A,Ce),v[ae][Oe]=B.calc_xmin(G,K[ae][Oe],Ce,q[ae][Oe]),v[ae][Oe]!=0&&(Q=0),c[ae][Oe]=126,z+=f[ae][Oe]}}for(var ae=0;ae<A.mode_gr;ae++)for(var Oe=0;Oe<A.channels_out;Oe++)z>D[A.VBR_max_bitrate]&&(f[ae][Oe]*=D[A.VBR_max_bitrate],f[ae][Oe]/=z),c[ae][Oe]>f[ae][Oe]&&(c[ae][Oe]=f[ae][Oe]);return Q},this.bitpressure_strategy=function(G,y,F,K){for(var q=0;q<G.mode_gr;q++)for(var D=0;D<G.channels_out;D++){for(var c=G.l3_side.tt[q][D],f=y[q][D],v=0,A=0;A<c.psy_lmax;A++)f[v++]*=1+.029*A*A/R.SBMAX_l/R.SBMAX_l;if(c.block_type==R.SHORT_TYPE)for(var A=c.sfb_smin;A<R.SBMAX_s;A++)f[v++]*=1+.029*A*A/R.SBMAX_s/R.SBMAX_s,f[v++]*=1+.029*A*A/R.SBMAX_s/R.SBMAX_s,f[v++]*=1+.029*A*A/R.SBMAX_s/R.SBMAX_s;K[q][D]=0|Math.max(F[q][D],.9*K[q][D])}},this.VBR_new_prepare=function(G,y,F,K,q,D){var c=G.internal_flags,f=1,v=0,A=0,j;if(G.free_format){c.bitrate_index=0;var X=new MeanBits(v);j=T.ResvFrameBegin(G,X),v=X.bits,q[0]=j}else{c.bitrate_index=c.VBR_max_bitrate;var X=new MeanBits(v);T.ResvFrameBegin(G,X),v=X.bits,get_framebits(G,q),j=q[c.VBR_max_bitrate]}for(var Q=0;Q<c.mode_gr;Q++){B.on_pe(G,y,D[Q],v,Q,0),c.mode_ext==R.MPG_MD_MS_LR&&ms_convert(c.l3_side,Q);for(var z=0;z<c.channels_out;++z){var ne=c.l3_side.tt[Q][z];c.masking_lower=Math.pow(10,c.PSY.mask_adjust*.1),init_outer_loop(c,ne),B.calc_xmin(G,F[Q][z],ne,K[Q][z])!=0&&(f=0),A+=D[Q][z]}}for(var Q=0;Q<c.mode_gr;Q++)for(var z=0;z<c.channels_out;z++)A>j&&(D[Q][z]*=j,D[Q][z]/=A);return f},this.calc_target_bits=function(G,y,F,K,q,D){var c=G.internal_flags,f=c.l3_side,v,A,j,X,Q=0;c.bitrate_index=c.VBR_max_bitrate;var z=new MeanBits(Q);for(D[0]=T.ResvFrameBegin(G,z),Q=z.bits,c.bitrate_index=1,Q=I.getframebits(G)-c.sideinfo_len*8,q[0]=Q/(c.mode_gr*c.channels_out),Q=G.VBR_mean_bitrate_kbps*G.framesize*1e3,c.substep_shaping&1&&(Q*=1.09),Q/=G.out_samplerate,Q-=c.sideinfo_len*8,Q/=c.mode_gr*c.channels_out,v=.93+.07*(11-G.compression_ratio)/5.5,v<.9&&(v=.9),v>1&&(v=1),A=0;A<c.mode_gr;A++){var ne=0;for(j=0;j<c.channels_out;j++){if(K[A][j]=int(v*Q),y[A][j]>700){var ae=int((y[A][j]-700)/1.4),be=f.tt[A][j];K[A][j]=int(v*Q),be.block_type==R.SHORT_TYPE&&ae<Q/2&&(ae=Q/2),ae>Q*3/2?ae=Q*3/2:ae<0&&(ae=0),K[A][j]+=ae}K[A][j]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(K[A][j]=LameInternalFlags.MAX_BITS_PER_CHANNEL),ne+=K[A][j]}if(ne>LameInternalFlags.MAX_BITS_PER_GRANULE)for(j=0;j<c.channels_out;++j)K[A][j]*=LameInternalFlags.MAX_BITS_PER_GRANULE,K[A][j]/=ne}if(c.mode_ext==R.MPG_MD_MS_LR)for(A=0;A<c.mode_gr;A++)B.reduce_side(K[A],F[A],Q*c.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(X=0,A=0;A<c.mode_gr;A++)for(j=0;j<c.channels_out;j++)K[A][j]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(K[A][j]=LameInternalFlags.MAX_BITS_PER_CHANNEL),X+=K[A][j];if(X>D[0])for(A=0;A<c.mode_gr;A++)for(j=0;j<c.channels_out;j++)K[A][j]*=D[0],K[A][j]/=X}}p.exports=O},429:(p,x,e)=>{var n=e(302),s=e(935);s.System;var i=s.VbrMode,o=s.Float;s.ShortBlock;var m=s.Util;s.Arrays,s.new_array_n,s.new_byte,s.new_double;var u=s.new_float;s.new_float_n;var d=s.new_int;s.new_int_n;var S=s.assert,g=e(687),E=e(3134),R=e(1998);b.Q_MAX=257,b.Q_MAX2=116,b.LARGE_BITS=1e5,b.IXMAX_VAL=8206;function b(){var h=null,O=null,I=null;this.setModules=function(_,G,y){h=_,O=G,I=y};function T(_){return S(0<=_+b.Q_MAX2&&_<b.Q_MAX),U[_+b.Q_MAX2]}this.IPOW20=function(_){return S(0<=_&&_<b.Q_MAX),W[_]};var B=2220446049250313e-31,V=b.IXMAX_VAL,Y=V+2,k=b.Q_MAX,P=b.Q_MAX2;b.LARGE_BITS;var l=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var N=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=N,this.sfBandIndex=[new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var U=u(k+P+1),W=u(k),Z=u(Y),ee=u(Y);this.adj43=ee;function te(_,G){var y=I.ATHformula(G,_);return y-=l,y=Math.pow(10,y/10+_.ATHlower),y}function me(_){for(var G=_.internal_flags.ATH.l,y=_.internal_flags.ATH.psfb21,F=_.internal_flags.ATH.s,K=_.internal_flags.ATH.psfb12,q=_.internal_flags,D=_.out_samplerate,c=0;c<g.SBMAX_l;c++){var f=q.scalefac_band.l[c],v=q.scalefac_band.l[c+1];G[c]=o.MAX_VALUE;for(var A=f;A<v;A++){var j=A*D/1152,X=te(_,j);G[c]=Math.min(G[c],X)}}for(var c=0;c<g.PSFB21;c++){var f=q.scalefac_band.psfb21[c],v=q.scalefac_band.psfb21[c+1];y[c]=o.MAX_VALUE;for(var A=f;A<v;A++){var j=A*D/1152,X=te(_,j);y[c]=Math.min(y[c],X)}}for(var c=0;c<g.SBMAX_s;c++){var f=q.scalefac_band.s[c],v=q.scalefac_band.s[c+1];F[c]=o.MAX_VALUE;for(var A=f;A<v;A++){var j=A*D/384,X=te(_,j);F[c]=Math.min(F[c],X)}F[c]*=q.scalefac_band.s[c+1]-q.scalefac_band.s[c]}for(var c=0;c<g.PSFB12;c++){var f=q.scalefac_band.psfb12[c],v=q.scalefac_band.psfb12[c+1];K[c]=o.MAX_VALUE;for(var A=f;A<v;A++){var j=A*D/384,X=te(_,j);K[c]=Math.min(K[c],X)}K[c]*=q.scalefac_band.s[13]-q.scalefac_band.s[12]}if(_.noATH){for(var c=0;c<g.SBMAX_l;c++)G[c]=1e-20;for(var c=0;c<g.PSFB21;c++)y[c]=1e-20;for(var c=0;c<g.SBMAX_s;c++)F[c]=1e-20;for(var c=0;c<g.PSFB12;c++)K[c]=1e-20}q.ATH.floor=10*Math.log10(te(_,-1))}this.iteration_init=function(_){var G=_.internal_flags,y=G.l3_side,F;if(G.iteration_init_init==0){for(G.iteration_init_init=1,y.main_data_begin=0,me(_),Z[0]=0,F=1;F<Y;F++)Z[F]=Math.pow(F,1.3333333333333333);for(F=0;F<Y-1;F++)ee[F]=F+1-Math.pow(.5*(Z[F]+Z[F+1]),.75);for(ee[F]=.5,F=0;F<k;F++)W[F]=Math.pow(2,(F-210)*-.1875);for(F=0;F<=k+P;F++)U[F]=Math.pow(2,(F-210-P)*.25);h.huffman_init(G);{var K,q,D,c;for(F=_.exp_nspsytune>>2&63,F>=32&&(F-=64),K=Math.pow(10,F/4/10),F=_.exp_nspsytune>>8&63,F>=32&&(F-=64),q=Math.pow(10,F/4/10),F=_.exp_nspsytune>>14&63,F>=32&&(F-=64),D=Math.pow(10,F/4/10),F=_.exp_nspsytune>>20&63,F>=32&&(F-=64),c=D*Math.pow(10,F/4/10),F=0;F<g.SBMAX_l;F++){var f;F<=6?f=K:F<=13?f=q:F<=20?f=D:f=c,G.nsPsy.longfact[F]=f}for(F=0;F<g.SBMAX_s;F++){var f;F<=5?f=K:F<=10?f=q:F<=11?f=D:f=c,G.nsPsy.shortfact[F]=f}}}},this.on_pe=function(_,G,y,F,K,q){var D=_.internal_flags,c=0,f,v=d(2),A,j=new E(c),X=O.ResvMaxBits(_,F,j,q);c=j.bits;var Q=c+X;for(Q>R.MAX_BITS_PER_GRANULE&&(Q=R.MAX_BITS_PER_GRANULE),f=0,A=0;A<D.channels_out;++A)y[A]=Math.min(R.MAX_BITS_PER_CHANNEL,c/D.channels_out),v[A]=0|y[A]*G[K][A]/700-y[A],v[A]>F*3/4&&(v[A]=F*3/4),v[A]<0&&(v[A]=0),v[A]+y[A]>R.MAX_BITS_PER_CHANNEL&&(v[A]=Math.max(0,R.MAX_BITS_PER_CHANNEL-y[A])),f+=v[A];if(f>X)for(A=0;A<D.channels_out;++A)v[A]=X*v[A]/f;for(A=0;A<D.channels_out;++A)y[A]+=v[A],X-=v[A];for(f=0,A=0;A<D.channels_out;++A)f+=y[A];if(f>R.MAX_BITS_PER_GRANULE){var z=0;for(A=0;A<D.channels_out;++A)y[A]*=R.MAX_BITS_PER_GRANULE,y[A]/=f,z+=y[A];S(z<=R.MAX_BITS_PER_GRANULE)}return Q},this.reduce_side=function(_,G,y,F){S(F<=R.MAX_BITS_PER_GRANULE),S(_[0]+_[1]<=R.MAX_BITS_PER_GRANULE);var K=.33*(.5-G)/.5;K<0&&(K=0),K>.5&&(K=.5);var q=0|K*.5*(_[0]+_[1]);q>R.MAX_BITS_PER_CHANNEL-_[0]&&(q=R.MAX_BITS_PER_CHANNEL-_[0]),q<0&&(q=0),_[1]>=125&&(_[1]-q>125?(_[0]<y&&(_[0]+=q),_[1]-=q):(_[0]+=_[1]-125,_[1]=125)),q=_[0]+_[1],q>F&&(_[0]=F*_[0]/q,_[1]=F*_[1]/q),S(_[0]<=R.MAX_BITS_PER_CHANNEL),S(_[1]<=R.MAX_BITS_PER_CHANNEL),S(_[0]+_[1]<=R.MAX_BITS_PER_GRANULE)},this.athAdjust=function(_,G,y){var F=90.30873362,K=94.82444863,q=m.FAST_LOG10_X(G,10),D=_*_,c=0;return q-=y,D>1e-20&&(c=1+m.FAST_LOG10_X(D,10/F)),c<0&&(c=0),q*=c,q+=y+F-K,Math.pow(10,.1*q)},this.calc_xmin=function(_,G,y,F){var K=0,q=_.internal_flags,D,c=0,f=0,v=q.ATH,A=y.xr,j=_.VBR==i.vbr_mtrh?1:0,X=q.masking_lower;for((_.VBR==i.vbr_mtrh||_.VBR==i.vbr_mt)&&(X=1),D=0;D<y.psy_lmax;D++){var Q,z,ne,ae,be,Oe;_.VBR==i.vbr_rh||_.VBR==i.vbr_mtrh?z=athAdjust(v.adjust,v.l[D],v.floor):z=v.adjust*v.l[D],be=y.width[D],ne=z/be,ae=B,Oe=be>>1,Q=0;do{var Ce,Ge;Ce=A[c]*A[c],Q+=Ce,ae+=Ce<ne?Ce:ne,c++,Ge=A[c]*A[c],Q+=Ge,ae+=Ge<ne?Ge:ne,c++}while(--Oe>0);if(Q>z&&f++,D==g.SBPSY_l){var Ye=z*q.nsPsy.longfact[D];ae<Ye&&(ae=Ye)}if(j!=0&&(z=ae),!_.ATHonly){var st=G.en.l[D];if(st>0){var Ye;Ye=Q*G.thm.l[D]*X/st,j!=0&&(Ye*=q.nsPsy.longfact[D]),z<Ye&&(z=Ye)}}j!=0?F[K++]=z:F[K++]=z*q.nsPsy.longfact[D]}var xt=575;if(y.block_type!=g.SHORT_TYPE)for(var C=576;C--!=0&&BitStream.EQ(A[C],0);)xt=C;y.max_nonzero_coeff=xt;for(var H=y.sfb_smin;D<y.psymax;H++,D+=3){var be,Le,Te;for(_.VBR==i.vbr_rh||_.VBR==i.vbr_mtrh?Te=athAdjust(v.adjust,v.s[H],v.floor):Te=v.adjust*v.s[H],be=y.width[D],Le=0;Le<3;Le++){var Q=0,z,ne,ae,Oe=be>>1;ne=Te/be,ae=B;do{var Ce,Ge;Ce=A[c]*A[c],Q+=Ce,ae+=Ce<ne?Ce:ne,c++,Ge=A[c]*A[c],Q+=Ge,ae+=Ge<ne?Ge:ne,c++}while(--Oe>0);if(Q>Te&&f++,H==g.SBPSY_s){var Ye=Te*q.nsPsy.shortfact[H];ae<Ye&&(ae=Ye)}if(j!=0?z=ae:z=Te,!_.ATHonly&&!_.ATHshort){var st=G.en.s[H][Le];if(st>0){var Ye;Ye=Q*G.thm.s[H][Le]*X/st,j!=0&&(Ye*=q.nsPsy.shortfact[H]),z<Ye&&(z=Ye)}}j!=0?F[K++]=z:F[K++]=z*q.nsPsy.shortfact[H]}_.useTemporal&&(F[K-3]>F[K-3+1]&&(F[K-3+1]+=(F[K-3]-F[K-3+1])*q.decay),F[K-3+1]>F[K-3+2]&&(F[K-3+2]+=(F[K-3+1]-F[K-3+2])*q.decay))}return f};function de(_){this.s=_}this.calc_noise_core=function(_,G,y,F){var K=0,q=G.s,D=_.l3_enc;if(q>_.count1)for(;y--!=0;){var c;c=_.xr[q],q++,K+=c*c,c=_.xr[q],q++,K+=c*c}else if(q>_.big_values){var f=u(2);for(f[0]=0,f[1]=F;y--!=0;){var c;c=Math.abs(_.xr[q])-f[D[q]],q++,K+=c*c,c=Math.abs(_.xr[q])-f[D[q]],q++,K+=c*c}}else for(;y--!=0;){var c;c=Math.abs(_.xr[q])-Z[D[q]]*F,q++,K+=c*c,c=Math.abs(_.xr[q])-Z[D[q]]*F,q++,K+=c*c}return G.s=q,K},this.calc_noise=function(_,G,y,F,K){var q=0,D=0,c,f,v=0,A=0,j=0,X=-20,Q=0,z=_.scalefac,ne=0;for(F.over_SSD=0,c=0;c<_.psymax;c++){var ae=_.global_gain-(z[ne++]+(_.preflag!=0?N[c]:0)<<_.scalefac_scale+1)-_.subblock_gain[_.window[c]]*8,be=0;if(K!=null&&K.step[c]==ae)be=K.noise[c],Q+=_.width[c],y[q++]=be/G[D++],be=K.noise_log[c];else{var Oe=T(ae);if(f=_.width[c]>>1,Q+_.width[c]>_.max_nonzero_coeff){var Ce;Ce=_.max_nonzero_coeff-Q+1,Ce>0?f=Ce>>1:f=0}var Ge=new de(Q);be=this.calc_noise_core(_,Ge,f,Oe),Q=Ge.s,K!=null&&(K.step[c]=ae,K.noise[c]=be),be=y[q++]=be/G[D++],be=m.FAST_LOG10(Math.max(be,1e-20)),K!=null&&(K.noise_log[c]=be)}if(K!=null&&(K.global_gain=_.global_gain),j+=be,be>0){var Ye;Ye=Math.max(0|be*10+.5,1),F.over_SSD+=Ye*Ye,v++,A+=be}X=Math.max(X,be)}return F.over_count=v,F.tot_noise=j,F.over_noise=A,F.max_noise=X,v},this.set_pinfo=function(_,G,y,F,K){var q=_.internal_flags,D,c,f,v,A,j=G.scalefac_scale==0?.5:1,X=G.scalefac,Q=u(L3Side.SFBMAX),z=u(L3Side.SFBMAX),ne=new CalcNoiseResult;calc_xmin(_,y,G,Q),calc_noise(G,Q,z,ne,null);var ae=0;for(c=G.sfb_lmax,G.block_type!=g.SHORT_TYPE&&G.mixed_block_flag==0&&(c=22),D=0;D<c;D++){var be=q.scalefac_band.l[D],Oe=q.scalefac_band.l[D+1],Ce=Oe-be;for(v=0;ae<Oe;ae++)v+=G.xr[ae]*G.xr[ae];v/=Ce,A=1e15,q.pinfo.en[F][K][D]=A*v,q.pinfo.xfsf[F][K][D]=A*Q[D]*z[D]/Ce,y.en.l[D]>0&&!_.ATHonly?v=v/y.en.l[D]:v=0,q.pinfo.thr[F][K][D]=A*Math.max(v*y.thm.l[D],q.ATH.l[D]),q.pinfo.LAMEsfb[F][K][D]=0,G.preflag!=0&&D>=11&&(q.pinfo.LAMEsfb[F][K][D]=-j*N[D]),D<g.SBPSY_l&&(S(X[D]>=0),q.pinfo.LAMEsfb[F][K][D]-=j*X[D])}if(G.block_type==g.SHORT_TYPE)for(c=D,D=G.sfb_smin;D<g.SBMAX_s;D++)for(var be=q.scalefac_band.s[D],Oe=q.scalefac_band.s[D+1],Ce=Oe-be,Ge=0;Ge<3;Ge++){for(v=0,f=be;f<Oe;f++)v+=G.xr[ae]*G.xr[ae],ae++;v=Math.max(v/Ce,1e-20),A=1e15,q.pinfo.en_s[F][K][3*D+Ge]=A*v,q.pinfo.xfsf_s[F][K][3*D+Ge]=A*Q[c]*z[c]/Ce,y.en.s[D][Ge]>0?v=v/y.en.s[D][Ge]:v=0,(_.ATHonly||_.ATHshort)&&(v=0),q.pinfo.thr_s[F][K][3*D+Ge]=A*Math.max(v*y.thm.s[D][Ge],q.ATH.s[D]),q.pinfo.LAMEsfb_s[F][K][3*D+Ge]=-2*G.subblock_gain[Ge],D<g.SBPSY_s&&(q.pinfo.LAMEsfb_s[F][K][3*D+Ge]-=j*X[c]),c++}q.pinfo.LAMEqss[F][K]=G.global_gain,q.pinfo.LAMEmainbits[F][K]=G.part2_3_length+G.part2_length,q.pinfo.LAMEsfbits[F][K]=G.part2_length,q.pinfo.over[F][K]=ne.over_count,q.pinfo.max_noise[F][K]=ne.max_noise*10,q.pinfo.over_noise[F][K]=ne.over_noise*10,q.pinfo.tot_noise[F][K]=ne.tot_noise*10,q.pinfo.over_SSD[F][K]=ne.over_SSD}}p.exports=b},1062:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double;var s=n.new_float;n.new_float_n;var i=n.new_int;n.new_int_n,n.assert;var o=e(1287);function m(){this.linprebuf=s(o.MAX_ORDER*2),this.linpre=0,this.lstepbuf=s(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=s(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=s(o.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=s(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=s(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=i(0|o.STEPS_per_dB*o.MAX_dB),this.B=i(0|o.STEPS_per_dB*o.MAX_dB)}p.exports=m},3060:(p,x,e)=>{var n=e(935),s=n.assert;function i(){var o;this.setModules=function(m){o=m},this.ResvFrameBegin=function(m,u){var d=m.internal_flags,S,g=d.l3_side,E=o.getframebits(m);u.bits=(E-d.sideinfo_len*8)/d.mode_gr;var R=8*256*d.mode_gr-8;m.brate>320?S=8*int(m.brate*1e3/(m.out_samplerate/1152)/8+.5):(S=11520,m.strict_ISO&&(S=8*int(32e4/(m.out_samplerate/1152)/8+.5))),d.ResvMax=S-E,d.ResvMax>R&&(d.ResvMax=R),(d.ResvMax<0||m.disable_reservoir)&&(d.ResvMax=0);var b=u.bits*d.mode_gr+Math.min(d.ResvSize,d.ResvMax);return b>S&&(b=S),s(d.ResvMax%8==0),s(d.ResvMax>=0),g.resvDrain_pre=0,d.pinfo!=null&&(d.pinfo.mean_bits=u.bits/2,d.pinfo.resvsize=d.ResvSize),b},this.ResvMaxBits=function(m,u,d,S){var g=m.internal_flags,E,R=g.ResvSize,b=g.ResvMax;S!=0&&(R+=u),g.substep_shaping&1&&(b*=.9),d.bits=u,R*10>b*9?(E=R-b*9/10,d.bits+=E,g.substep_shaping|=128):(E=0,g.substep_shaping&=127,!m.disable_reservoir&&!(g.substep_shaping&1)&&(d.bits-=.1*u));var h=R<g.ResvMax*6/10?R:g.ResvMax*6/10;return h-=E,h<0&&(h=0),h},this.ResvAdjust=function(m,u){m.ResvSize-=u.part2_3_length+u.part2_length},this.ResvFrameEnd=function(m,u){var d,S=m.l3_side;m.ResvSize+=u*m.mode_gr;var g=0;S.resvDrain_post=0,S.resvDrain_pre=0,(d=m.ResvSize%8)!=0&&(g+=d),d=m.ResvSize-g-m.ResvMax,d>0&&(s(d%8==0),s(d>=0),g+=d);{var E=Math.min(S.main_data_begin*8,g)/8;S.resvDrain_pre+=8*E,g-=8*E,m.ResvSize-=8*E,S.main_data_begin-=E}S.resvDrain_post+=g,m.ResvSize-=g}}p.exports=i},302:(p,x,e)=>{var n=e(935),s=n.System;n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n;var i=n.new_int;n.new_int_n,n.assert;var o=e(687);function m(u,d,S,g){this.l=i(1+o.SBMAX_l),this.s=i(1+o.SBMAX_s),this.psfb21=i(1+o.PSFB21),this.psfb12=i(1+o.PSFB12);var E=this.l,R=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],s.arraycopy(this.arrL,0,E,0,Math.min(this.arrL.length,this.l.length)),s.arraycopy(this.arrS,0,R,0,Math.min(this.arrS.length,this.s.length)),s.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),s.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}p.exports=m},7721:p=>{function x(n,s,i,o){this.xlen=n,this.linmax=s,this.table=i,this.hlen=o}var e={};e.t1HB=[1,1,1,0],e.t2HB=[1,2,1,3,1,1,3,2,0],e.t3HB=[3,2,1,1,1,1,3,2,0],e.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],e.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],e.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],e.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],e.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],e.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],e.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],e.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],e.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],e.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],e.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],e.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],e.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],e.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],e.t1l=[1,4,3,5],e.t2l=[1,4,7,4,5,7,6,7,8],e.t3l=[2,3,7,4,4,7,6,7,8],e.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],e.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],e.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],e.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],e.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],e.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],e.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],e.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],e.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],e.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],e.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],e.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],e.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],e.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],e.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],e.ht=[new x(0,0,null,null),new x(2,0,e.t1HB,e.t1l),new x(3,0,e.t2HB,e.t2l),new x(3,0,e.t3HB,e.t3l),new x(0,0,null,null),new x(4,0,e.t5HB,e.t5l),new x(4,0,e.t6HB,e.t6l),new x(6,0,e.t7HB,e.t7l),new x(6,0,e.t8HB,e.t8l),new x(6,0,e.t9HB,e.t9l),new x(8,0,e.t10HB,e.t10l),new x(8,0,e.t11HB,e.t11l),new x(8,0,e.t12HB,e.t12l),new x(16,0,e.t13HB,e.t13l),new x(0,0,null,e.t16_5l),new x(16,0,e.t15HB,e.t15l),new x(1,1,e.t16HB,e.t16l),new x(2,3,e.t16HB,e.t16l),new x(3,7,e.t16HB,e.t16l),new x(4,15,e.t16HB,e.t16l),new x(6,63,e.t16HB,e.t16l),new x(8,255,e.t16HB,e.t16l),new x(10,1023,e.t16HB,e.t16l),new x(13,8191,e.t16HB,e.t16l),new x(4,15,e.t24HB,e.t24l),new x(5,31,e.t24HB,e.t24l),new x(6,63,e.t24HB,e.t24l),new x(7,127,e.t24HB,e.t24l),new x(8,255,e.t24HB,e.t24l),new x(9,511,e.t24HB,e.t24l),new x(11,2047,e.t24HB,e.t24l),new x(13,8191,e.t24HB,e.t24l),new x(0,0,e.t32HB,e.t32l),new x(0,0,e.t33HB,e.t33l)],e.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],e.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],e.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],e.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],e.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],e.scfsi_band=[0,6,11,16,21],p.exports=e},5638:(p,x,e)=>{var n=e(935),s=n.System;n.VbrMode,n.Float,n.ShortBlock,n.Util;var i=n.Arrays;n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n;var o=n.new_int;n.new_int_n;var m=n.assert,u=e(687),d=e(7721),S=e(9438),g=e(429);function E(){var R=null;this.qupvt=null,this.setModules=function(D){this.qupvt=D,R=D};function b(D){this.bits=0|D}var h=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function O(D,c,f,v,A,j){var X=.5946/c;for(m(D>0),D=D>>1;D--!=0;)A[j++]=X>f[v++]?0:1,A[j++]=X>f[v++]?0:1}function I(D,c,f,v,A,j){m(D>0),D=D>>1;var X=D%2;for(D=D>>1;D--!=0;){var Q,z,ne,ae,be,Oe,Ce,Ge;Q=f[v++]*c,z=f[v++]*c,be=0|Q,ne=f[v++]*c,Oe=0|z,ae=f[v++]*c,Ce=0|ne,Q+=R.adj43[be],Ge=0|ae,z+=R.adj43[Oe],A[j++]=0|Q,ne+=R.adj43[Ce],A[j++]=0|z,ae+=R.adj43[Ge],A[j++]=0|ne,A[j++]=0|ae}if(X!=0){var Q,z,be,Oe;Q=f[v++]*c,z=f[v++]*c,be=0|Q,Oe=0|z,Q+=R.adj43[be],z+=R.adj43[Oe],A[j++]=0|Q,A[j++]=0|z}}function T(D,c,f,v,A){var j,X,Q=0,z,ne=0,ae=0,be=0,Oe=c,Ce=0,Ge=Oe,Ye=0,st=D,xt=0;for(z=A!=null&&v.global_gain==A.global_gain,v.block_type==u.SHORT_TYPE?X=38:X=21,j=0;j<=X;j++){var C=-1;if((z||v.block_type==u.NORM_TYPE)&&(C=v.global_gain-(v.scalefac[j]+(v.preflag!=0?R.pretab[j]:0)<<v.scalefac_scale+1)-v.subblock_gain[v.window[j]]*8),m(v.width[j]>=0),z&&A.step[j]==C)ne!=0&&(I(ne,f,st,xt,Ge,Ye),ne=0),ae!=0&&(O(ae,f,st,xt,Ge,Ye),ae=0);else{var H=v.width[j];if(Q+v.width[j]>v.max_nonzero_coeff){var Le;Le=v.max_nonzero_coeff-Q+1,i.fill(c,v.max_nonzero_coeff,576,0),H=Le,H<0&&(H=0),j=X+1}if(ne==0&&ae==0&&(Ge=Oe,Ye=Ce,st=D,xt=be),A!=null&&A.sfb_count1>0&&j>=A.sfb_count1&&A.step[j]>0&&C>=A.step[j]?(ne!=0&&(I(ne,f,st,xt,Ge,Ye),ne=0,Ge=Oe,Ye=Ce,st=D,xt=be),ae+=H):(ae!=0&&(O(ae,f,st,xt,Ge,Ye),ae=0,Ge=Oe,Ye=Ce,st=D,xt=be),ne+=H),H<=0){ae!=0&&(O(ae,f,st,xt,Ge,Ye),ae=0),ne!=0&&(I(ne,f,st,xt,Ge,Ye),ne=0);break}}j<=X&&(Ce+=v.width[j],be+=v.width[j],Q+=v.width[j])}ne!=0&&(I(ne,f,st,xt,Ge,Ye),ne=0),ae!=0&&(O(ae,f,st,xt,Ge,Ye),ae=0)}function B(D,c,f){var v=0,A=0;do{var j=D[c++],X=D[c++];v<j&&(v=j),A<X&&(A=X)}while(c<f);return v<A&&(v=A),v}function V(D,c,f,v,A,j){var X=d.ht[v].xlen*65536+d.ht[A].xlen,Q=0,z;do{var ne=D[c++],ae=D[c++];ne!=0&&(ne>14&&(ne=15,Q+=X),ne*=16),ae!=0&&(ae>14&&(ae=15,Q+=X),ne+=ae),Q+=d.largetbl[ne]}while(c<f);return z=Q&65535,Q>>=16,Q>z&&(Q=z,v=A),j.bits+=Q,v}function Y(D,c,f,v){var A=0,j=d.ht[1].hlen;do{var X=D[c+0]*2+D[c+1];c+=2,A+=j[X]}while(c<f);return v.bits+=A,1}function k(D,c,f,v,A){var j=0,X,Q=d.ht[v].xlen,z;v==2?z=d.table23:z=d.table56;do{var ne=D[c+0]*Q+D[c+1];c+=2,j+=z[ne]}while(c<f);return X=j&65535,j>>=16,j>X&&(j=X,v++),A.bits+=j,v}function P(D,c,f,v,A){var j=0,X=0,Q=0,z=d.ht[v].xlen,ne=d.ht[v].hlen,ae=d.ht[v+1].hlen,be=d.ht[v+2].hlen;do{var Oe=D[c+0]*z+D[c+1];c+=2,j+=ne[Oe],X+=ae[Oe],Q+=be[Oe]}while(c<f);var Ce=v;return j>X&&(j=X,Ce++),j>Q&&(j=Q,Ce=v+2),A.bits+=j,Ce}var l=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function N(D,c,f,v){var A=B(D,c,f);switch(A){case 0:return A;case 1:return Y(D,c,f,v);case 2:case 3:return k(D,c,f,l[A-1],v);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return P(D,c,f,l[A-1],v);default:if(A>g.IXMAX_VAL)return v.bits=g.LARGE_BITS,-1;A-=15;var j;for(j=24;j<32&&!(d.ht[j].linmax>=A);j++);var X;for(X=j-8;X<24&&!(d.ht[X].linmax>=A);X++);return V(D,c,f,X,j,v)}}this.noquant_count_bits=function(D,c,f){var v=c.l3_enc,A=Math.min(576,c.max_nonzero_coeff+2>>1<<1);for(f!=null&&(f.sfb_count1=0);A>1&&!(v[A-1]|v[A-2]);A-=2);c.count1=A;for(var j=0,X=0;A>3;A-=4){var Q;if(((v[A-1]|v[A-2]|v[A-3]|v[A-4])&2147483647)>1)break;Q=((v[A-4]*2+v[A-3])*2+v[A-2])*2+v[A-1],j+=d.t32l[Q],X+=d.t33l[Q]}var z=j;if(c.count1table_select=0,j>X&&(z=X,c.count1table_select=1),c.count1bits=z,c.big_values=A,A==0)return z;if(c.block_type==u.SHORT_TYPE)j=3*D.scalefac_band.s[3],j>c.big_values&&(j=c.big_values),X=c.big_values;else if(c.block_type==u.NORM_TYPE){if(m(A<=576),j=c.region0_count=D.bv_scf[A-2],X=c.region1_count=D.bv_scf[A-1],m(j+X+2<u.SBPSY_l),X=D.scalefac_band.l[j+X+2],j=D.scalefac_band.l[j+1],X<A){var ne=new b(z);c.table_select[2]=N(v,X,A,ne),z=ne.bits}}else c.region0_count=7,c.region1_count=u.SBMAX_l-1-7-1,j=D.scalefac_band.l[8],X=A,j>X&&(j=X);if(j=Math.min(j,A),X=Math.min(X,A),m(j>=0),m(X>=0),0<j){var ne=new b(z);c.table_select[0]=N(v,0,j,ne),z=ne.bits}if(j<X){var ne=new b(z);c.table_select[1]=N(v,j,X,ne),z=ne.bits}if(D.use_best_huffman==2&&(c.part2_3_length=z,best_huffman_divide(D,c),z=c.part2_3_length),f!=null&&c.block_type==u.NORM_TYPE){for(var ae=0;D.scalefac_band.l[ae]<c.big_values;)ae++;f.sfb_count1=ae}return z},this.count_bits=function(D,c,f,v){var A=f.l3_enc,j=g.IXMAX_VAL/R.IPOW20(f.global_gain);if(f.xrpow_max>j)return g.LARGE_BITS;if(T(c,A,R.IPOW20(f.global_gain),f,v),D.substep_shaping&2)for(var X=0,Q=f.global_gain+f.scalefac_scale,z=.634521682242439/R.IPOW20(Q),ne=0;ne<f.sfbmax;ne++){var ae=f.width[ne];if(m(ae>=0),D.pseudohalf[ne]==0)X+=ae;else{var be;for(be=X,X+=ae;be<X;++be)A[be]=c[be]>=z?A[be]:0}}return this.noquant_count_bits(D,f,v)};function U(D,c,f,v,A,j,X){for(var Q=c.big_values,z=0;z<=22;z++)v[z]=g.LARGE_BITS;for(var z=0;z<16;z++){var ne=D.scalefac_band.l[z+1];if(ne>=Q)break;var ae=0,be=new b(ae),Oe=N(f,0,ne,be);ae=be.bits;for(var Ce=0;Ce<8;Ce++){var Ge=D.scalefac_band.l[z+Ce+2];if(Ge>=Q)break;var Ye=ae;be=new b(Ye);var st=N(f,ne,Ge,be);Ye=be.bits,v[z+Ce]>Ye&&(v[z+Ce]=Ye,A[z+Ce]=z,j[z+Ce]=Oe,X[z+Ce]=st)}}}function W(D,c,f,v,A,j,X,Q){for(var z=c.big_values,ne=2;ne<u.SBMAX_l+1;ne++){var ae=D.scalefac_band.l[ne];if(ae>=z)break;var be=A[ne-2]+c.count1bits;if(f.part2_3_length<=be)break;var Oe=new b(be),Ce=N(v,ae,z,Oe);be=Oe.bits,!(f.part2_3_length<=be)&&(f.assign(c),f.part2_3_length=be,f.region0_count=j[ne-2],f.region1_count=ne-2-j[ne-2],f.table_select[0]=X[ne-2],f.table_select[1]=Q[ne-2],f.table_select[2]=Ce)}}this.best_huffman_divide=function(D,c){var f=new S,v=c.l3_enc,A=o(7+15+1),j=o(7+15+1),X=o(7+15+1),Q=o(7+15+1);if(!(c.block_type==u.SHORT_TYPE&&D.mode_gr==1)){f.assign(c),c.block_type==u.NORM_TYPE&&(U(D,c,v,A,j,X,Q),W(D,f,c,v,A,j,X,Q));var z=f.big_values;if(!(z==0||(v[z-2]|v[z-1])>1)&&(z=c.count1+2,!(z>576))){f.assign(c),f.count1=z;var ne=0,ae=0;for(m(z<=576);z>f.big_values;z-=4){var be=((v[z-4]*2+v[z-3])*2+v[z-2])*2+v[z-1];ne+=d.t32l[be],ae+=d.t33l[be]}if(f.big_values=z,f.count1table_select=0,ne>ae&&(ne=ae,f.count1table_select=1),f.count1bits=ne,f.block_type==u.NORM_TYPE)W(D,f,c,v,A,j,X,Q);else{if(f.part2_3_length=ne,ne=D.scalefac_band.l[8],ne>z&&(ne=z),ne>0){var Oe=new b(f.part2_3_length);f.table_select[0]=N(v,0,ne,Oe),f.part2_3_length=Oe.bits}if(z>ne){var Oe=new b(f.part2_3_length);f.table_select[1]=N(v,ne,z,Oe),f.part2_3_length=Oe.bits}c.part2_3_length>f.part2_3_length&&c.assign(f)}}}};var Z=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],ee=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],te=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],me=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];E.slen1_tab=te,E.slen2_tab=me;function de(D,c){for(var f,v=c.tt[1][D],A=c.tt[0][D],j=0;j<d.scfsi_band.length-1;j++){for(f=d.scfsi_band[j];f<d.scfsi_band[j+1]&&!(A.scalefac[f]!=v.scalefac[f]&&v.scalefac[f]>=0);f++);if(f==d.scfsi_band[j+1]){for(f=d.scfsi_band[j];f<d.scfsi_band[j+1];f++)v.scalefac[f]=-1;c.scfsi[D][j]=1}}var X=0,Q=0;for(f=0;f<11;f++)v.scalefac[f]!=-1&&(Q++,X<v.scalefac[f]&&(X=v.scalefac[f]));for(var z=0,ne=0;f<u.SBPSY_l;f++)v.scalefac[f]!=-1&&(ne++,z<v.scalefac[f]&&(z=v.scalefac[f]));for(var j=0;j<16;j++)if(X<Z[j]&&z<ee[j]){var ae=te[j]*Q+me[j]*ne;v.part2_length>ae&&(v.part2_length=ae,v.scalefac_compress=j)}}this.best_scalefac_store=function(D,c,f,v){var A=v.tt[c][f],j,X,Q,z,ne=0;for(Q=0,j=0;j<A.sfbmax;j++){var ae=A.width[j];for(m(ae>=0),Q+=ae,z=-ae;z<0&&A.l3_enc[z+Q]==0;z++);z==0&&(A.scalefac[j]=ne=-2)}if(A.scalefac_scale==0&&A.preflag==0){var be=0;for(j=0;j<A.sfbmax;j++)A.scalefac[j]>0&&(be|=A.scalefac[j]);if(!(be&1)&&be!=0){for(j=0;j<A.sfbmax;j++)A.scalefac[j]>0&&(A.scalefac[j]>>=1);A.scalefac_scale=ne=1}}if(A.preflag==0&&A.block_type!=u.SHORT_TYPE&&D.mode_gr==2){for(j=11;j<u.SBPSY_l&&!(A.scalefac[j]<R.pretab[j]&&A.scalefac[j]!=-2);j++);if(j==u.SBPSY_l){for(j=11;j<u.SBPSY_l;j++)A.scalefac[j]>0&&(A.scalefac[j]-=R.pretab[j]);A.preflag=ne=1}}for(X=0;X<4;X++)v.scfsi[f][X]=0;for(D.mode_gr==2&&c==1&&v.tt[0][f].block_type!=u.SHORT_TYPE&&v.tt[1][f].block_type!=u.SHORT_TYPE&&(de(f,v),ne=0),j=0;j<A.sfbmax;j++)A.scalefac[j]==-2&&(A.scalefac[j]=0);ne!=0&&(D.mode_gr==2?this.scale_bitcount(A):this.scale_bitcount_lsf(D,A))};function _(D,c){for(var f=0;f<c;++f)if(D[f]<0)return!1;return!0}var G=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],y=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],F=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(D){var c,f,v=0,A=0,j,X=D.scalefac;if(m(_(X,D.sfbmax)),D.block_type==u.SHORT_TYPE)j=G,D.mixed_block_flag!=0&&(j=y);else if(j=F,D.preflag==0){for(f=11;f<u.SBPSY_l&&!(X[f]<R.pretab[f]);f++);if(f==u.SBPSY_l)for(D.preflag=1,f=11;f<u.SBPSY_l;f++)X[f]-=R.pretab[f]}for(f=0;f<D.sfbdivide;f++)v<X[f]&&(v=X[f]);for(;f<D.sfbmax;f++)A<X[f]&&(A=X[f]);for(D.part2_length=g.LARGE_BITS,c=0;c<16;c++)v<Z[c]&&A<ee[c]&&D.part2_length>j[c]&&(D.part2_length=j[c],D.scalefac_compress=c);return D.part2_length==g.LARGE_BITS};var K=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(D,c){var f,v,A,j,X,Q,z,ne,ae=o(4),be=c.scalefac;for(c.preflag!=0?f=2:f=0,z=0;z<4;z++)ae[z]=0;if(c.block_type==u.SHORT_TYPE){v=1;var Oe=R.nr_of_sfb_block[f][v];for(ne=0,A=0;A<4;A++)for(j=Oe[A]/3,z=0;z<j;z++,ne++)for(X=0;X<3;X++)be[ne*3+X]>ae[A]&&(ae[A]=be[ne*3+X])}else{v=0;var Oe=R.nr_of_sfb_block[f][v];for(ne=0,A=0;A<4;A++)for(j=Oe[A],z=0;z<j;z++,ne++)be[ne]>ae[A]&&(ae[A]=be[ne])}for(Q=!1,A=0;A<4;A++)ae[A]>K[f][A]&&(Q=!0);if(!Q){var Ce,Ge,Ye,st;for(c.sfb_partition_table=R.nr_of_sfb_block[f][v],A=0;A<4;A++)c.slen[A]=q[ae[A]];switch(Ce=c.slen[0],Ge=c.slen[1],Ye=c.slen[2],st=c.slen[3],f){case 0:c.scalefac_compress=(Ce*5+Ge<<4)+(Ye<<2)+st;break;case 1:c.scalefac_compress=400+(Ce*5+Ge<<2)+Ye;break;case 2:c.scalefac_compress=500+Ce*3+Ge;break;default:s.err.printf(`intensity stereo not implemented yet
`);break}}if(!Q)for(m(c.sfb_partition_table!=null),c.part2_length=0,A=0;A<4;A++)c.part2_length+=c.slen[A]*c.sfb_partition_table[A];return Q};var q=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(D){for(var c=2;c<=576;c+=2){for(var f=0,v;D.scalefac_band.l[++f]<c;);for(v=h[f][0];D.scalefac_band.l[v+1]>c;)v--;for(v<0&&(v=h[f][0]),D.bv_scf[c-2]=v,v=h[f][1];D.scalefac_band.l[v+D.bv_scf[c-2]+2]>c;)v--;v<0&&(v=h[f][1]),D.bv_scf[c-1]=v}}}p.exports=E},7095:p=>{function x(){this.setModules=function(e,n){}}p.exports=x},3362:p=>{function x(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}p.exports=x},3398:(p,x,e)=>{var n=e(935),s=n.System,i=n.VbrMode;n.Float;var o=n.ShortBlock;n.Util;var m=n.Arrays;n.new_array_n;var u=n.new_byte;n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n;var d=n.assert;S.NUMTOCENTRIES=100,S.MAXFRAMESIZE=2880;function S(){var g,E,R;this.setModules=function(c,f,v){g=c,E=f,R=v};var b=1,h=2,O=4,I=8,T=S.NUMTOCENTRIES,B=S.MAXFRAMESIZE,V=T+4+4+4+4+4,Y=V+9+1+1+8+1+1+3+1+1+2+4+2+2,k=128,P=64,l=32,N=null,U="Xing",W="Info",Z=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function ee(c,f){if(c.nVbrNumFrames++,c.sum+=f,c.seen++,!(c.seen<c.want)&&(c.pos<c.size&&(c.bag[c.pos]=c.sum,c.pos++,c.seen=0),c.pos==c.size)){for(var v=1;v<c.size;v+=2)c.bag[v/2]=c.bag[v];c.want*=2,c.pos/=2}}function te(c,f){if(!(c.pos<=0))for(var v=1;v<T;++v){var A=v/T,j,X,Q=0|Math.floor(A*c.pos);Q>c.pos-1&&(Q=c.pos-1),j=c.bag[Q],X=c.sum;var z=0|256*j/X;z>255&&(z=255),f[v]=255&z}}this.addVbrFrame=function(c){var f=c.internal_flags,v=Tables.bitrate_table[c.version][f.bitrate_index];d(f.VBR_seek_table.bag!=null),ee(f.VBR_seek_table,v)};function me(c,f){var v=c[f+0]&255;return v<<=8,v|=c[f+1]&255,v<<=8,v|=c[f+2]&255,v<<=8,v|=c[f+3]&255,v}function de(c,f,v){c[f+0]=255&(v>>24&255),c[f+1]=255&(v>>16&255),c[f+2]=255&(v>>8&255),c[f+3]=255&(v&255)}function _(c,f,v){c[f+0]=255&(v>>8&255),c[f+1]=255&(v&255)}function G(c,f){return new String(c,f,U.length(),N).equals(U)||new String(c,f,W.length(),N).equals(W)}function y(c,f,v){return 255&(c<<f|v&~(-1<<f))}function F(c,f){var v=c.internal_flags;f[0]=y(f[0],8,255),f[1]=y(f[1],3,7),f[1]=y(f[1],1,c.out_samplerate<16e3?0:1),f[1]=y(f[1],1,c.version),f[1]=y(f[1],2,1),f[1]=y(f[1],1,c.error_protection?0:1),f[2]=y(f[2],4,v.bitrate_index),f[2]=y(f[2],2,v.samplerate_index),f[2]=y(f[2],1,0),f[2]=y(f[2],1,c.extension),f[3]=y(f[3],2,c.mode.ordinal()),f[3]=y(f[3],2,v.mode_ext),f[3]=y(f[3],1,c.copyright),f[3]=y(f[3],1,c.original),f[3]=y(f[3],2,c.emphasis),f[0]=255;var A=255&(f[1]&241),j;c.version==1?j=k:c.out_samplerate<16e3?j=l:j=P,c.VBR==i.vbr_off&&(j=c.brate);var X;c.free_format?X=0:X=255&16*g.BitrateIndex(j,c.version,c.out_samplerate),c.version==1?(f[1]=255&(A|10),A=255&(f[2]&13),f[2]=255&(X|A)):(f[1]=255&(A|2),A=255&(f[2]&13),f[2]=255&(X|A))}this.getVbrTag=function(c){var f=new VBRTagData,v=0;f.flags=0;var A=c[v+1]>>3&1,j=c[v+2]>>2&3,X=c[v+3]>>6&3,Q=c[v+2]>>4&15;if(Q=Tables.bitrate_table[A][Q],c[v+1]>>4==14?f.samprate=Tables.samplerate_table[2][j]:f.samprate=Tables.samplerate_table[A][j],A!=0?X!=3?v+=36:v+=21:X!=3?v+=21:v+=13,!G(c,v))return null;v+=4,f.hId=A;var z=f.flags=me(c,v);if(v+=4,z&b&&(f.frames=me(c,v),v+=4),z&h&&(f.bytes=me(c,v),v+=4),z&O){if(f.toc!=null)for(var ne=0;ne<T;ne++)f.toc[ne]=c[v+ne];v+=T}f.vbrScale=-1,z&I&&(f.vbrScale=me(c,v),v+=4),f.headersize=(A+1)*72e3*Q/f.samprate,v+=21;var ae=c[v+0]<<4;ae+=c[v+1]>>4;var be=(c[v+1]&15)<<8;return be+=c[v+2]&255,(ae<0||ae>3e3)&&(ae=-1),(be<0||be>3e3)&&(be=-1),f.encDelay=ae,f.encPadding=be,f},this.InitVbrTag=function(c){var f=c.internal_flags,v;c.version==1?v=k:c.out_samplerate<16e3?v=l:v=P,c.VBR==i.vbr_off&&(v=c.brate);var A=(c.version+1)*72e3*v/c.out_samplerate,j=f.sideinfo_len+Y;if(f.VBR_seek_table.TotalFrameSize=A,A<j||A>B){c.bWriteVbrTag=!1;return}f.VBR_seek_table.nVbrNumFrames=0,f.VBR_seek_table.nBytesWritten=0,f.VBR_seek_table.sum=0,f.VBR_seek_table.seen=0,f.VBR_seek_table.want=1,f.VBR_seek_table.pos=0,f.VBR_seek_table.bag==null&&(f.VBR_seek_table.bag=new int[400],f.VBR_seek_table.size=400);var X=u(B);F(c,X);for(var Q=f.VBR_seek_table.TotalFrameSize,z=0;z<Q;++z)E.add_dummy_byte(c,X[z]&255,1)};function K(c,f){var v=f^c;return f=f>>8^Z[v&255],f}this.updateMusicCRC=function(c,f,v,A){for(var j=0;j<A;++j)c[0]=K(f[v+j],c[0])};function q(c,f,v,A,j){var X=c.internal_flags,Q=0,z=c.encoder_delay,ne=c.encoder_padding,ae=100-10*c.VBR_q-c.quality,be=R.getLameVeryShortVersion(),Oe,Ce=0,Ge,Ye=[1,5,3,2,4,0,3],st=0|(c.lowpassfreq/100+.5>255?255:c.lowpassfreq/100+.5),xt=0,C=0,H=0,Le=c.internal_flags.noise_shaping,Te=0,Ve=0,Ee=0,Fe=0,ze=0,Xe=(c.exp_nspsytune&1)!=0,We=(c.exp_nspsytune&2)!=0,ke=!1,tt=!1,ct=c.internal_flags.nogap_total,nt=c.internal_flags.nogap_current,He=c.ATHtype,qe=0,Je;switch(c.VBR){case vbr_abr:Je=c.VBR_mean_bitrate_kbps;break;case vbr_off:Je=c.brate;break;default:Je=c.VBR_min_bitrate_kbps}switch(c.VBR.ordinal()<Ye.length?Oe=Ye[c.VBR.ordinal()]:Oe=0,Ge=16*Ce+Oe,X.findReplayGain&&(X.RadioGain>510&&(X.RadioGain=510),X.RadioGain<-510&&(X.RadioGain=-510),C=8192,C|=3072,X.RadioGain>=0?C|=X.RadioGain:(C|=512,C|=-X.RadioGain)),X.findPeakSample&&(xt=Math.abs(0|X.PeakSample/32767*Math.pow(2,23)+.5)),ct!=-1&&(nt>0&&(tt=!0),nt<ct-1&&(ke=!0)),qe=He+((Xe?1:0)<<4)+((We?1:0)<<5)+((ke?1:0)<<6)+((tt?1:0)<<7),ae<0&&(ae=0),c.mode){case MONO:Te=0;break;case STEREO:Te=1;break;case DUAL_CHANNEL:Te=2;break;case JOINT_STEREO:c.force_ms?Te=4:Te=3;break;case NOT_SET:default:Te=7;break}c.in_samplerate<=32e3?Ee=0:c.in_samplerate==48e3?Ee=2:c.in_samplerate>48e3?Ee=3:Ee=1,(c.short_blocks==o.short_block_forced||c.short_blocks==o.short_block_dispensed||c.lowpassfreq==-1&&c.highpassfreq==-1||c.scale_left<c.scale_right||c.scale_left>c.scale_right||c.disable_reservoir&&c.brate<320||c.noATH||c.ATHonly||He==0||c.in_samplerate<=32e3)&&(Ve=1),Fe=Le+(Te<<2)+(Ve<<5)+(Ee<<6),ze=X.nMusicCRC,de(v,A+Q,ae),Q+=4;for(var lt=0;lt<9;lt++)v[A+Q+lt]=255&be.charAt(lt);Q+=9,v[A+Q]=255&Ge,Q++,v[A+Q]=255&st,Q++,de(v,A+Q,xt),Q+=4,_(v,A+Q,C),Q+=2,_(v,A+Q,H),Q+=2,v[A+Q]=255&qe,Q++,Je>=255?v[A+Q]=255:v[A+Q]=255&Je,Q++,v[A+Q]=255&z>>4,v[A+Q+1]=255&(z<<4)+(ne>>8),v[A+Q+2]=255&ne,Q+=3,v[A+Q]=255&Fe,Q++,v[A+Q++]=0,_(v,A+Q,c.preset),Q+=2,de(v,A+Q,f),Q+=4,_(v,A+Q,ze),Q+=2;for(var gt=0;gt<Q;gt++)j=K(v[A+gt],j);return _(v,A+Q,j),Q+=2,Q}function D(c){c.seek(0);var f=u(10);c.readFully(f);var v;return new String(f,"ISO-8859-1").startsWith("ID3")?v=0:v=((f[6]&127)<<21|(f[7]&127)<<14|(f[8]&127)<<7|f[9]&127)+f.length,v}this.getLameTagFrame=function(c,f){var v=c.internal_flags;if(!c.bWriteVbrTag||v.Class_ID!=Lame.LAME_ID||v.VBR_seek_table.pos<=0)return 0;if(f.length<v.VBR_seek_table.TotalFrameSize)return v.VBR_seek_table.TotalFrameSize;m.fill(f,0,v.VBR_seek_table.TotalFrameSize,0),F(c,f);var A=u(T);if(c.free_format)for(var j=1;j<T;++j)A[j]=255&255*j/100;else te(v.VBR_seek_table,A);var X=v.sideinfo_len;c.error_protection&&(X-=2),c.VBR==i.vbr_off?(f[X++]=255&W.charAt(0),f[X++]=255&W.charAt(1),f[X++]=255&W.charAt(2),f[X++]=255&W.charAt(3)):(f[X++]=255&U.charAt(0),f[X++]=255&U.charAt(1),f[X++]=255&U.charAt(2),f[X++]=255&U.charAt(3)),de(f,X,b+h+O+I),X+=4,de(f,X,v.VBR_seek_table.nVbrNumFrames),X+=4;var Q=v.VBR_seek_table.nBytesWritten+v.VBR_seek_table.TotalFrameSize;de(f,X,0|Q),X+=4,s.arraycopy(A,0,f,X,A.length),X+=A.length,c.error_protection&&E.CRC_writeheader(v,f);for(var z=0,j=0;j<X;j++)z=K(f[j],z);return X+=q(c,Q,f,X,z),v.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(c,f){var v=c.internal_flags;if(v.VBR_seek_table.pos<=0||(f.seek(f.length()),f.length()==0))return-1;var A=D(f);f.seek(A);var j=u(B),X=getLameTagFrame(c,j);return X>j.length?-1:(X<1||f.write(j,0,X),0)}}p.exports=S},2367:p=>{function x(){var e="http://www.mp3dev.org/",n=3,s=98,i=4,o=0,m=93;this.getLameVersion=function(){return n+"."+s+"."+i},this.getLameShortVersion=function(){return n+"."+s+"."+i},this.getLameVeryShortVersion=function(){return"LAME"+n+"."+s+"r"},this.getPsyVersion=function(){return o+"."+m},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}p.exports=x},935:p=>{function x(I){return new Int8Array(I)}function e(I){return new Int16Array(I)}function n(I){return new Int32Array(I)}function s(I){return new Float32Array(I)}function i(I){return new Float64Array(I)}function o(I){if(I.length==1)return s(I[0]);var T=I[0];I=I.slice(1);for(var B=[],V=0;V<T;V++)B.push(o(I));return B}function m(I){if(I.length==1)return n(I[0]);var T=I[0];I=I.slice(1);for(var B=[],V=0;V<T;V++)B.push(m(I));return B}function u(I){if(I.length==1)return e(I[0]);var T=I[0];I=I.slice(1);for(var B=[],V=0;V<T;V++)B.push(u(I));return B}function d(I){if(I.length==1)return new Array(I[0]);var T=I[0];I=I.slice(1);for(var B=[],V=0;V<T;V++)B.push(d(I));return B}var S={};S.fill=function(I,T,B,V){if(arguments.length==2)for(var Y=0;Y<I.length;Y++)I[Y]=arguments[1];else for(var Y=T;Y<B;Y++)I[Y]=V};var g={};g.arraycopy=function(I,T,B,V,Y){for(var k=T+Y;T<k;)B[V++]=I[T++]};var E={};E.SQRT2=1.4142135623730951,E.FAST_LOG10=function(I){return Math.log10(I)},E.FAST_LOG10_X=function(I,T){return Math.log10(I)*T};function R(I){this.ordinal=I}R.short_block_allowed=new R(0),R.short_block_coupled=new R(1),R.short_block_dispensed=new R(2),R.short_block_forced=new R(3);var b={};b.MAX_VALUE=34028235e31;function h(I){this.ordinal=I}h.vbr_off=new h(0),h.vbr_mt=new h(1),h.vbr_rh=new h(2),h.vbr_abr=new h(3),h.vbr_mtrh=new h(4),h.vbr_default=h.vbr_mtrh;var O=function(I){};p.exports={System:g,VbrMode:h,Float:b,ShortBlock:R,Util:E,Arrays:S,new_array_n:d,new_byte:x,new_double:i,new_float:s,new_float_n:o,new_int:n,new_int_n:m,new_short:e,new_short_n:u,assert:O}},5644:(p,x,e)=>{var n=e(935);n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n;var s=n.new_byte;n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n;var i=n.assert;Lame=e(4566),Presets=e(9457),GainAnalysis=e(1287),QuantizePVT=e(429),Quantize=e(9833),Takehiro=e(5638),Reservoir=e(3060),MPEGMode=e(8231),BitStream=e(3724),e(687);var o=e(2367),m=e(3398);function u(){this.setModules=function(h,O){}}function d(){this.setModules=function(h,O,I){}}function S(){}function g(){this.setModules=function(h,O){}}function E(h,O,I){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),h=1,O=44100,I=128);var T=new Lame,B=new u,V=new GainAnalysis,Y=new BitStream,k=new Presets,P=new QuantizePVT,l=new Quantize,N=new m,U=new o,W=new g,Z=new Reservoir,ee=new Takehiro,te=new d,me=new S;T.setModules(V,Y,k,P,l,N,U,W,me),Y.setModules(V,me,U,N),W.setModules(Y,U),k.setModules(T),l.setModules(Y,Z,P,ee),P.setModules(ee,Z,T.enc.psy),Z.setModules(Y),ee.setModules(P),N.setModules(T,Y,U),B.setModules(te,me),te.setModules(U,W,k);var de=T.lame_init();de.num_channels=h,de.in_samplerate=O,de.brate=I,de.mode=MPEGMode.STEREO,de.quality=3,de.bWriteVbrTag=!1,de.disable_reservoir=!0,de.write_id3tag_automatic=!1;var _=T.lame_init_params(de);i(_==0);var G=1152,y=0|1.25*G+7200,F=s(y);this.encodeBuffer=function(K,q){h==1&&(q=K),i(K.length==q.length),K.length>G&&(G=K.length,y=0|1.25*G+7200,F=s(y));var D=T.lame_encode_buffer(de,K,q,K.length,F,0,y);return new Int8Array(F.subarray(0,D))},this.flush=function(){var K=T.lame_encode_flush(de,F,0,y);return new Int8Array(F.subarray(0,K))}}function R(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function b(h){return h.charCodeAt(0)<<24|h.charCodeAt(1)<<16|h.charCodeAt(2)<<8|h.charCodeAt(3)}R.RIFF=b("RIFF"),R.WAVE=b("WAVE"),R.fmt_=b("fmt "),R.data=b("data"),R.readHeader=function(h){var O=new R,I=h.getUint32(0,!1);if(R.RIFF==I&&(h.getUint32(4,!0),R.WAVE==h.getUint32(8,!1)&&R.fmt_==h.getUint32(12,!1))){var T=h.getUint32(16,!0),B=16+4;switch(T){case 16:case 18:O.channels=h.getUint16(B+2,!0),O.sampleRate=h.getUint32(B+4,!0);break;default:throw"extended fmt chunk not implemented"}B+=T;for(var V=R.data,Y=0;V!=I&&(I=h.getUint32(B,!1),Y=h.getUint32(B+4,!0),V!=I);)B+=Y+8;return O.dataLen=Y,O.dataOffset=B+8,O}},p.exports.Mp3Encoder=E,p.exports.WavHeader=R},5235:(p,x,e)=>{p.exports=e(8425)},8425:(p,x,e)=>{x.__esModule=!0,x.tokenize=x.test=x.scanner=x.parser=x.options=x.inherits=x.find=void 0;var n=e(2227),s=e(7951),i=S(s),o=e(6417),m=S(o),u=e(5788),d=S(u);function S(b){if(b&&b.__esModule)return b;var h={};if(b!=null)for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(h[O]=b[O]);return h.default=b,h}Array.isArray||(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"});var g=function(h){return d.run(m.run(h))},E=function(h){for(var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=g(h),T=[],B=0;B<I.length;B++){var V=I[B];V.isLink&&(!O||V.type===O)&&T.push(V.toObject())}return T},R=function(h){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=g(h);return I.length===1&&I[0].isLink&&(!O||I[0].type===O)};x.find=E,x.inherits=n.inherits,x.options=i,x.parser=d,x.scanner=m,x.test=R,x.tokenize=g},5788:(p,x,e)=>{x.__esModule=!0,x.start=x.run=x.TOKENS=x.State=void 0;var n=e(5439),s=e(3370),i=m(s),o=e(3333);function m(ne){if(ne&&ne.__esModule)return ne;var ae={};if(ne!=null)for(var be in ne)Object.prototype.hasOwnProperty.call(ne,be)&&(ae[be]=ne[be]);return ae.default=ne,ae}var u=function(ae){return new n.TokenState(ae)},d=u(),S=u(),g=u(),E=u(),R=u(),b=u(),h=u(),O=u(s.URL),I=u(),T=u(s.URL),B=u(s.URL),V=u(),Y=u(),k=u(),P=u(),l=u(),N=u(s.URL),U=u(s.URL),W=u(s.URL),Z=u(s.URL),ee=u(),te=u(),me=u(),de=u(),_=u(),G=u(),y=u(s.EMAIL),F=u(),K=u(s.EMAIL),q=u(s.MAILTOEMAIL),D=u(),c=u(),f=u(),v=u(),A=u(s.NL);d.on(o.NL,A).on(o.PROTOCOL,S).on(o.MAILTO,g).on(o.SLASH,E),S.on(o.SLASH,E),E.on(o.SLASH,R),d.on(o.TLD,b).on(o.DOMAIN,b).on(o.LOCALHOST,O).on(o.NUM,b),R.on(o.TLD,B).on(o.DOMAIN,B).on(o.NUM,B).on(o.LOCALHOST,B),b.on(o.DOT,h),_.on(o.DOT,G),h.on(o.TLD,O).on(o.DOMAIN,b).on(o.NUM,b).on(o.LOCALHOST,b),G.on(o.TLD,y).on(o.DOMAIN,_).on(o.NUM,_).on(o.LOCALHOST,_),O.on(o.DOT,h),y.on(o.DOT,G),O.on(o.COLON,I).on(o.SLASH,B),I.on(o.NUM,T),T.on(o.SLASH,B),y.on(o.COLON,F),F.on(o.NUM,K);var j=[o.DOMAIN,o.AT,o.LOCALHOST,o.NUM,o.PLUS,o.POUND,o.PROTOCOL,o.SLASH,o.TLD,o.UNDERSCORE,o.SYM,o.AMPERSAND],X=[o.COLON,o.DOT,o.QUERY,o.PUNCTUATION,o.CLOSEBRACE,o.CLOSEBRACKET,o.CLOSEANGLEBRACKET,o.CLOSEPAREN,o.OPENBRACE,o.OPENBRACKET,o.OPENANGLEBRACKET,o.OPENPAREN];B.on(o.OPENBRACE,Y).on(o.OPENBRACKET,k).on(o.OPENANGLEBRACKET,P).on(o.OPENPAREN,l),V.on(o.OPENBRACE,Y).on(o.OPENBRACKET,k).on(o.OPENANGLEBRACKET,P).on(o.OPENPAREN,l),Y.on(o.CLOSEBRACE,B),k.on(o.CLOSEBRACKET,B),P.on(o.CLOSEANGLEBRACKET,B),l.on(o.CLOSEPAREN,B),N.on(o.CLOSEBRACE,B),U.on(o.CLOSEBRACKET,B),W.on(o.CLOSEANGLEBRACKET,B),Z.on(o.CLOSEPAREN,B),ee.on(o.CLOSEBRACE,B),te.on(o.CLOSEBRACKET,B),me.on(o.CLOSEANGLEBRACKET,B),de.on(o.CLOSEPAREN,B),Y.on(j,N),k.on(j,U),P.on(j,W),l.on(j,Z),Y.on(X,ee),k.on(X,te),P.on(X,me),l.on(X,de),N.on(j,N),U.on(j,U),W.on(j,W),Z.on(j,Z),N.on(X,N),U.on(X,U),W.on(X,W),Z.on(X,Z),ee.on(j,N),te.on(j,U),me.on(j,W),de.on(j,Z),ee.on(X,ee),te.on(X,te),me.on(X,me),de.on(X,de),B.on(j,B),V.on(j,B),B.on(X,V),V.on(X,V),g.on(o.TLD,q).on(o.DOMAIN,q).on(o.NUM,q).on(o.LOCALHOST,q),q.on(j,q).on(X,D),D.on(j,q).on(X,D);var Q=[o.DOMAIN,o.NUM,o.PLUS,o.POUND,o.QUERY,o.UNDERSCORE,o.SYM,o.AMPERSAND,o.TLD];b.on(Q,c).on(o.AT,f),O.on(Q,c).on(o.AT,f),h.on(Q,c),c.on(Q,c).on(o.AT,f).on(o.DOT,v),v.on(Q,c),f.on(o.TLD,_).on(o.DOMAIN,_).on(o.LOCALHOST,y);var z=function(ae){for(var be=ae.length,Oe=0,Ce=[],Ge=[];Oe<be;){for(var Ye=d,st=null,xt=null,C=0,H=null,Le=-1;Oe<be&&!(st=Ye.next(ae[Oe]));)Ge.push(ae[Oe++]);for(;Oe<be&&(xt=st||Ye.next(ae[Oe]));)st=null,Ye=xt,Ye.accepts()?(Le=0,H=Ye):Le>=0&&Le++,Oe++,C++;if(Le<0)for(var Te=Oe-C;Te<Oe;Te++)Ge.push(ae[Te]);else{Ge.length>0&&(Ce.push(new s.TEXT(Ge)),Ge=[]),Oe-=Le,C-=Le;var Ve=H.emit();Ce.push(new Ve(ae.slice(Oe-C,Oe)))}}return Ge.length>0&&Ce.push(new s.TEXT(Ge)),Ce};x.State=n.TokenState,x.TOKENS=i,x.run=z,x.start=d},6417:(p,x,e)=>{x.__esModule=!0,x.start=x.run=x.TOKENS=x.State=void 0;var n=e(5439),s=e(3333),i=o(s);function o(y){if(y&&y.__esModule)return y;var F={};if(y!=null)for(var K in y)Object.prototype.hasOwnProperty.call(y,K)&&(F[K]=y[K]);return F.default=y,F}var m="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),u="0123456789".split(""),d="0123456789abcdefghijklmnopqrstuvwxyz".split(""),S=[" ","\f","\r","	","\v"," "," ","᠎"],g=[],E=function(F){return new n.CharacterState(F)},R=E(),b=E(s.NUM),h=E(s.DOMAIN),O=E(),I=E(s.WS);R.on("@",E(s.AT)).on(".",E(s.DOT)).on("+",E(s.PLUS)).on("#",E(s.POUND)).on("?",E(s.QUERY)).on("/",E(s.SLASH)).on("_",E(s.UNDERSCORE)).on(":",E(s.COLON)).on("{",E(s.OPENBRACE)).on("[",E(s.OPENBRACKET)).on("<",E(s.OPENANGLEBRACKET)).on("(",E(s.OPENPAREN)).on("}",E(s.CLOSEBRACE)).on("]",E(s.CLOSEBRACKET)).on(">",E(s.CLOSEANGLEBRACKET)).on(")",E(s.CLOSEPAREN)).on("&",E(s.AMPERSAND)).on([",",";","!",'"',"'"],E(s.PUNCTUATION)),R.on(`
`,E(s.NL)).on(S,I),I.on(S,I);for(var T=0;T<m.length;T++){var B=(0,n.stateify)(m[T],R,s.TLD,s.DOMAIN);g.push.apply(g,B)}var V=(0,n.stateify)("file",R,s.DOMAIN,s.DOMAIN),Y=(0,n.stateify)("ftp",R,s.DOMAIN,s.DOMAIN),k=(0,n.stateify)("http",R,s.DOMAIN,s.DOMAIN),P=(0,n.stateify)("mailto",R,s.DOMAIN,s.DOMAIN);g.push.apply(g,V),g.push.apply(g,Y),g.push.apply(g,k),g.push.apply(g,P);var l=V.pop(),N=Y.pop(),U=k.pop(),W=P.pop(),Z=E(s.DOMAIN),ee=E(s.PROTOCOL),te=E(s.MAILTO);N.on("s",Z).on(":",ee),U.on("s",Z).on(":",ee),g.push(Z),l.on(":",ee),Z.on(":",ee),W.on(":",te);var me=(0,n.stateify)("localhost",R,s.LOCALHOST,s.DOMAIN);g.push.apply(g,me),R.on(u,b),b.on("-",O).on(u,b).on(d,h),h.on("-",O).on(d,h);for(var de=0;de<g.length;de++)g[de].on("-",O).on(d,h);O.on("-",O).on(u,h).on(d,h),R.defaultTransition=E(s.SYM);var _=function(F){for(var K=F.replace(/[A-Z]/g,function(z){return z.toLowerCase()}),q=F.length,D=[],c=0;c<q;){for(var f=R,v=null,A=0,j=null,X=-1;c<q&&(v=f.next(K[c]));)f=v,f.accepts()?(X=0,j=f):X>=0&&X++,A++,c++;if(!(X<0)){c-=X,A-=X;var Q=j.emit();D.push(new Q(F.substr(c-A,A)))}}return D},G=R;x.State=n.CharacterState,x.TOKENS=i,x.run=_,x.start=G},5439:(p,x,e)=>{x.__esModule=!0,x.stateify=x.TokenState=x.CharacterState=void 0;var n=e(2227);function s(){return function(d){this.j=[],this.T=d||null}}var i=s();i.prototype={defaultTransition:!1,on:function(S,g){if(S instanceof Array){for(var E=0;E<S.length;E++)this.j.push([S[E],g]);return this}return this.j.push([S,g]),this},next:function(S){for(var g=0;g<this.j.length;g++){var E=this.j[g],R=E[0],b=E[1];if(this.test(S,R))return b}return this.defaultTransition},accepts:function(){return!!this.T},test:function(S,g){return S===g},emit:function(){return this.T}};var o=(0,n.inherits)(i,s(),{test:function(S,g){return S===g||g instanceof RegExp&&g.test(S)}}),m=(0,n.inherits)(i,s(),{jump:function(S){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=this.next(new S(""));return E===this.defaultTransition?(E=new this.constructor(g),this.on(S,E)):g&&(E.T=g),E},test:function(S,g){return S instanceof g}});function u(d,S,g,E){for(var R=0,b=d.length,h=S,O=[],I=void 0;R<b&&(I=h.next(d[R]));)h=I,R++;if(R>=b)return[];for(;R<b-1;)I=new o(E),O.push(I),h.on(d[R],I),h=I,R++;return I=new o(g),O.push(I),h.on(d[b-1],I),O}x.CharacterState=o,x.TokenState=m,x.stateify=u},9770:(p,x)=>{x.__esModule=!0;function e(){return function(n){n&&(this.v=n)}}x.createTokenClass=e},3370:(p,x,e)=>{x.__esModule=!0,x.URL=x.TEXT=x.NL=x.EMAIL=x.MAILTOEMAIL=x.Base=void 0;var n=e(9770),s=e(2227),i=e(3333);function o(R){return R instanceof i.DOMAIN||R instanceof i.TLD}var m=(0,n.createTokenClass)();m.prototype={type:"token",isLink:!1,toString:function(){for(var b=[],h=0;h<this.v.length;h++)b.push(this.v[h].toString());return b.join("")},toHref:function(){return this.toString()},toObject:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(b)}}};var u=(0,s.inherits)(m,(0,n.createTokenClass)(),{type:"email",isLink:!0}),d=(0,s.inherits)(m,(0,n.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),S=(0,s.inherits)(m,(0,n.createTokenClass)(),{type:"text"}),g=(0,s.inherits)(m,(0,n.createTokenClass)(),{type:"nl"}),E=(0,s.inherits)(m,(0,n.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",h=!1,O=!1,I=this.v,T=[],B=0;I[B]instanceof i.PROTOCOL;)h=!0,T.push(I[B].toString().toLowerCase()),B++;for(;I[B]instanceof i.SLASH;)O=!0,T.push(I[B].toString()),B++;for(;o(I[B]);)T.push(I[B].toString().toLowerCase()),B++;for(;B<I.length;B++)T.push(I[B].toString());return T=T.join(""),h||O||(T=b+"://"+T),T},hasProtocol:function(){return this.v[0]instanceof i.PROTOCOL}});x.Base=m,x.MAILTOEMAIL=u,x.EMAIL=d,x.NL=g,x.TEXT=S,x.URL=E},3333:(p,x,e)=>{x.__esModule=!0,x.AMPERSAND=x.CLOSEPAREN=x.CLOSEANGLEBRACKET=x.CLOSEBRACKET=x.CLOSEBRACE=x.OPENPAREN=x.OPENANGLEBRACKET=x.OPENBRACKET=x.OPENBRACE=x.WS=x.TLD=x.SYM=x.UNDERSCORE=x.SLASH=x.MAILTO=x.PROTOCOL=x.QUERY=x.POUND=x.PLUS=x.NUM=x.NL=x.LOCALHOST=x.PUNCTUATION=x.DOT=x.COLON=x.AT=x.DOMAIN=x.Base=void 0;var n=e(9770),s=e(2227),i=(0,n.createTokenClass)();i.prototype={toString:function(){return this.v+""}};function o(G){var y=G?{v:G}:{};return(0,s.inherits)(i,(0,n.createTokenClass)(),y)}var m=o(),u=o("@"),d=o(":"),S=o("."),g=o(),E=o(),R=o(`
`),b=o(),h=o("+"),O=o("#"),I=o(),T=o("mailto:"),B=o("?"),V=o("/"),Y=o("_"),k=o(),P=o(),l=o(),N=o("{"),U=o("["),W=o("<"),Z=o("("),ee=o("}"),te=o("]"),me=o(">"),de=o(")"),_=o("&");x.Base=i,x.DOMAIN=m,x.AT=u,x.COLON=d,x.DOT=S,x.PUNCTUATION=g,x.LOCALHOST=E,x.NL=R,x.NUM=b,x.PLUS=h,x.POUND=O,x.QUERY=B,x.PROTOCOL=I,x.MAILTO=T,x.SLASH=V,x.UNDERSCORE=Y,x.SYM=k,x.TLD=P,x.WS=l,x.OPENBRACE=N,x.OPENBRACKET=U,x.OPENANGLEBRACKET=W,x.OPENPAREN=Z,x.CLOSEBRACE=ee,x.CLOSEBRACKET=te,x.CLOSEANGLEBRACKET=me,x.CLOSEPAREN=de,x.AMPERSAND=_},2227:(p,x)=>{x.__esModule=!0,x.inherits=e;function e(n,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Object.create(n.prototype);for(var m in i)o[m]=i[m];return o.constructor=s,s.prototype=o,s}},7951:(p,x)=>{x.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},n={defaultProtocol:"http",events:null,format:o,formatHref:o,nl2br:!1,tagName:"a",target:m,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};x.defaults=n,x.Options=s,x.contains=i;function s(u){u=u||{},this.defaultProtocol=u.hasOwnProperty("defaultProtocol")?u.defaultProtocol:n.defaultProtocol,this.events=u.hasOwnProperty("events")?u.events:n.events,this.format=u.hasOwnProperty("format")?u.format:n.format,this.formatHref=u.hasOwnProperty("formatHref")?u.formatHref:n.formatHref,this.nl2br=u.hasOwnProperty("nl2br")?u.nl2br:n.nl2br,this.tagName=u.hasOwnProperty("tagName")?u.tagName:n.tagName,this.target=u.hasOwnProperty("target")?u.target:n.target,this.validate=u.hasOwnProperty("validate")?u.validate:n.validate,this.ignoreTags=[],this.attributes=u.attributes||u.linkAttributes||n.attributes,this.className=u.hasOwnProperty("className")?u.className:u.linkClass||n.className;for(var d=u.hasOwnProperty("ignoreTags")?u.ignoreTags:n.ignoreTags,S=0;S<d.length;S++)this.ignoreTags.push(d[S].toUpperCase())}s.prototype={resolve:function(d){var S=d.toHref(this.defaultProtocol);return{formatted:this.get("format",d.toString(),d),formattedHref:this.get("formatHref",S,d),tagName:this.get("tagName",S,d),className:this.get("className",S,d),target:this.get("target",S,d),events:this.getObject("events",S,d),attributes:this.getObject("attributes",S,d)}},check:function(d){return this.get("validate",d.toString(),d)},get:function(d,S,g){var E=void 0,R=this[d];if(!R)return R;switch(typeof R>"u"?"undefined":e(R)){case"function":return R(S,g.type);case"object":return E=R.hasOwnProperty(g.type)?R[g.type]:n[d],typeof E=="function"?E(S,g.type):E}return R},getObject:function(d,S,g){var E=this[d];return typeof E=="function"?E(S,g.type):E}};function i(u,d){for(var S=0;S<u.length;S++)if(u[S]===d)return!0;return!1}function o(u){return u}function m(u,d){return d==="url"?"_blank":null}},9085:(p,x,e)=>{e.d(x,{Go:()=>i,jn:()=>s,v5:()=>n});var n=["png","jpg","jpeg","webp","svg","gif"],s=["mp4","video/ogg","webm","quicktime"],i=["mp3","audio/ogg","wav","mpeg"]},9706:(p,x,e)=>{e.r(x),e.d(x,{messagesValidation:()=>o,partcipantsValidation:()=>i,roomsValidation:()=>s});var n=e(3336);e(6541),e(1539),e(9753),e(9826),e(1703),e(6647);function s(u){var d=[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}],S=function(E,R){return R.every(function(b){var h=!1;return(b.type[0]==="array"&&Array.isArray(E[b.key])||b.type.find(function(O){return O===(0,n.Z)(E[b.key])}))&&(h=!0),h&&m(E,b.key)})};if(!S(u,d))throw new Error("Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]")}function i(u){var d=[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}],S=function(E,R){return R.every(function(b){var h=b.type.find(function(O){return O===(0,n.Z)(E[b.key])});return h&&m(E,b.key)})};if(!S(u,d))throw new Error("Participants object is not valid! Must contain _id[String, Number] and username[String]")}function o(u){var d=[{key:"_id",type:["string","number"]},{key:"content",type:["string","number"]},{key:"senderId",type:["string","number"]}],S=function(E,R){return R.every(function(b){var h=b.type.find(function(O){return O===(0,n.Z)(E[b.key])});return h&&m(E,b.key)})};if(!S(u,d))throw new Error("Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]")}function m(u,d){return Object.prototype.hasOwnProperty.call(u,d)&&u[d]!==null&&u[d]!==void 0}},8438:(p,x,e)=>{e.r(x),e.d(x,{isAudioFile:()=>u,isImageFile:()=>i,isImageVideoFile:()=>m,isVideoFile:()=>o}),e(5212),e(1539),e(6699),e(2023);var n=e(9085);function s(d,S){if(!(!S||!S.type))return d.some(function(g){return S.type.toLowerCase().includes(g)})}function i(d){return s(n.v5,d)}function o(d){return s(n.jn,d)}function m(d){return s(n.v5,d)||s(n.jn,d)}function u(d){return s(n.Go,d)}},8772:(p,x,e)=>{e.r(x),e.d(x,{detectMobile:()=>n}),e(3650),e(4916),e(7601),e(1703),e(6647);function n(){var i=s(),o=i.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(o)}function s(){var i=navigator.userAgent||navigator.vendor||window.opera||null;if(!i)throw new Error("Failed to look for user agent information.");return i}},3336:(p,x,e)=>{e.d(x,{Z:()=>n}),e(2526),e(1817),e(1539),e(2165),e(6992),e(8783),e(3948);function n(s){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},n(s)}}},Xr={};function je(p){var x=Xr[p];if(x!==void 0)return x.exports;var e=Xr[p]={exports:{}};return Hn[p](e,e.exports,je),e.exports}je.n=p=>{var x=p&&p.__esModule?()=>p.default:()=>p;return je.d(x,{a:x}),x},je.d=(p,x)=>{for(var e in x)je.o(x,e)&&!je.o(p,e)&&Object.defineProperty(p,e,{enumerable:!0,get:x[e]})},je.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),je.o=(p,x)=>Object.prototype.hasOwnProperty.call(p,x),je.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},je.p="";var ln={};(()=>{if(je.r(ln),je.d(ln,{default:()=>wl}),typeof window<"u"){var p=window.document.currentScript,x=p&&p.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);x&&(je.p=x[1])}je(9070);const e=h1;var n={class:"vac-chat-container"};function s(a,t,r,M,L,w){var le=(0,e.resolveComponent)("rooms-list"),he=(0,e.resolveComponent)("room"),Re=(0,e.resolveComponent)("media-preview");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:"vac-card-window",style:(0,e.normalizeStyle)([{height:r.height},w.cssVars])},[(0,e.createElementVNode)("div",n,[r.singleRoom?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createBlock)(le,{key:0,"current-user-id":r.currentUserId,rooms:w.orderedRooms,"loading-rooms":r.loadingRooms,"rooms-loaded":r.roomsLoaded,room:L.room,"room-actions":r.roomActions,"text-messages":w.t,"show-search":r.showSearch,"show-add-room":r.showAddRoom,"show-rooms-list":L.showRoomsList,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"is-mobile":L.isMobile,"scroll-distance":r.scrollDistance,onFetchRoom:w.fetchRoom,onFetchMoreRooms:w.fetchMoreRooms,onLoadingMoreRooms:t[0]||(t[0]=function(ce){return L.loadingMoreRooms=ce}),onAddRoom:w.addRoom,onRoomActionHandler:w.roomActionHandler},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onRoomActionHandler"])),(0,e.createVNode)(he,{"current-user-id":r.currentUserId,rooms:r.rooms,"room-id":L.room.roomId||"","load-first-room":r.loadFirstRoom,messages:r.messages,"room-message":r.roomMessage,"messages-loaded":r.messagesLoaded,"menu-actions":r.menuActions,"message-actions":r.messageActions,"message-selection-actions":r.messageSelectionActions,"auto-scroll":r.autoScroll,"show-send-icon":r.showSendIcon,"show-files":r.showFiles,"show-audio":r.showAudio,"audio-bit-rate":r.audioBitRate,"audio-sample-rate":r.audioSampleRate,"show-emojis":r.showEmojis,"show-reaction-emojis":r.showReactionEmojis,"show-new-messages-divider":r.showNewMessagesDivider,"show-footer":r.showFooter,"text-messages":w.t,"single-room":r.singleRoom,"show-rooms-list":L.showRoomsList,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"is-mobile":L.isMobile,"loading-rooms":r.loadingRooms,"room-info-enabled":r.roomInfoEnabled,"textarea-action-enabled":r.textareaActionEnabled,"textarea-auto-focus":r.textareaAutoFocus,"user-tags-enabled":r.userTagsEnabled,"emojis-suggestion-enabled":r.emojisSuggestionEnabled,"scroll-distance":r.scrollDistance,"accepted-files":r.acceptedFiles,"templates-text":r.templatesText,"username-options":r.usernameOptions,onToggleRoomsList:w.toggleRoomsList,onRoomInfo:w.roomInfo,onFetchMessages:w.fetchMessages,onSendMessage:w.sendMessage,onEditMessage:w.editMessage,onDeleteMessage:w.deleteMessage,onOpenFile:w.openFile,onOpenUserTag:w.openUserTag,onOpenFailedMessage:w.openFailedMessage,onMenuActionHandler:w.menuActionHandler,onMessageActionHandler:w.messageActionHandler,onMessageSelectionActionHandler:w.messageSelectionActionHandler,onSendMessageReaction:w.sendMessageReaction,onTypingMessage:w.typingMessage,onTextareaActionHandler:w.textareaActionHandler},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","templates-text","username-options","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),(0,e.createVNode)(e.Transition,{name:"vac-fade-preview",appear:""},{default:(0,e.withCtx)(function(){return[L.showMediaPreview?((0,e.openBlock)(),(0,e.createBlock)(Re,{key:0,file:L.previewFile,onCloseMediaPreview:t[1]||(t[1]=function(ce){return L.showMediaPreview=!1})},null,8,["file"])):(0,e.createCommentVNode)("",!0)]}),_:1})],4)}je(7941),je(2526),je(7327),je(1539),je(5003),je(9554),je(4747),je(9337),je(3321);function i(a,t,r){return t in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}function o(a,t){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(a);t&&(M=M.filter(function(L){return Object.getOwnPropertyDescriptor(a,L).enumerable})),r.push.apply(r,M)}return r}function m(a){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(M){i(a,M,r[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(M){Object.defineProperty(a,M,Object.getOwnPropertyDescriptor(r,M))})}return a}je(9653),je(1249),je(2707),je(7042),je(9826),je(9720);var u={key:0,class:"vac-rooms-empty"},d={key:1,id:"rooms-list",class:"vac-room-list"},S=["id","onClick"],g={key:0,id:"infinite-loader-rooms"};function E(a,t,r,M,L,w){var le=(0,e.resolveComponent)("rooms-search"),he=(0,e.resolveComponent)("loader"),Re=(0,e.resolveComponent)("room-content");return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["vac-rooms-container",{"vac-rooms-container-full":r.isMobile,"vac-app-border-r":!r.isMobile}])},[(0,e.renderSlot)(a.$slots,"rooms-header"),(0,e.renderSlot)(a.$slots,"rooms-list-search",{},function(){return[(0,e.createVNode)(le,{rooms:r.rooms,"loading-rooms":r.loadingRooms,"text-messages":r.textMessages,"show-search":r.showSearch,"show-add-room":r.showAddRoom,onSearchRoom:w.searchRoom,onAddRoom:t[0]||(t[0]=function(ce){return a.$emit("add-room")})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]}),(0,e.createVNode)(he,{show:r.loadingRooms},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["show"]),!r.loadingRooms&&!r.rooms.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",u,[(0,e.renderSlot)(a.$slots,"rooms-empty",{},function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(r.textMessages.ROOMS_EMPTY),1)]})])):(0,e.createCommentVNode)("",!0),r.loadingRooms?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",d,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(L.filteredRooms,function(ce){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{id:ce.roomId,key:ce.roomId,class:(0,e.normalizeClass)(["vac-room-item",{"vac-room-selected":L.selectedRoomId===ce.roomId}]),onClick:function(_e){return w.openRoom(ce)}},[(0,e.createVNode)(Re,{"current-user-id":r.currentUserId,room:ce,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"text-messages":r.textMessages,"room-actions":r.roomActions,onRoomActionHandler:t[1]||(t[1]=function(Ae){return a.$emit("room-action-handler",Ae)})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ae,_e){return{name:_e,fn:(0,e.withCtx)(function(Ue){return[(0,e.renderSlot)(a.$slots,_e,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ue)))]})}})]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,S)}),128)),(0,e.createVNode)(e.Transition,{name:"vac-fade-message"},{default:(0,e.withCtx)(function(){return[r.rooms.length&&!r.loadingRooms?((0,e.openBlock)(),(0,e.createElementBlock)("div",g,[(0,e.createVNode)(he,{show:L.showLoader,infinite:!0},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["show"])])):(0,e.createCommentVNode)("",!0)]}),_:3})]))],2)),[[e.vShow,r.showRoomsList]])}je(2564);var R=(0,e.createElementVNode)("div",{id:"vac-circle"},null,-1);function b(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-fade-spinner",appear:""},{default:(0,e.withCtx)(function(){return[r.show?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["vac-loader-wrapper",{"vac-container-center":!r.infinite,"vac-container-top":r.infinite}])},[(0,e.renderSlot)(a.$slots,"spinner-icon",(0,e.normalizeProps)((0,e.guardReactiveProps)({show:r.show,infinite:r.infinite})),function(){return[R]})],2)):(0,e.createCommentVNode)("",!0)]}),_:3})}const h={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1}}};var O=je(8118);const T=(0,O.Z)(h,[["render",b]]);var B={key:0,class:"vac-icon-search"},V=["placeholder"];function Y(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)({"vac-box-search":w.showSearchBar,"vac-box-empty":!w.showSearchBar})},[r.showSearch?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[!r.loadingRooms&&r.rooms.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",B,[(0,e.renderSlot)(a.$slots,"search-icon",{},function(){return[(0,e.createVNode)(le,{name:"search"})]})])):(0,e.createCommentVNode)("",!0),!r.loadingRooms&&r.rooms.length?((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:"search",placeholder:r.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:t[0]||(t[0]=function(he){return a.$emit("search-room",he)})},null,40,V)):(0,e.createCommentVNode)("",!0)],64)):(0,e.createCommentVNode)("",!0),r.showAddRoom?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:t[1]||(t[1]=function(he){return a.$emit("add-room")})},[(0,e.renderSlot)(a.$slots,"add-icon",{},function(){return[(0,e.createVNode)(le,{name:"add"})]})])):(0,e.createCommentVNode)("",!0)],2)}je(2222),je(8309);var k=["viewBox"],P=["id","d"],l=["id","d"];function N(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 ".concat(w.size," ").concat(w.size)},[(0,e.createElementVNode)("path",{id:w.svgId,d:L.svgItem[r.name].path},null,8,P),L.svgItem[r.name].path2?((0,e.openBlock)(),(0,e.createElementBlock)("path",{key:0,id:w.svgId,d:L.svgItem[r.name].path2},null,8,l)):(0,e.createCommentVNode)("",!0)],8,k)}const U={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data:function(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}},computed:{svgId:function(){var t=this.param?"-"+this.param:"";return"vac-icon-".concat(this.name).concat(t)},size:function(){var t=this.svgItem[this.name];return t.size==="large"?512:t.size==="medium"?48:24}}},Z=(0,O.Z)(U,[["render",N]]),ee={name:"RoomsSearch",components:{SvgIcon:Z},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar:function(){return this.showSearch||this.showAddRoom}}},me=(0,O.Z)(ee,[["render",Y]]);var de={class:"vac-room-container"},_={class:"vac-name-container vac-text-ellipsis"},G={class:"vac-title-container"},y={class:"vac-room-name vac-text-ellipsis"},F={key:1,class:"vac-text-date"},K={key:0},q={key:1,class:"vac-text-ellipsis"},D={key:3,class:"vac-text-ellipsis"},c={class:"vac-room-options-container"},f={key:0,class:"vac-badge-counter vac-room-badge"},v={key:0,class:"vac-menu-options"},A={class:"vac-menu-list"},j=["onClick"];function X(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon"),he=(0,e.resolveComponent)("format-message"),Re=(0,e.resolveDirective)("click-outside");return(0,e.openBlock)(),(0,e.createElementBlock)("div",de,[(0,e.renderSlot)(a.$slots,"room-list-item",(0,e.normalizeProps)((0,e.guardReactiveProps)({room:r.room})),function(){return[(0,e.renderSlot)(a.$slots,"room-list-avatar",(0,e.normalizeProps)((0,e.guardReactiveProps)({room:r.room})),function(){return[r.room.avatar?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-avatar",style:(0,e.normalizeStyle)({"background-image":"url('".concat(r.room.avatar,"')")})},null,4)):(0,e.createCommentVNode)("",!0)]}),(0,e.createElementVNode)("div",_,[(0,e.createElementVNode)("div",G,[w.userStatus?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["vac-state-circle",{"vac-state-online":w.userStatus==="online"}])},null,2)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",y,(0,e.toDisplayString)(r.room.roomName),1),r.room.lastMessage?((0,e.openBlock)(),(0,e.createElementBlock)("div",F,(0,e.toDisplayString)(r.room.lastMessage.timestamp),1)):(0,e.createCommentVNode)("",!0)]),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-text-last",{"vac-message-new":r.room.lastMessage&&r.room.lastMessage.new&&!w.typingUsers}])},[w.isMessageCheckmarkVisible?((0,e.openBlock)(),(0,e.createElementBlock)("span",K,[(0,e.renderSlot)(a.$slots,"checkmark-icon",(0,e.normalizeProps)((0,e.guardReactiveProps)({message:r.room.lastMessage})),function(){return[(0,e.createVNode)(le,{name:r.room.lastMessage.distributed?"double-checkmark":"checkmark",param:r.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]})])):(0,e.createCommentVNode)("",!0),r.room.lastMessage&&!r.room.lastMessage.deleted&&w.isAudio?((0,e.openBlock)(),(0,e.createElementBlock)("div",q,[(0,e.renderSlot)(a.$slots,"microphone-icon",{},function(){return[(0,e.createVNode)(le,{name:"microphone",class:"vac-icon-microphone"})]}),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(w.formattedDuration),1)])):r.room.lastMessage?((0,e.openBlock)(),(0,e.createBlock)(he,{key:2,content:w.getLastMessage,deleted:!!r.room.lastMessage.deleted&&!w.typingUsers,users:r.room.users,linkify:!1,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"single-line":!0},{"deleted-icon":(0,e.withCtx)(function(ce){return[(0,e.renderSlot)(a.$slots,"deleted-icon",(0,e.normalizeProps)((0,e.guardReactiveProps)(ce)))]}),_:3},8,["content","deleted","users","text-formatting","link-options"])):(0,e.createCommentVNode)("",!0),!r.room.lastMessage&&w.typingUsers?((0,e.openBlock)(),(0,e.createElementBlock)("div",D,(0,e.toDisplayString)(w.typingUsers),1)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",c,[r.room.unreadCount?((0,e.openBlock)(),(0,e.createElementBlock)("div",f,(0,e.toDisplayString)(r.room.unreadCount),1)):(0,e.createCommentVNode)("",!0),(0,e.renderSlot)(a.$slots,"room-list-options",(0,e.normalizeProps)((0,e.guardReactiveProps)({room:r.room})),function(){return[r.roomActions.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:t[0]||(t[0]=(0,e.withModifiers)(function(ce){return L.roomMenuOpened=r.room.roomId},["stop"]))},[(0,e.renderSlot)(a.$slots,"room-list-options-icon",{},function(){return[(0,e.createVNode)(le,{name:"dropdown",param:"room"})]})])):(0,e.createCommentVNode)("",!0),r.roomActions.length?((0,e.openBlock)(),(0,e.createBlock)(e.Transition,{key:1,name:"vac-slide-left"},{default:(0,e.withCtx)(function(){return[L.roomMenuOpened===r.room.roomId?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",v,[(0,e.createElementVNode)("div",A,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.roomActions,function(ce){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:ce.name},[(0,e.createElementVNode)("div",{class:"vac-menu-item",onClick:(0,e.withModifiers)(function(Ae){return w.roomActionHandler(ce)},["stop"])},(0,e.toDisplayString)(ce.title),9,j)])}),128))])])),[[Re,w.closeRoomMenu]]):(0,e.createCommentVNode)("",!0)]}),_:1})):(0,e.createCommentVNode)("",!0)]})])],2)])]})])}je(915),je(8734),je(7397);var Q={class:"vac-image-link-container"},z={class:"vac-image-link-message"},ne=["innerHTML"],ae=["innerHTML"];function be(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["vac-format-message-wrapper",{"vac-text-ellipsis":r.singleLine}])},[r.textFormatting.disabled?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,innerHTML:w.formattedContent},null,8,ae)):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)({"vac-text-ellipsis":r.singleLine})},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(w.linkifiedMessage,function(he,Re){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:Re,class:"vac-format-container"},[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(he.url?"a":"span"),{class:(0,e.normalizeClass)({"vac-text-ellipsis":r.singleLine,"vac-text-bold":he.bold,"vac-text-italic":r.deleted||he.italic,"vac-text-strike":he.strike,"vac-text-underline":he.underline,"vac-text-inline-code":!r.singleLine&&he.inline,"vac-text-multiline-code":!r.singleLine&&he.multiline,"vac-text-tag":!r.singleLine&&!r.reply&&he.tag}),href:he.href,target:he.href?r.linkOptions.target:null,rel:he.href?r.linkOptions.rel:null,onClick:function(Ae){return w.openTag(he)}},{default:(0,e.withCtx)(function(){return[(0,e.renderSlot)(a.$slots,"deleted-icon",(0,e.normalizeProps)((0,e.guardReactiveProps)({deleted:r.deleted})),function(){return[r.deleted?((0,e.openBlock)(),(0,e.createBlock)(le,{key:0,name:"deleted",class:"vac-icon-deleted"})):(0,e.createCommentVNode)("",!0)]}),he.url&&he.image?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[(0,e.createElementVNode)("div",Q,[(0,e.createElementVNode)("div",{class:"vac-image-link",style:(0,e.normalizeStyle)({"background-image":"url('".concat(he.value,"')"),height:he.height})},null,4)]),(0,e.createElementVNode)("div",z,[(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(he.value),1)])],64)):((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:1,innerHTML:he.value},null,8,ne))]}),_:2},1032,["class","href","target","rel","onClick"]))])}),128))],2))],2)}je(9753);function Oe(a,t){(t==null||t>a.length)&&(t=a.length);for(var r=0,M=new Array(t);r<t;r++)M[r]=a[r];return M}function Ce(a){if(Array.isArray(a))return Oe(a)}je(1817),je(2165),je(6992),je(8783),je(3948),je(1038);function Ge(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}je(4916),je(7601);function Ye(a,t){if(a){if(typeof a=="string")return Oe(a,t);var r=Object.prototype.toString.call(a).slice(8,-1);if(r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set")return Array.from(a);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(a,t)}}je(1703),je(6647);function st(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(a){return Ce(a)||Ge(a)||Ye(a)||st()}je(2772),je(4986),je(5212),je(6699),je(2023),je(6373),je(4603),je(8450),je(8386),je(9714),je(5306),je(8757),je(3650),je(4723),je(189);var C=je(5235);const H=function(a,t,r){var M,L={bold:r.bold,italic:r.italic,strike:r.strike,underline:r.underline,multilineCode:r.multilineCode,inlineCode:r.inlineCode},w=(M={},i(M,L.bold,{end:"\\"+L.bold,allowed_chars:".",type:"bold"}),i(M,L.italic,{end:L.italic,allowed_chars:".",type:"italic"}),i(M,L.strike,{end:L.strike,allowed_chars:".",type:"strike"}),i(M,L.underline,{end:L.underline,allowed_chars:".",type:"underline"}),i(M,L.multilineCode,{end:L.multilineCode,allowed_chars:`(.|
)`,type:"multiline-code"}),i(M,L.inlineCode,{end:L.inlineCode,allowed_chars:".",type:"inline-code"}),i(M,"<usertag>",{allowed_chars:".",end:"</usertag>",type:"tag"}),M),le=Le(a,w),he=Te(le,w),Re=[].concat.apply([],he);return t&&ze(Re),Re};function Le(a,t){var r=[],M=-1,L=null,w=C.find(a),le=!1;if(w.length>0&&(M=a.indexOf(w[0].value),le=!0),Object.keys(t).forEach(function(ft){var yt=a.indexOf(ft);yt>=0&&(M<0||yt<M)&&(M=yt,L=ft,le=!1)}),le&&L!==-1){var he=a.substr(0,M),Re=a.substr(M,w[0].value.length),ce=a.substr(M+w[0].value.length);return r.push(he),r.push(Re),r=r.concat(Le(ce,t)),r}if(L){var Ae=a.substr(0,M),_e=L,Ue=a.substr(M+_e.length);if(a.replace(/\s/g,"").length===_e.length*2)return[a];var Ie=Ue.match(new RegExp("^("+(t[_e].allowed_chars||".")+"*"+(t[_e].end?"?":"")+")"+(t[_e].end?"("+t[_e].end+")":""),"m"));if(!Ie||!Ie[1])Ae=Ae+_e,r.push(Ae);else{Ae&&r.push(Ae);var ot={start:_e,content:Le(Ie[1],t),end:Ie[2],type:t[_e].type};r.push(ot),Ue=Ue.substr(Ie[0].length)}return r=r.concat(Le(Ue,t)),r}else return a?[a]:[]}function Te(a,t){var r=[];return a.forEach(function(M){typeof M=="string"?r.push({types:[],value:M}):t[M.start]&&r.push(Ve(M))}),r}function Ve(a){var t=[];return Ee(a,t,[]),t}function Ee(a,t,r){a.content.forEach(function(M){typeof M=="string"?t.push({types:Fe(r.concat([a.type])),value:M}):Ee(M,t,Fe([M.type].concat([a.type]).concat(r)))})}function Fe(a){return xt(new Set(a))}function ze(a){var t=[];return a.forEach(function(r){var M=C.find(r.value);if(M.length){var L=r.value.replace(M[0].value,"");t.push({types:r.types,value:L}),r.types=["url"].concat(r.types),r.href=M[0].href,r.value=M[0].value}t.push(r)}),t}var Xe=je(9085);const We={name:"FormatMessage",components:{SvgIcon:Z},props:{content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage:function(){var t=this,r=H(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return r.forEach(function(M){M.url=t.checkType(M,"url"),M.bold=t.checkType(M,"bold"),M.italic=t.checkType(M,"italic"),M.strike=t.checkType(M,"strike"),M.underline=t.checkType(M,"underline"),M.inline=t.checkType(M,"inline-code"),M.multiline=t.checkType(M,"multiline-code"),M.tag=t.checkType(M,"tag"),M.image=t.checkImageType(M),M.value=t.replaceEmojiByElement(M.value)}),r},formattedContent:function(){return this.formatTags(this.content)}},methods:{checkType:function(t,r){return t.types.indexOf(r)!==-1},checkImageType:function(t){var r=t.value.lastIndexOf("."),M=t.value.lastIndexOf("/");M>r&&(r=-1);var L=t.value.substring(r+1,t.value.length),w=r>0&&Xe.v5.some(function(le){return L.toLowerCase().includes(le)});return w&&this.setImageSize(t),w},setImageSize:function(t){var r=new Image;r.src=t.value,r.addEventListener("load",M);function M(L){var w=L.path[0].width/150;t.height=Math.round(L.path[0].height/w)+"px",r.removeEventListener("load",M)}},formatTags:function(t){var r=this,M="<usertag>",L="</usertag>",w=xt(t.matchAll(new RegExp(M,"gi"))).map(function(he){return he.index}),le=t;return w.forEach(function(he){var Re=le.substring(he+M.length,le.indexOf(L,he)),ce=r.users.find(function(Ae){return Ae._id===Re});t=t.replaceAll(Re,"@".concat((ce==null?void 0:ce.username)||"unknown"))}),t},openTag:function(t){if(!this.singleLine&&this.checkType(t,"tag")){var r=this.users.find(function(M){return t.value.indexOf(M.username)!==-1});this.$emit("open-user-tag",r)}},replaceEmojiByElement:function(t){var r;if(this.singleLine)r=16;else{var M=this.containsOnlyEmojis();r=M?28:20}return t.replaceAll(/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFF]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/g,function(L){return'<span style="font-size: '.concat(r,'px">').concat(L,"</span>")})},containsOnlyEmojis:function(){var t=this.content.replace(new RegExp("[\0-ữf]","g"),""),r=this.content.replace(new RegExp(`[
\rs]+|( )+`,"g"),"");return t.length===r.length}}},tt=(0,O.Z)(We,[["render",be]]);var ct=je(3336);je(8862);var nt="__v-click-outside",He=typeof window<"u",qe=typeof navigator<"u",Je=He&&("ontouchstart"in window||qe&&navigator.msMaxTouchPoints>0),lt=Je?["touchstart"]:["click"],gt=function(t){var r=typeof t=="function";if(!r&&(0,ct.Z)(t)!=="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:r?t:t.handler,middleware:t.middleware||function(M){return M},events:t.events||lt,isActive:t.isActive!==!1,detectIframe:t.detectIframe!==!1,capture:Boolean(t.capture)}},At=function(t){var r=t.event,M=t.handler,L=t.middleware;L(r)&&M(r)},kt=function(t){var r=t.el,M=t.event,L=t.handler,w=t.middleware;setTimeout(function(){var le=document,he=le.activeElement;he&&he.tagName==="IFRAME"&&!r.contains(he)&&At({event:M,handler:L,middleware:w})},0)},Gt=function(t){var r=t.el,M=t.event,L=t.handler,w=t.middleware,le=M.path||M.composedPath&&M.composedPath(),he=le?le.indexOf(r)<0:!r.contains(M.target);he&&At({event:M,handler:L,middleware:w})},Bt=function(t,r){var M=r.value,L=gt(M),w=L.events,le=L.handler,he=L.middleware,Re=L.isActive,ce=L.detectIframe,Ae=L.capture;if(Re){if(t[nt]=w.map(function(Ue){return{event:Ue,srcTarget:document.documentElement,handler:function(ot){return Gt({el:t,event:ot,handler:le,middleware:he})},capture:Ae}}),ce){var _e={event:"blur",srcTarget:window,handler:function(Ie){return kt({el:t,event:Ie,handler:le,middleware:he})},capture:Ae};t[nt]=[].concat(xt(t[nt]),[_e])}t[nt].forEach(function(Ue){var Ie=Ue.event,ot=Ue.srcTarget,ft=Ue.handler;return setTimeout(function(){t[nt]&&ot.addEventListener(Ie,ft,Ae)},0)})}},zt=function(t){var r=t[nt]||[];r.forEach(function(M){var L=M.event,w=M.srcTarget,le=M.handler,he=M.capture;return w.removeEventListener(L,le,he)}),delete t[nt]},tr=function(t,r){var M=r.value,L=r.oldValue;JSON.stringify(M)!==JSON.stringify(L)&&(zt(t),Bt(t,{value:M}))},fr={beforeMount:Bt,updated:tr,unmounted:zt};const Jt=He?fr:{};je(9600);const J=function(a,t,r){if(a.typingUsers&&a.typingUsers.length){var M=a.users.filter(function(L){if(L._id!==t&&a.typingUsers.indexOf(L._id)!==-1&&!(L.status&&L.status.state==="offline"))return!0});return M.length?a.users.length===2?r.IS_TYPING:M.map(function(L){return L.username}).join(", ")+" "+r.IS_TYPING:void 0}};var $=je(8438),oe=$.isAudioFile;const ue={name:"RoomsContent",components:{SvgIcon:Z,FormatMessage:tt},directives:{clickOutside:Jt},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data:function(){return{roomMenuOpened:null}},computed:{getLastMessage:function(){var t=this,r=this.typingUsers;if(r)return r;var M=this.room.lastMessage.deleted?this.textMessages.MESSAGE_DELETED:this.room.lastMessage.content;if(this.room.users.length<=2)return M;var L=this.room.users.find(function(w){return w._id===t.room.lastMessage.senderId});return this.room.lastMessage.username?"".concat(this.room.lastMessage.username," - ").concat(M):!L||L._id===this.currentUserId?M:"".concat(L.username," - ").concat(M)},userStatus:function(){var t=this;if(!(!this.room.users||this.room.users.length!==2)){var r=this.room.users.find(function(M){return M._id!==t.currentUserId});return r&&r.status?r.status.state:null}},typingUsers:function(){return J(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible:function(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration:function(){var t,r,M=(t=this.room.lastMessage)===null||t===void 0||(r=t.files)===null||r===void 0?void 0:r[0];if(M){if(!M.duration)return"".concat(M.name,".").concat(M.extension);var L=Math.floor(M.duration);return(L-(L%=60))/60+(L>9?":":":0")+L}return""},isAudio:function(){return this.room.lastMessage.files?oe(this.room.lastMessage.files[0]):!1}},methods:{roomActionHandler:function(t){this.closeRoomMenu(),this.$emit("room-action-handler",{action:t,roomId:this.room.roomId})},closeRoomMenu:function(){this.roomMenuOpened=null}}},re=(0,O.Z)(ue,[["render",X]]);je(6755);const pe=function(a,t,r){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return!r||r===""?a:a.filter(function(L){return M?Se(L[t]).startsWith(Se(r)):Se(L[t]).includes(Se(r))})};function Se(a){return a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ge={name:"RoomsList",components:{Loader:T,RoomsSearch:me,RoomContent:re},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data:function(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler:function(t,r){this.filteredRooms=t,(t.length!==r.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms:function(t){var r=this;t||setTimeout(function(){return r.initIntersectionObserver()})},loadingMoreRooms:function(t){this.$emit("loading-more-rooms",t)},roomsLoaded:{immediate:!0,handler:function(t){t&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler:function(t){t&&!this.isMobile&&(this.selectedRoomId=t.roomId)}}},methods:{initIntersectionObserver:function(){var t=this;this.observer&&(this.showLoader=!0,this.observer.disconnect());var r=document.getElementById("infinite-loader-rooms");if(r){var M={root:document.getElementById("rooms-list"),rootMargin:"".concat(this.scrollDistance,"px"),threshold:0};this.observer=new IntersectionObserver(function(L){L[0].isIntersecting&&t.loadMoreRooms()},M),this.observer.observe(r)}},searchRoom:function(t){this.filteredRooms=pe(this.rooms,"roomName",t.target.value)},openRoom:function(t){t.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=t.roomId),this.$emit("fetch-room",{room:t}))},loadMoreRooms:function(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},xe=(0,O.Z)(ge,[["render",E]]);var Ne={class:"vac-container-center vac-room-empty"},at={class:"vac-messages-container"},ut={key:0,class:"vac-text-started"},Ke={key:1,class:"vac-text-started"},ht={key:0,id:"infinite-loader-messages"},Me={key:2},ve={key:0,class:"vac-badge-counter vac-messages-count"};function Pe(a,t,r,M,L,w){var le=(0,e.resolveComponent)("room-header"),he=(0,e.resolveComponent)("loader"),Re=(0,e.resolveComponent)("room-message"),ce=(0,e.resolveComponent)("svg-icon"),Ae=(0,e.resolveComponent)("room-footer");return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:"vac-col-messages",onTouchstart:t[12]||(t[12]=function(){return w.touchStart&&w.touchStart.apply(w,arguments)})},[w.showNoRoom?(0,e.renderSlot)(a.$slots,"no-room-selected",{key:0},function(){return[(0,e.createElementVNode)("div",Ne,[(0,e.createElementVNode)("div",null,(0,e.toDisplayString)(r.textMessages.ROOM_EMPTY),1)])]}):((0,e.openBlock)(),(0,e.createBlock)(le,{key:1,"current-user-id":r.currentUserId,"text-messages":r.textMessages,"single-room":r.singleRoom,"show-rooms-list":r.showRoomsList,"is-mobile":r.isMobile,"room-info-enabled":r.roomInfoEnabled,"menu-actions":r.menuActions,room:w.room,"message-selection-enabled":L.messageSelectionEnabled,"message-selection-actions":r.messageSelectionActions,"selected-messages-total":L.selectedMessages.length,onToggleRoomsList:t[0]||(t[0]=function(_e){return a.$emit("toggle-rooms-list")}),onRoomInfo:t[1]||(t[1]=function(_e){return a.$emit("room-info")}),onMenuActionHandler:t[2]||(t[2]=function(_e){return a.$emit("menu-action-handler",_e)}),onMessageSelectionActionHandler:w.messageSelectionActionHandler,onCancelMessageSelection:t[3]||(t[3]=function(_e){return L.messageSelectionEnabled=!1})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(_e,Ue){return{name:Ue,fn:(0,e.withCtx)(function(Ie){return[(0,e.renderSlot)(a.$slots,Ue,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ie)))]})}})]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),(0,e.createElementVNode)("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:t[5]||(t[5]=function(){return w.onContainerScroll&&w.onContainerScroll.apply(w,arguments)})},[(0,e.createVNode)(he,{show:L.loadingMessages},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(_e,Ue){return{name:Ue,fn:(0,e.withCtx)(function(Ie){return[(0,e.renderSlot)(a.$slots,Ue,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ie)))]})}})]),1032,["show"]),(0,e.createElementVNode)("div",at,[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)({"vac-messages-hidden":L.loadingMessages})},[(0,e.createVNode)(e.Transition,{name:"vac-fade-message"},{default:(0,e.withCtx)(function(){return[(0,e.createElementVNode)("div",null,[w.showNoMessages?((0,e.openBlock)(),(0,e.createElementBlock)("div",ut,[(0,e.renderSlot)(a.$slots,"messages-empty",{},function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(r.textMessages.MESSAGES_EMPTY),1)]})])):(0,e.createCommentVNode)("",!0),w.showMessagesStarted?((0,e.openBlock)(),(0,e.createElementBlock)("div",Ke,(0,e.toDisplayString)(r.textMessages.CONVERSATION_STARTED)+" "+(0,e.toDisplayString)(r.messages[0].date),1)):(0,e.createCommentVNode)("",!0)])]}),_:3}),r.messages.length&&!r.messagesLoaded?((0,e.openBlock)(),(0,e.createElementBlock)("div",ht,[(0,e.createVNode)(he,{show:!0,infinite:!0},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(_e,Ue){return{name:Ue,fn:(0,e.withCtx)(function(Ie){return[(0,e.renderSlot)(a.$slots,Ue,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ie)))]})}})]),1024)])):(0,e.createCommentVNode)("",!0),((0,e.openBlock)(),(0,e.createBlock)(e.TransitionGroup,{key:r.roomId,name:"vac-fade-message",tag:"span"},{default:(0,e.withCtx)(function(){return[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.messages,function(_e,Ue){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:_e.indexId||_e._id},[(0,e.createVNode)(Re,{"current-user-id":r.currentUserId,message:_e,index:Ue,messages:r.messages,"edited-message-id":L.editedMessageId,"message-actions":r.messageActions,"room-users":w.room.users,"text-messages":r.textMessages,"new-messages":L.newMessages,"show-reaction-emojis":r.showReactionEmojis,"show-new-messages-divider":r.showNewMessagesDivider,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"username-options":r.usernameOptions,"message-selection-enabled":L.messageSelectionEnabled,"selected-messages":L.selectedMessages,onMessageAdded:w.onMessageAdded,onMessageActionHandler:w.messageActionHandler,onOpenFile:w.openFile,onOpenUserTag:w.openUserTag,onOpenFailedMessage:t[4]||(t[4]=function(Ie){return a.$emit("open-failed-message",Ie)}),onSendMessageReaction:w.sendMessageReaction,onSelectMessage:w.selectMessage,onUnselectMessage:w.unselectMessage},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])])}),128))]}),_:3}))],2)])],544),L.loadingMessages?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",Me,[(0,e.createVNode)(e.Transition,{name:"vac-bounce"},{default:(0,e.withCtx)(function(){return[L.scrollIcon?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-icon-scroll",onClick:t[6]||(t[6]=function(){return w.scrollToBottom&&w.scrollToBottom.apply(w,arguments)})},[(0,e.createVNode)(e.Transition,{name:"vac-bounce"},{default:(0,e.withCtx)(function(){return[L.scrollMessagesCount?((0,e.openBlock)(),(0,e.createElementBlock)("div",ve,(0,e.toDisplayString)(L.scrollMessagesCount),1)):(0,e.createCommentVNode)("",!0)]}),_:1}),(0,e.renderSlot)(a.$slots,"scroll-icon",{},function(){return[(0,e.createVNode)(ce,{name:"dropdown",param:"scroll"})]})])):(0,e.createCommentVNode)("",!0)]}),_:3})])),(0,e.createVNode)(Ae,{room:w.room,"room-id":r.roomId,"room-message":r.roomMessage,"text-messages":r.textMessages,"show-send-icon":r.showSendIcon,"show-files":r.showFiles,"show-audio":r.showAudio,"show-emojis":r.showEmojis,"show-footer":r.showFooter,"accepted-files":r.acceptedFiles,"textarea-action-enabled":r.textareaActionEnabled,"textarea-auto-focus":r.textareaAutoFocus,"user-tags-enabled":r.userTagsEnabled,"emojis-suggestion-enabled":r.emojisSuggestionEnabled,"templates-text":r.templatesText,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"audio-bit-rate":r.audioBitRate,"audio-sample-rate":r.audioSampleRate,"init-reply-message":L.initReplyMessage,"init-edit-message":L.initEditMessage,onUpdateEditedMessageId:t[7]||(t[7]=function(_e){return L.editedMessageId=_e}),onEditMessage:t[8]||(t[8]=function(_e){return a.$emit("edit-message",_e)}),onSendMessage:t[9]||(t[9]=function(_e){return a.$emit("send-message",_e)}),onTypingMessage:t[10]||(t[10]=function(_e){return a.$emit("typing-message",_e)}),onTextareaActionHandler:t[11]||(t[11]=function(_e){return a.$emit("textarea-action-handler",_e)})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(_e,Ue){return{name:Ue,fn:(0,e.withCtx)(function(Ie){return[(0,e.renderSlot)(a.$slots,Ue,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ie)))]})}})]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message"])],544)),[[e.vShow,r.isMobile&&!r.showRoomsList||!r.isMobile||r.singleRoom]])}var se={class:"vac-room-header vac-app-border-b"},ie={class:"vac-room-wrapper"},fe={key:0,class:"vac-room-selection"},$e=["id"],it=["onClick"],Qe={class:"vac-selection-button-count"},mt={class:"vac-text-ellipsis"},St={class:"vac-room-name vac-text-ellipsis"},It={key:0,class:"vac-room-info vac-text-ellipsis"},Ze={key:1,class:"vac-room-info vac-text-ellipsis"},Mt={key:0,class:"vac-menu-options"},Ct={class:"vac-menu-list"},Zt=["onClick"];function $t(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon"),he=(0,e.resolveDirective)("click-outside");return(0,e.openBlock)(),(0,e.createElementBlock)("div",se,[(0,e.renderSlot)(a.$slots,"room-header",(0,e.normalizeProps)((0,e.guardReactiveProps)({room:r.room,typingUsers:w.typingUsers,userStatus:w.userStatus})),function(){return[(0,e.createElementVNode)("div",ie,[(0,e.createVNode)(e.Transition,{name:"vac-slide-up"},{default:(0,e.withCtx)(function(){return[r.messageSelectionEnabled?((0,e.openBlock)(),(0,e.createElementBlock)("div",fe,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.messageSelectionActions,function(Re){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{id:Re.name,key:Re.name},[(0,e.createElementVNode)("div",{class:"vac-selection-button",onClick:function(Ae){return w.messageSelectionActionHandler(Re)}},[(0,e.createTextVNode)((0,e.toDisplayString)(Re.title)+" ",1),(0,e.createElementVNode)("span",Qe,(0,e.toDisplayString)(r.selectedMessagesTotal),1)],8,it)],8,$e)}),128)),(0,e.createElementVNode)("div",{class:"vac-selection-cancel vac-item-clickable",onClick:t[0]||(t[0]=function(Re){return a.$emit("cancel-message-selection")})},(0,e.toDisplayString)(r.textMessages.CANCEL_SELECT_MESSAGE),1)])):(0,e.createCommentVNode)("",!0)]}),_:1}),!r.messageSelectionEnabled&&L.messageSelectionAnimationEnded?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[r.singleRoom?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!r.isMobile,"vac-rotate-icon":!r.showRoomsList&&!r.isMobile}]),onClick:t[1]||(t[1]=function(Re){return a.$emit("toggle-rooms-list")})},[(0,e.renderSlot)(a.$slots,"toggle-icon",{},function(){return[(0,e.createVNode)(le,{name:"toggle"})]})],2)),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-info-wrapper",{"vac-item-clickable":r.roomInfoEnabled}]),onClick:t[2]||(t[2]=function(Re){return a.$emit("room-info")})},[(0,e.renderSlot)(a.$slots,"room-header-avatar",(0,e.normalizeProps)((0,e.guardReactiveProps)({room:r.room})),function(){return[r.room.avatar?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-avatar",style:(0,e.normalizeStyle)({"background-image":"url('".concat(r.room.avatar,"')")})},null,4)):(0,e.createCommentVNode)("",!0)]}),(0,e.renderSlot)(a.$slots,"room-header-info",(0,e.normalizeProps)((0,e.guardReactiveProps)({room:r.room,typingUsers:w.typingUsers,userStatus:w.userStatus})),function(){return[(0,e.createElementVNode)("div",mt,[(0,e.createElementVNode)("div",St,(0,e.toDisplayString)(r.room.roomName),1),w.typingUsers?((0,e.openBlock)(),(0,e.createElementBlock)("div",It,(0,e.toDisplayString)(w.typingUsers),1)):((0,e.openBlock)(),(0,e.createElementBlock)("div",Ze,(0,e.toDisplayString)(w.userStatus),1))])]})],2),r.room.roomId?(0,e.renderSlot)(a.$slots,"room-options",{key:1},function(){return[r.menuActions.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-svg-button vac-room-options",onClick:t[3]||(t[3]=function(Re){return L.menuOpened=!L.menuOpened})},[(0,e.renderSlot)(a.$slots,"menu-icon",{},function(){return[(0,e.createVNode)(le,{name:"menu"})]})])):(0,e.createCommentVNode)("",!0),r.menuActions.length?((0,e.openBlock)(),(0,e.createBlock)(e.Transition,{key:1,name:"vac-slide-left"},{default:(0,e.withCtx)(function(){return[L.menuOpened?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",Mt,[(0,e.createElementVNode)("div",Ct,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.menuActions,function(Re){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:Re.name},[(0,e.createElementVNode)("div",{class:"vac-menu-item",onClick:function(Ae){return w.menuActionHandler(Re)}},(0,e.toDisplayString)(Re.title),9,Zt)])}),128))])])),[[he,w.closeMenu]]):(0,e.createCommentVNode)("",!0)]}),_:1})):(0,e.createCommentVNode)("",!0)]}):(0,e.createCommentVNode)("",!0)],64)):(0,e.createCommentVNode)("",!0)])]})])}const qt={name:"RoomHeader",components:{SvgIcon:Z},directives:{clickOutside:Jt},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data:function(){return{menuOpened:!1,messageSelectionAnimationEnded:!0}},computed:{typingUsers:function(){return J(this.room,this.currentUserId,this.textMessages)},userStatus:function(){var t=this;if(!(!this.room.users||this.room.users.length!==2)){var r=this.room.users.find(function(L){return L._id!==t.currentUserId});if(r.status){var M="";return r.status.state==="online"?M=this.textMessages.IS_ONLINE:r.status.lastChanged&&(M=this.textMessages.LAST_SEEN+r.status.lastChanged),M}}}},watch:{messageSelectionEnabled:function(t){var r=this;t?this.messageSelectionAnimationEnded=!1:setTimeout(function(){r.messageSelectionAnimationEnded=!0},300)}},methods:{menuActionHandler:function(t){this.closeMenu(),this.$emit("menu-action-handler",t)},closeMenu:function(){this.menuOpened=!1},messageSelectionActionHandler:function(t){this.$emit("message-selection-action-handler",t)}}},cr=(0,O.Z)(qt,[["render",$t]]);var er={key:0,class:"vac-icon-textarea-left"},mr=(0,e.createElementVNode)("div",{class:"vac-dot-audio-record"},null,-1),Br={class:"vac-dot-audio-record-time"},un=["placeholder"],Tn={class:"vac-icon-textarea"},An={key:1},_n=["accept"];function Ut(a,t,r,M,L,w){var le=(0,e.resolveComponent)("room-emojis"),he=(0,e.resolveComponent)("room-users-tag"),Re=(0,e.resolveComponent)("room-templates-text"),ce=(0,e.resolveComponent)("room-message-reply"),Ae=(0,e.resolveComponent)("room-files"),_e=(0,e.resolveComponent)("svg-icon"),Ue=(0,e.resolveComponent)("emoji-picker-container"),Ie=(0,e.resolveDirective)("click-outside");return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",{id:"room-footer",class:(0,e.normalizeClass)(["vac-room-footer",{"vac-app-box-shadow":w.shadowFooter}])},[(0,e.createVNode)(le,{"filtered-emojis":L.filteredEmojis,"select-item":L.selectEmojiItem,"active-up-or-down":L.activeUpOrDownEmojis,onSelectEmoji:t[0]||(t[0]=function(ot){return w.selectEmoji(ot)}),onActivateItem:t[1]||(t[1]=function(ot){return L.activeUpOrDownEmojis=0})},null,8,["filtered-emojis","select-item","active-up-or-down"]),(0,e.createVNode)(he,{"filtered-users-tag":L.filteredUsersTag,"select-item":L.selectUsersTagItem,"active-up-or-down":L.activeUpOrDownUsersTag,onSelectUserTag:t[2]||(t[2]=function(ot){return w.selectUserTag(ot)}),onActivateItem:t[3]||(t[3]=function(ot){return L.activeUpOrDownUsersTag=0})},null,8,["filtered-users-tag","select-item","active-up-or-down"]),(0,e.createVNode)(Re,{"filtered-templates-text":L.filteredTemplatesText,"select-item":L.selectTemplatesTextItem,"active-up-or-down":L.activeUpOrDownTemplatesText,onSelectTemplateText:t[4]||(t[4]=function(ot){return w.selectTemplateText(ot)}),onActivateItem:t[5]||(t[5]=function(ot){return L.activeUpOrDownTemplatesText=0})},null,8,["filtered-templates-text","select-item","active-up-or-down"]),(0,e.createVNode)(ce,{room:r.room,"message-reply":L.messageReply,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onResetMessage:w.resetMessage},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ot,ft){return{name:ft,fn:(0,e.withCtx)(function(yt){return[(0,e.renderSlot)(a.$slots,ft,(0,e.normalizeProps)((0,e.guardReactiveProps)(yt)))]})}})]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),(0,e.createVNode)(Ae,{files:L.files,onRemoveFile:w.removeFile,onResetMessage:w.resetMessage},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ot,ft){return{name:ft,fn:(0,e.withCtx)(function(yt){return[(0,e.renderSlot)(a.$slots,ft,(0,e.normalizeProps)((0,e.guardReactiveProps)(yt)))]})}})]),1032,["files","onRemoveFile","onResetMessage"]),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-box-footer",{"vac-box-footer-border":!L.files.length}])},[r.showAudio&&!L.files.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",er,[L.isRecording?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[(0,e.createElementVNode)("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:t[6]||(t[6]=function(){return w.stopRecorder&&w.stopRecorder.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"audio-stop-icon",{},function(){return[(0,e.createVNode)(_e,{name:"close-outline"})]})]),mr,(0,e.createElementVNode)("div",Br,(0,e.toDisplayString)(w.recordedTime),1),(0,e.createElementVNode)("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:t[7]||(t[7]=function(ot){return w.toggleRecorder(!1)})},[(0,e.renderSlot)(a.$slots,"audio-stop-icon",{},function(){return[(0,e.createVNode)(_e,{name:"checkmark"})]})])],64)):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"vac-svg-button",onClick:t[8]||(t[8]=function(ot){return w.toggleRecorder(!0)})},[(0,e.renderSlot)(a.$slots,"microphone-icon",{},function(){return[(0,e.createVNode)(_e,{name:"microphone",class:"vac-icon-microphone"})]})]))])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:r.textMessages.TYPE_MESSAGE,class:(0,e.normalizeClass)(["vac-textarea",{"vac-textarea-outline":L.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:t[9]||(t[9]=function(){return w.onChangeInput&&w.onChangeInput.apply(w,arguments)}),onKeydown:[t[10]||(t[10]=(0,e.withKeys)(function(){return w.escapeTextarea&&w.escapeTextarea.apply(w,arguments)},["esc"])),t[11]||(t[11]=(0,e.withKeys)((0,e.withModifiers)(function(){return w.selectItem&&w.selectItem.apply(w,arguments)},["exact","prevent"]),["enter"])),t[13]||(t[13]=(0,e.withKeys)((0,e.withModifiers)(function(){},["exact","prevent"]),["tab"])),t[14]||(t[14]=(0,e.withKeys)(function(){return w.selectItem&&w.selectItem.apply(w,arguments)},["tab"])),t[15]||(t[15]=(0,e.withKeys)((0,e.withModifiers)(function(){},["exact","prevent"]),["up"])),t[16]||(t[16]=(0,e.withKeys)(function(ot){return w.updateActiveUpOrDown(-1)},["up"])),t[17]||(t[17]=(0,e.withKeys)((0,e.withModifiers)(function(){},["exact","prevent"]),["down"])),t[18]||(t[18]=(0,e.withKeys)(function(ot){return w.updateActiveUpOrDown(1)},["down"]))],onPaste:t[12]||(t[12]=function(){return w.onPasteImage&&w.onPasteImage.apply(w,arguments)})},null,42,un),(0,e.createElementVNode)("div",Tn,[L.editedMessage._id?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-svg-button",onClick:t[19]||(t[19]=function(){return w.resetMessage&&w.resetMessage.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"edit-close-icon",{},function(){return[(0,e.createVNode)(_e,{name:"close-outline"})]})])):(0,e.createCommentVNode)("",!0),r.showEmojis?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",An,[(0,e.renderSlot)(a.$slots,"emoji-picker",(0,e.mergeProps)({emojiOpened:L.emojiOpened},{addEmoji:w.addEmoji}),function(){return[(0,e.createVNode)(Ue,{"emoji-opened":L.emojiOpened,"position-top":!0,onAddEmoji:w.addEmoji,onOpenEmoji:t[20]||(t[20]=function(ot){return L.emojiOpened=ot})},{"emoji-picker-icon":(0,e.withCtx)(function(){return[(0,e.renderSlot)(a.$slots,"emoji-picker-icon")]}),_:3},8,["emoji-opened","onAddEmoji"])]})])),[[Ie,function(){return L.emojiOpened=!1}]]):(0,e.createCommentVNode)("",!0),r.showFiles?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:"vac-svg-button",onClick:t[21]||(t[21]=function(){return w.launchFilePicker&&w.launchFilePicker.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"paperclip-icon",{},function(){return[(0,e.createVNode)(_e,{name:"paperclip"})]})])):(0,e.createCommentVNode)("",!0),r.textareaActionEnabled?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:3,class:"vac-svg-button",onClick:t[22]||(t[22]=function(){return w.textareaActionHandler&&w.textareaActionHandler.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"custom-action-icon",{},function(){return[(0,e.createVNode)(_e,{name:"deleted"})]})])):(0,e.createCommentVNode)("",!0),r.showFiles?((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:4,ref:"file",type:"file",multiple:"",accept:r.acceptedFiles,style:{display:"none"},onChange:t[23]||(t[23]=function(ot){return w.onFileChange(ot.target.files)})},null,40,_n)):(0,e.createCommentVNode)("",!0),r.showSendIcon?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:5,class:(0,e.normalizeClass)(["vac-svg-button",{"vac-send-disabled":w.isMessageEmpty}]),onClick:t[24]||(t[24]=function(){return w.sendMessage&&w.sendMessage.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"send-icon",{},function(){return[(0,e.createVNode)(_e,{name:"send",param:w.isMessageEmpty||w.isFileLoading?"disabled":""},null,8,["param"])]})],2)):(0,e.createCommentVNode)("",!0)])],2)],2)),[[e.vShow,Object.keys(r.room).length&&r.showFooter]])}je(2443),je(3680),je(3706),je(2703),je(8011),je(489),je(8304),je(8674),je(5069);function Rr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rr=function(){return a};var a={},t=Object.prototype,r=t.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},L=M.iterator||"@@iterator",w=M.asyncIterator||"@@asyncIterator",le=M.toStringTag||"@@toStringTag";function he(dt,et,bt){return Object.defineProperty(dt,et,{value:bt,enumerable:!0,configurable:!0,writable:!0}),dt[et]}try{he({},"")}catch{he=function(bt,Et,Rt){return bt[Et]=Rt}}function Re(dt,et,bt,Et){var Rt=et&&et.prototype instanceof _e?et:_e,Tt=Object.create(Rt.prototype),Ht=new _t(Et||[]);return Tt._invoke=function(Kt,Xt,Ot){var Pt="suspendedStart";return function(ar,hr){if(Pt==="executing")throw new Error("Generator is already running");if(Pt==="completed"){if(ar==="throw")throw hr;return dr()}for(Ot.method=ar,Ot.arg=hr;;){var Qt=Ot.delegate;if(Qt){var vr=lr(Qt,Ot);if(vr){if(vr===Ae)continue;return vr}}if(Ot.method==="next")Ot.sent=Ot._sent=Ot.arg;else if(Ot.method==="throw"){if(Pt==="suspendedStart")throw Pt="completed",Ot.arg;Ot.dispatchException(Ot.arg)}else Ot.method==="return"&&Ot.abrupt("return",Ot.arg);Pt="executing";var or=ce(Kt,Xt,Ot);if(or.type==="normal"){if(Pt=Ot.done?"completed":"suspendedYield",or.arg===Ae)continue;return{value:or.arg,done:Ot.done}}or.type==="throw"&&(Pt="completed",Ot.method="throw",Ot.arg=or.arg)}}}(dt,bt,Ht),Tt}function ce(dt,et,bt){try{return{type:"normal",arg:dt.call(et,bt)}}catch(Et){return{type:"throw",arg:Et}}}a.wrap=Re;var Ae={};function _e(){}function Ue(){}function Ie(){}var ot={};he(ot,L,function(){return this});var ft=Object.getPrototypeOf,yt=ft&&ft(ft(Vt([])));yt&&yt!==t&&r.call(yt,L)&&(ot=yt);var Nt=Ie.prototype=_e.prototype=Object.create(ot);function nr(dt){["next","throw","return"].forEach(function(et){he(dt,et,function(bt){return this._invoke(et,bt)})})}function Yt(dt,et){function bt(Rt,Tt,Ht,Kt){var Xt=ce(dt[Rt],dt,Tt);if(Xt.type!=="throw"){var Ot=Xt.arg,Pt=Ot.value;return Pt&&(0,ct.Z)(Pt)=="object"&&r.call(Pt,"__await")?et.resolve(Pt.__await).then(function(ar){bt("next",ar,Ht,Kt)},function(ar){bt("throw",ar,Ht,Kt)}):et.resolve(Pt).then(function(ar){Ot.value=ar,Ht(Ot)},function(ar){return bt("throw",ar,Ht,Kt)})}Kt(Xt.arg)}var Et;this._invoke=function(Rt,Tt){function Ht(){return new et(function(Kt,Xt){bt(Rt,Tt,Kt,Xt)})}return Et=Et?Et.then(Ht,Ht):Ht()}}function lr(dt,et){var bt=dt.iterator[et.method];if(bt===void 0){if(et.delegate=null,et.method==="throw"){if(dt.iterator.return&&(et.method="return",et.arg=void 0,lr(dt,et),et.method==="throw"))return Ae;et.method="throw",et.arg=new TypeError("The iterator does not provide a 'throw' method")}return Ae}var Et=ce(bt,dt.iterator,et.arg);if(Et.type==="throw")return et.method="throw",et.arg=Et.arg,et.delegate=null,Ae;var Rt=Et.arg;return Rt?Rt.done?(et[dt.resultName]=Rt.value,et.next=dt.nextLoc,et.method!=="return"&&(et.method="next",et.arg=void 0),et.delegate=null,Ae):Rt:(et.method="throw",et.arg=new TypeError("iterator result is not an object"),et.delegate=null,Ae)}function ur(dt){var et={tryLoc:dt[0]};1 in dt&&(et.catchLoc=dt[1]),2 in dt&&(et.finallyLoc=dt[2],et.afterLoc=dt[3]),this.tryEntries.push(et)}function Lt(dt){var et=dt.completion||{};et.type="normal",delete et.arg,dt.completion=et}function _t(dt){this.tryEntries=[{tryLoc:"root"}],dt.forEach(ur,this),this.reset(!0)}function Vt(dt){if(dt){var et=dt[L];if(et)return et.call(dt);if(typeof dt.next=="function")return dt;if(!isNaN(dt.length)){var bt=-1,Et=function Rt(){for(;++bt<dt.length;)if(r.call(dt,bt))return Rt.value=dt[bt],Rt.done=!1,Rt;return Rt.value=void 0,Rt.done=!0,Rt};return Et.next=Et}}return{next:dr}}function dr(){return{value:void 0,done:!0}}return Ue.prototype=Ie,he(Nt,"constructor",Ie),he(Ie,"constructor",Ue),Ue.displayName=he(Ie,le,"GeneratorFunction"),a.isGeneratorFunction=function(dt){var et=typeof dt=="function"&&dt.constructor;return!!et&&(et===Ue||(et.displayName||et.name)==="GeneratorFunction")},a.mark=function(dt){return Object.setPrototypeOf?Object.setPrototypeOf(dt,Ie):(dt.__proto__=Ie,he(dt,le,"GeneratorFunction")),dt.prototype=Object.create(Nt),dt},a.awrap=function(dt){return{__await:dt}},nr(Yt.prototype),he(Yt.prototype,w,function(){return this}),a.AsyncIterator=Yt,a.async=function(dt,et,bt,Et,Rt){Rt===void 0&&(Rt=Promise);var Tt=new Yt(Re(dt,et,bt,Et),Rt);return a.isGeneratorFunction(et)?Tt:Tt.next().then(function(Ht){return Ht.done?Ht.value:Tt.next()})},nr(Nt),he(Nt,le,"Generator"),he(Nt,L,function(){return this}),he(Nt,"toString",function(){return"[object Generator]"}),a.keys=function(dt){var et=[];for(var bt in dt)et.push(bt);return et.reverse(),function Et(){for(;et.length;){var Rt=et.pop();if(Rt in dt)return Et.value=Rt,Et.done=!1,Et}return Et.done=!0,Et}},a.values=Vt,_t.prototype={constructor:_t,reset:function(et){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Lt),!et)for(var bt in this)bt.charAt(0)==="t"&&r.call(this,bt)&&!isNaN(+bt.slice(1))&&(this[bt]=void 0)},stop:function(){this.done=!0;var et=this.tryEntries[0].completion;if(et.type==="throw")throw et.arg;return this.rval},dispatchException:function(et){if(this.done)throw et;var bt=this;function Et(Ot,Pt){return Ht.type="throw",Ht.arg=et,bt.next=Ot,Pt&&(bt.method="next",bt.arg=void 0),!!Pt}for(var Rt=this.tryEntries.length-1;Rt>=0;--Rt){var Tt=this.tryEntries[Rt],Ht=Tt.completion;if(Tt.tryLoc==="root")return Et("end");if(Tt.tryLoc<=this.prev){var Kt=r.call(Tt,"catchLoc"),Xt=r.call(Tt,"finallyLoc");if(Kt&&Xt){if(this.prev<Tt.catchLoc)return Et(Tt.catchLoc,!0);if(this.prev<Tt.finallyLoc)return Et(Tt.finallyLoc)}else if(Kt){if(this.prev<Tt.catchLoc)return Et(Tt.catchLoc,!0)}else{if(!Xt)throw new Error("try statement without catch or finally");if(this.prev<Tt.finallyLoc)return Et(Tt.finallyLoc)}}}},abrupt:function(et,bt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var Rt=this.tryEntries[Et];if(Rt.tryLoc<=this.prev&&r.call(Rt,"finallyLoc")&&this.prev<Rt.finallyLoc){var Tt=Rt;break}}Tt&&(et==="break"||et==="continue")&&Tt.tryLoc<=bt&&bt<=Tt.finallyLoc&&(Tt=null);var Ht=Tt?Tt.completion:{};return Ht.type=et,Ht.arg=bt,Tt?(this.method="next",this.next=Tt.finallyLoc,Ae):this.complete(Ht)},complete:function(et,bt){if(et.type==="throw")throw et.arg;return et.type==="break"||et.type==="continue"?this.next=et.arg:et.type==="return"?(this.rval=this.arg=et.arg,this.method="return",this.next="end"):et.type==="normal"&&bt&&(this.next=bt),Ae},finish:function(et){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var Et=this.tryEntries[bt];if(Et.finallyLoc===et)return this.complete(Et.completion,Et.afterLoc),Lt(Et),Ae}},catch:function(et){for(var bt=this.tryEntries.length-1;bt>=0;--bt){var Et=this.tryEntries[bt];if(Et.tryLoc===et){var Rt=Et.completion;if(Rt.type==="throw"){var Tt=Rt.arg;Lt(Et)}return Tt}}throw new Error("illegal catch attempt")},delegateYield:function(et,bt,Et){return this.delegate={iterator:Vt(et),resultName:bt,nextLoc:Et},this.method==="next"&&(this.arg=void 0),Ae}},a}function cn(a,t,r,M,L,w,le){try{var he=a[w](le),Re=he.value}catch(ce){r(ce);return}he.done?t(Re):Promise.resolve(Re).then(M,L)}function Fr(a){return function(){var t=this,r=arguments;return new Promise(function(M,L){var w=a.apply(t,r);function le(Re){cn(w,M,L,le,he,"next",Re)}function he(Re){cn(w,M,L,le,he,"throw",Re)}le(void 0)})}}je(3210),je(8733),je(3710),je(285),je(1637),je(561);function Lr(a){if(typeof a!="string"||!a)throw new Error("expected a non-empty string, got: "+a)}function Wr(a){if(typeof a!="number")throw new Error("expected a number, got: "+a)}const jr=1,zn=1,jt="emoji",xr="keyvalue",Dr="favorites",dn="tokens",rr="tokens",Vr="unicode",Tr="count",vn="group",Ir="order",Zr="group-order",Or="eTag",Ar="url",Ur="skinTone",pr="readonly",Gn="readwrite",ua="skinUnicodes",ho="skinUnicodes",po="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",go="en";function yo(a,t){const r=new Set,M=[];for(const L of a){const w=t(L);r.has(w)||(r.add(w),M.push(L))}return M}function ca(a){return yo(a,t=>t.unicode)}function So(a){function t(r,M,L){const w=M?a.createObjectStore(r,{keyPath:M}):a.createObjectStore(r);if(L)for(const[le,[he,Re]]of Object.entries(L))w.createIndex(le,he,{multiEntry:Re});return w}t(xr),t(jt,Vr,{[rr]:[dn,!0],[Zr]:[[vn,Ir]],[ua]:[ho,!0]}),t(Dr,void 0,{[Tr]:[""]})}const Yn={},Mn={},In={};function da(a,t,r){r.onerror=()=>t(r.error),r.onblocked=()=>t(new Error("IDB blocked")),r.onsuccess=()=>a(r.result)}async function bo(a){const t=await new Promise((r,M)=>{const L=indexedDB.open(a,jr);Yn[a]=L,L.onupgradeneeded=w=>{w.oldVersion<zn&&So(L.result)},da(r,M,L)});return t.onclose=()=>Kn(a),t}function Eo(a){return Mn[a]||(Mn[a]=bo(a)),Mn[a]}function wr(a,t,r,M){return new Promise((L,w)=>{const le=a.transaction(t,r,{durability:"relaxed"}),he=typeof t=="string"?le.objectStore(t):t.map(ce=>le.objectStore(ce));let Re;M(he,le,ce=>{Re=ce}),le.oncomplete=()=>L(Re),le.onerror=()=>w(le.error)})}function Kn(a){const t=Yn[a],r=t&&t.result;if(r){r.close();const M=In[a];if(M)for(const L of M)L()}delete Yn[a],delete Mn[a],delete In[a]}function Ro(a){return new Promise((t,r)=>{Kn(a);const M=indexedDB.deleteDatabase(a);da(t,r,M)})}function xo(a,t){let r=In[a];r||(r=In[a]=[]),r.push(t)}const To=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Qr(a){return a.split(/[\s_]+/).map(t=>!t.match(/\w/)||To.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}const Ao=2;function va(a){return a.filter(Boolean).map(t=>t.toLowerCase()).filter(t=>t.length>=Ao)}function _o(a){return a.map(({annotation:r,emoticon:M,group:L,order:w,shortcodes:le,skins:he,tags:Re,emoji:ce,version:Ae})=>{const _e=[...new Set(va([...(le||[]).map(Qr).flat(),...Re.map(Qr).flat(),...Qr(r),M]))].sort(),Ue={annotation:r,group:L,order:w,tags:Re,tokens:_e,unicode:ce,version:Ae};if(M&&(Ue.emoticon=M),le&&(Ue.shortcodes=le),he){Ue.skinTones=[],Ue.skinUnicodes=[],Ue.skinVersions=[];for(const{tone:Ie,emoji:ot,version:ft}of he)Ue.skinTones.push(Ie),Ue.skinUnicodes.push(ot),Ue.skinVersions.push(ft)}return Ue})}function fa(a,t,r,M){a[t](r).onsuccess=L=>M&&M(L.target.result)}function Hr(a,t,r){fa(a,"get",t,r)}function ma(a,t,r){fa(a,"getAll",t,r)}function Xn(a){a.commit&&a.commit()}function Mo(a,t){let r=a[0];for(let M=1;M<a.length;M++){const L=a[M];t(r)>t(L)&&(r=L)}return r}function ha(a,t){const r=Mo(a,L=>L.length),M=[];for(const L of r)a.some(w=>w.findIndex(le=>t(le)===t(L))===-1)||M.push(L);return M}async function Io(a){return!await Wn(a,xr,Ar)}async function Oo(a,t,r){const[M,L]=await Promise.all([Or,Ar].map(w=>Wn(a,xr,w)));return M===r&&L===t}async function wo(a,t){return wr(a,jt,pr,(M,L,w)=>{let le;const he=()=>{M.getAll(le&&IDBKeyRange.lowerBound(le,!0),50).onsuccess=Re=>{const ce=Re.target.result;for(const Ae of ce)if(le=Ae.unicode,t(Ae))return w(Ae);if(ce.length<50)return w();he()}};he()})}async function pa(a,t,r,M){try{const L=_o(t);await wr(a,[jt,xr],Gn,([w,le],he)=>{let Re,ce,Ae=0;function _e(){++Ae===2&&Ue()}function Ue(){if(!(Re===M&&ce===r)){w.clear();for(const Ie of L)w.put(Ie);le.put(M,Or),le.put(r,Ar),Xn(he)}}Hr(le,Or,Ie=>{Re=Ie,_e()}),Hr(le,Ar,Ie=>{ce=Ie,_e()})})}finally{}}async function Co(a,t){return wr(a,jt,pr,(r,M,L)=>{const w=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);ma(r.index(Zr),w,L)})}async function ga(a,t){const r=va(Qr(t));return r.length?wr(a,jt,pr,(M,L,w)=>{const le=[],he=()=>{le.length===r.length&&Re()},Re=()=>{const ce=ha(le,Ae=>Ae.unicode);w(ce.sort((Ae,_e)=>Ae.order<_e.order?-1:1))};for(let ce=0;ce<r.length;ce++){const Ae=r[ce],_e=ce===r.length-1?IDBKeyRange.bound(Ae,Ae+"￿",!1,!0):IDBKeyRange.only(Ae);ma(M.index(rr),_e,Ue=>{le.push(Ue),he()})}}):[]}async function Bo(a,t){const r=await ga(a,t);return r.length?r.filter(M=>(M.shortcodes||[]).map(w=>w.toLowerCase()).includes(t.toLowerCase()))[0]||null:await wo(a,L=>(L.shortcodes||[]).includes(t.toLowerCase()))||null}async function Lo(a,t){return wr(a,jt,pr,(r,M,L)=>Hr(r,t,w=>{if(w)return L(w);Hr(r.index(ua),t,le=>L(le||null))}))}function Wn(a,t,r){return wr(a,t,pr,(M,L,w)=>Hr(M,r,w))}function No(a,t,r,M){return wr(a,t,Gn,(L,w)=>{L.put(M,r),Xn(w)})}function Po(a,t){return wr(a,Dr,Gn,(r,M)=>Hr(r,t,L=>{r.put((L||0)+1,t),Xn(M)}))}function ko(a,t,r){return r===0?[]:wr(a,[Dr,jt],pr,([M,L],w,le)=>{const he=[];M.index(Tr).openCursor(void 0,"prev").onsuccess=Re=>{const ce=Re.target.result;if(!ce)return le(he);function Ae(Ie){if(he.push(Ie),he.length===r)return le(he);ce.continue()}const _e=ce.primaryKey,Ue=t.byName(_e);if(Ue)return Ae(Ue);Hr(L,_e,Ie=>{if(Ie)return Ae(Ie);ce.continue()})}})}const On="";function Fo(a,t){const r=new Map;for(const L of a){const w=t(L);for(const le of w){let he=r;for(let ce=0;ce<le.length;ce++){const Ae=le.charAt(ce);let _e=he.get(Ae);_e||(_e=new Map,he.set(Ae,_e)),he=_e}let Re=he.get(On);Re||(Re=[],he.set(On,Re)),Re.push(L)}}return(L,w)=>{let le=r;for(let ce=0;ce<L.length;ce++){const Ae=L.charAt(ce),_e=le.get(Ae);if(_e)le=_e;else return[]}if(w)return le.get(On)||[];const he=[],Re=[le];for(;Re.length;){const Ae=[...Re.shift().entries()].sort((_e,Ue)=>_e[0]<Ue[0]?-1:1);for(const[_e,Ue]of Ae)_e===On?he.push(...Ue):Re.push(Ue)}return he}}const jo=["name","url"];function Do(a){const t=a&&Array.isArray(a),r=t&&a.length&&(!a[0]||jo.some(M=>!(M in a[0])));if(!t||r)throw new Error("Custom emojis are in the wrong format")}function ya(a){Do(a);const t=(Ue,Ie)=>Ue.name.toLowerCase()<Ie.name.toLowerCase()?-1:1,r=a.sort(t),L=Fo(a,Ue=>[...new Set((Ue.shortcodes||[]).map(Ie=>Qr(Ie)).flat())]),w=Ue=>L(Ue,!0),le=Ue=>L(Ue,!1),he=Ue=>{const Ie=Qr(Ue),ot=Ie.map((ft,yt)=>(yt<Ie.length-1?w:le)(ft));return ha(ot,ft=>ft.name).sort(t)},Re=new Map,ce=new Map;for(const Ue of a){ce.set(Ue.name.toLowerCase(),Ue);for(const Ie of Ue.shortcodes||[])Re.set(Ie.toLowerCase(),Ue)}return{all:r,search:he,byShortcode:Ue=>Re.get(Ue.toLowerCase()),byName:Ue=>ce.get(Ue.toLowerCase())}}function fn(a){if(!a)return a;if(delete a.tokens,a.skinTones){const t=a.skinTones.length;a.skins=Array(t);for(let r=0;r<t;r++)a.skins[r]={tone:a.skinTones[r],unicode:a.skinUnicodes[r],version:a.skinVersions[r]};delete a.skinTones,delete a.skinUnicodes,delete a.skinVersions}return a}function Sa(a){a||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const Vo=["annotation","emoji","group","order","tags","version"];function Uo(a){if(!a||!Array.isArray(a)||!a[0]||typeof a[0]!="object"||Vo.some(t=>!(t in a[0])))throw new Error("Emoji data is in the wrong format")}function ba(a,t){if(Math.floor(a.status/100)!==2)throw new Error("Failed to fetch: "+t+":  "+a.status)}async function Ho(a){const t=await fetch(a,{method:"HEAD"});ba(t,a);const r=t.headers.get("etag");return Sa(r),r}async function Zn(a){const t=await fetch(a);ba(t,a);const r=t.headers.get("etag");Sa(r);const M=await t.json();return Uo(M),[r,M]}function zo(a){for(var t="",r=new Uint8Array(a),M=r.byteLength,L=-1;++L<M;)t+=String.fromCharCode(r[L]);return t}function Go(a){for(var t=a.length,r=new ArrayBuffer(t),M=new Uint8Array(r),L=-1;++L<t;)M[L]=a.charCodeAt(L);return r}async function Ea(a){const t=JSON.stringify(a),r=Go(t),M=await crypto.subtle.digest("SHA-1",r),L=zo(M);return btoa(L)}async function Yo(a,t){let r,M=await Ho(t);if(!M){const L=await Zn(t);M=L[0],r=L[1],M||(M=await Ea(r))}await Oo(a,t,M)||(r||(r=(await Zn(t))[1]),await pa(a,r,t,M))}async function Ko(a,t){let[r,M]=await Zn(t);r||(r=await Ea(M)),await pa(a,M,t,r)}class Ra{constructor({dataSource:t=po,locale:r=go,customEmoji:M=[]}={}){this.dataSource=t,this.locale=r,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=ya(M),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await Eo(this._dbName);xo(this._dbName,this._clear);const r=this.dataSource;await Io(t)?await Ko(t,r):this._lazyUpdate=Yo(t,r)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return Wr(t),await this.ready(),ca(await Co(this._db,t)).map(fn)}async getEmojiBySearchQuery(t){Lr(t),await this.ready();const r=this._custom.search(t),M=ca(await ga(this._db,t)).map(fn);return[...r,...M]}async getEmojiByShortcode(t){Lr(t),await this.ready();const r=this._custom.byShortcode(t);return r||fn(await Bo(this._db,t))}async getEmojiByUnicodeOrName(t){Lr(t),await this.ready();const r=this._custom.byName(t);return r||fn(await Lo(this._db,t))}async getPreferredSkinTone(){return await this.ready(),await Wn(this._db,xr,Ur)||0}async setPreferredSkinTone(t){return Wr(t),await this.ready(),No(this._db,xr,Ur,t)}async incrementFavoriteEmojiCount(t){return Lr(t),await this.ready(),Po(this._db,t)}async getTopFavoriteEmoji(t){return Wr(t),await this.ready(),(await ko(this._db,this._custom,t)).map(fn)}set customEmoji(t){this._custom=ya(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await Kn(this._dbName)}async delete(){await this._shutdown(),await Ro(this._dbName)}}function mn(){}function xa(a){return a()}function Ta(){return Object.create(null)}function hn(a){a.forEach(xa)}function Aa(a){return typeof a=="function"}function Xo(a,t){return a!=a?t==t:a!==t||a&&typeof a=="object"||typeof a=="function"}let wn;function Cn(a,t){return wn||(wn=document.createElement("a")),wn.href=t,a===wn.href}function Wo(a){return Object.keys(a).length===0}function Zo(a){return a&&Aa(a.destroy)?a.destroy:mn}function Dt(a,t){a.appendChild(t)}function gr(a,t,r){a.insertBefore(t,r||null)}function yr(a){a.parentNode.removeChild(a)}function Ft(a){return document.createElement(a)}function _r(a){return document.createTextNode(a)}function Sr(a,t,r,M){return a.addEventListener(t,r,M),()=>a.removeEventListener(t,r,M)}function we(a,t,r){r==null?a.removeAttribute(t):a.getAttribute(t)!==r&&a.setAttribute(t,r)}function Mr(a,t){t=""+t,a.wholeText!==t&&(a.data=t)}function _a(a,t){a.value=t??""}function Nr(a,t,r,M){r===null?a.style.removeProperty(t):a.style.setProperty(t,r,M?"important":"")}let Qn;function pn(a){Qn=a}const gn=[],Jr=[],Bn=[],Ma=[],Ia=Promise.resolve();let Jn=!1;function Oa(){Jn||(Jn=!0,Ia.then(wa))}function Qo(){return Oa(),Ia}function $n(a){Bn.push(a)}const qn=new Set;let Ln=0;function wa(){const a=Qn;do{for(;Ln<gn.length;){const t=gn[Ln];Ln++,pn(t),Jo(t.$$)}for(pn(null),gn.length=0,Ln=0;Jr.length;)Jr.pop()();for(let t=0;t<Bn.length;t+=1){const r=Bn[t];qn.has(r)||(qn.add(r),r())}Bn.length=0}while(gn.length);for(;Ma.length;)Ma.pop()();Jn=!1,qn.clear(),pn(a)}function Jo(a){if(a.fragment!==null){a.update(),hn(a.before_update);const t=a.dirty;a.dirty=[-1],a.fragment&&a.fragment.p(a.ctx,t),a.after_update.forEach($n)}}const $o=new Set;function qo(a,t){a&&a.i&&($o.delete(a),a.i(t))}const es=typeof window<"u"?window:typeof globalThis<"u"?globalThis:d1;function yn(a,t){a.d(1),t.delete(a.key)}function Sn(a,t,r,M,L,w,le,he,Re,ce,Ae,_e){let Ue=a.length,Ie=w.length,ot=Ue;const ft={};for(;ot--;)ft[a[ot].key]=ot;const yt=[],Nt=new Map,nr=new Map;for(ot=Ie;ot--;){const Lt=_e(L,w,ot),_t=r(Lt);let Vt=le.get(_t);Vt?M&&Vt.p(Lt,t):(Vt=ce(_t,Lt),Vt.c()),Nt.set(_t,yt[ot]=Vt),_t in ft&&nr.set(_t,Math.abs(ot-ft[_t]))}const Yt=new Set,lr=new Set;function ur(Lt){qo(Lt,1),Lt.m(he,Ae),le.set(Lt.key,Lt),Ae=Lt.first,Ie--}for(;Ue&&Ie;){const Lt=yt[Ie-1],_t=a[Ue-1],Vt=Lt.key,dr=_t.key;Lt===_t?(Ae=Lt.first,Ue--,Ie--):Nt.has(dr)?!le.has(Vt)||Yt.has(Vt)?ur(Lt):lr.has(dr)?Ue--:nr.get(Vt)>nr.get(dr)?(lr.add(Vt),ur(Lt)):(Yt.add(dr),Ue--):(Re(_t,le),Ue--)}for(;Ue--;){const Lt=a[Ue];Nt.has(Lt.key)||Re(Lt,le)}for(;Ie;)ur(yt[Ie-1]);return yt}function ts(a,t,r,M){const{fragment:L,on_mount:w,on_destroy:le,after_update:he}=a.$$;L&&L.m(t,r),M||$n(()=>{const Re=w.map(xa).filter(Aa);le?le.push(...Re):hn(Re),a.$$.on_mount=[]}),he.forEach($n)}function rs(a,t){const r=a.$$;r.fragment!==null&&(hn(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function ns(a,t){a.$$.dirty[0]===-1&&(gn.push(a),Oa(),a.$$.dirty.fill(0)),a.$$.dirty[t/31|0]|=1<<t%31}function as(a,t,r,M,L,w,le,he=[-1]){const Re=Qn;pn(a);const ce=a.$$={fragment:null,ctx:null,props:w,update:mn,not_equal:L,bound:Ta(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(Re?Re.$$.context:[]),callbacks:Ta(),dirty:he,skip_bound:!1,root:t.target||Re.$$.root};le&&le(ce.root);let Ae=!1;ce.ctx=r?r(a,t.props||{},(_e,Ue,...Ie)=>{const ot=Ie.length?Ie[0]:Ue;return ce.ctx&&L(ce.ctx[_e],ce.ctx[_e]=ot)&&(!ce.skip_bound&&ce.bound[_e]&&ce.bound[_e](ot),Ae&&ns(a,_e)),Ue}):[],ce.update(),Ae=!0,hn(ce.before_update),ce.fragment=M?M(ce.ctx):!1,t.target&&(ce.fragment&&ce.fragment.c(),ts(a,t.target,void 0,void 0),wa()),pn(Re)}class os{$destroy(){rs(this,1),this.$destroy=mn}$on(t,r){const M=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return M.push(r),()=>{const L=M.indexOf(r);L!==-1&&M.splice(L,1)}}$set(t){this.$$set&&!Wo(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ca=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map(([a,t,r])=>({id:a,emoji:t,name:r})),Nn=Ca.slice(1),ss=Ca[0],is=2,Ba=6,La=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function Na(a){return a.unicode.includes("‍")}const ls={"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},us=1e3,cs="🖐️",ds=8,vs=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],Pa='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',fs=(a,t)=>a<t?-1:a>t?1:0,ka=(a,t)=>{const r=document.createElement("canvas");r.width=r.height=1;const M=r.getContext("2d");return M.textBaseline="top",M.font=`100px ${Pa}`,M.fillStyle=t,M.scale(.01,.01),M.fillText(a,0,0),M.getImageData(0,0,1,1).data},ms=(a,t)=>{const r=[...a].join(","),M=[...t].join(",");return r===M&&!r.startsWith("0,0,0,")};function hs(a){const t=ka(a,"#000"),r=ka(a,"#fff");return t&&r&&ms(t,r)}function ps(){const a=Object.entries(ls);try{for(const[t,r]of a)if(hs(t))return r}catch{}finally{}return a[0][1]}const ea=new Promise(a=>La(()=>a(ps()))),ta=new Map,gs="️",ys="\uD83C",Ss="‍",bs=127995,Es=57339;function Rs(a,t){if(t===0)return a;const r=a.indexOf(Ss);return r!==-1?a.substring(0,r)+String.fromCodePoint(bs+t-1)+a.substring(r):(a.endsWith(gs)&&(a=a.substring(0,a.length-1)),a+ys+String.fromCodePoint(Es+t-1))}function Pr(a){a.preventDefault(),a.stopPropagation()}function ra(a,t,r){return t+=a?-1:1,t<0?t=r.length-1:t>=r.length&&(t=0),t}function Fa(a,t){const r=new Set,M=[];for(const L of a){const w=t(L);r.has(w)||(r.add(w),M.push(L))}return M}function xs(a,t){const r=M=>{const L={};for(const w of M)typeof w.tone=="number"&&w.version<=t&&(L[w.tone]=w.unicode);return L};return a.map(({unicode:M,skins:L,shortcodes:w,url:le,name:he,category:Re})=>({unicode:M,name:he,shortcodes:w,url:le,category:Re,id:M||he,skins:L&&r(L),title:(w||[]).join(", ")}))}const Pn=requestAnimationFrame;let Ts=typeof ResizeObserver=="function";function As(a,t){let r;return Ts?(r=new ResizeObserver(M=>t(M[0].contentRect.width)),r.observe(a)):Pn(()=>t(a.getBoundingClientRect().width)),{destroy(){r&&r.disconnect()}}}function ja(a){{const t=document.createRange();return t.selectNode(a.firstChild),t.getBoundingClientRect().width}}let na;function _s(a,t,r){for(const M of a){const L=r(M),w=ja(L);typeof na>"u"&&(na=ja(t));const le=w/1.8<na;ta.set(M.unicode,le)}}function Ms(a){return Fa(a,t=>t)}const{Map:bn}=es;function Da(a,t,r){const M=a.slice();return M[63]=t[r],M[65]=r,M}function Va(a,t,r){const M=a.slice();return M[66]=t[r],M[65]=r,M}function Ua(a,t,r){const M=a.slice();return M[63]=t[r],M[65]=r,M}function Ha(a,t,r){const M=a.slice();return M[69]=t[r],M}function za(a,t,r){const M=a.slice();return M[72]=t[r],M[65]=r,M}function Ga(a,t){let r,M=t[72]+"",L,w,le,he,Re,ce;return{key:a,first:null,c(){r=Ft("div"),L=_r(M),we(r,"id",w="skintone-"+t[65]),we(r,"class",le="emoji hide-focus "+(t[65]===t[20]?"active":"")),we(r,"aria-selected",he=t[65]===t[20]),we(r,"role","option"),we(r,"title",Re=t[0].skinTones[t[65]]),we(r,"tabindex","-1"),we(r,"aria-label",ce=t[0].skinTones[t[65]]),this.first=r},m(Ae,_e){gr(Ae,r,_e),Dt(r,L)},p(Ae,_e){t=Ae,_e[0]&512&&M!==(M=t[72]+"")&&Mr(L,M),_e[0]&512&&w!==(w="skintone-"+t[65])&&we(r,"id",w),_e[0]&1049088&&le!==(le="emoji hide-focus "+(t[65]===t[20]?"active":""))&&we(r,"class",le),_e[0]&1049088&&he!==(he=t[65]===t[20])&&we(r,"aria-selected",he),_e[0]&513&&Re!==(Re=t[0].skinTones[t[65]])&&we(r,"title",Re),_e[0]&513&&ce!==(ce=t[0].skinTones[t[65]])&&we(r,"aria-label",ce)},d(Ae){Ae&&yr(r)}}}function Ya(a,t){let r,M,L=t[69].emoji+"",w,le,he,Re,ce,Ae,_e;function Ue(){return t[49](t[69])}return{key:a,first:null,c(){r=Ft("button"),M=Ft("div"),w=_r(L),we(M,"class","nav-emoji emoji"),we(r,"role","tab"),we(r,"class","nav-button"),we(r,"aria-controls",le="tab-"+t[69].id),we(r,"aria-label",he=t[0].categories[t[69].name]),we(r,"aria-selected",Re=!t[4]&&t[13].id===t[69].id),we(r,"title",ce=t[0].categories[t[69].name]),this.first=r},m(Ie,ot){gr(Ie,r,ot),Dt(r,M),Dt(M,w),Ae||(_e=Sr(r,"click",Ue),Ae=!0)},p(Ie,ot){t=Ie,ot[0]&4096&&L!==(L=t[69].emoji+"")&&Mr(w,L),ot[0]&4096&&le!==(le="tab-"+t[69].id)&&we(r,"aria-controls",le),ot[0]&4097&&he!==(he=t[0].categories[t[69].name])&&we(r,"aria-label",he),ot[0]&12304&&Re!==(Re=!t[4]&&t[13].id===t[69].id)&&we(r,"aria-selected",Re),ot[0]&4097&&ce!==(ce=t[0].categories[t[69].name])&&we(r,"title",ce)},d(Ie){Ie&&yr(r),Ae=!1,_e()}}}function Is(a){let t,r;return{c(){t=Ft("img"),we(t,"class","custom-emoji"),Cn(t.src,r=a[63].url)||we(t,"src",r),we(t,"alt",""),we(t,"loading","lazy")},m(M,L){gr(M,t,L)},p(M,L){L[0]&32768&&!Cn(t.src,r=M[63].url)&&we(t,"src",r)},d(M){M&&yr(t)}}}function Os(a){let t=a[27](a[63],a[8])+"",r;return{c(){r=_r(t)},m(M,L){gr(M,r,L)},p(M,L){L[0]&33024&&t!==(t=M[27](M[63],M[8])+"")&&Mr(r,t)},d(M){M&&yr(r)}}}function Ka(a,t){let r,M,L,w,le,he,Re;function ce(Ue,Ie){return Ue[63].unicode?Os:Is}let Ae=ce(t),_e=Ae(t);return{key:a,first:null,c(){r=Ft("button"),_e.c(),we(r,"role",M=t[4]?"option":"menuitem"),we(r,"aria-selected",L=t[4]?t[65]==t[5]:""),we(r,"aria-label",w=t[28](t[63],t[8])),we(r,"title",le=t[63].title),we(r,"class",he="emoji "+(t[4]&&t[65]===t[5]?"active":"")),we(r,"id",Re="emo-"+t[63].id),this.first=r},m(Ue,Ie){gr(Ue,r,Ie),_e.m(r,null)},p(Ue,Ie){t=Ue,Ae===(Ae=ce(t))&&_e?_e.p(t,Ie):(_e.d(1),_e=Ae(t),_e&&(_e.c(),_e.m(r,null))),Ie[0]&16&&M!==(M=t[4]?"option":"menuitem")&&we(r,"role",M),Ie[0]&32816&&L!==(L=t[4]?t[65]==t[5]:"")&&we(r,"aria-selected",L),Ie[0]&33024&&w!==(w=t[28](t[63],t[8]))&&we(r,"aria-label",w),Ie[0]&32768&&le!==(le=t[63].title)&&we(r,"title",le),Ie[0]&32816&&he!==(he="emoji "+(t[4]&&t[65]===t[5]?"active":""))&&we(r,"class",he),Ie[0]&32768&&Re!==(Re="emo-"+t[63].id)&&we(r,"id",Re)},d(Ue){Ue&&yr(r),_e.d()}}}function Xa(a,t){let r,M=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",L,w,le,he,Re=[],ce=new bn,Ae,_e,Ue,Ie=t[66].emojis;const ot=ft=>ft[63].id;for(let ft=0;ft<Ie.length;ft+=1){let yt=Ua(t,Ie,ft),Nt=ot(yt);ce.set(Nt,Re[ft]=Ka(Nt,yt))}return{key:a,first:null,c(){r=Ft("div"),L=_r(M),he=Ft("div");for(let ft=0;ft<Re.length;ft+=1)Re[ft].c();we(r,"id",w="menu-label-"+t[65]),we(r,"class",le="category "+(t[15].length===1&&t[15][0].category===""?"gone":"")),we(r,"aria-hidden","true"),we(he,"class","emoji-menu"),we(he,"role",Ae=t[4]?"listbox":"menu"),we(he,"aria-labelledby",_e="menu-label-"+t[65]),we(he,"id",Ue=t[4]?"search-results":""),this.first=r},m(ft,yt){gr(ft,r,yt),Dt(r,L),gr(ft,he,yt);for(let Nt=0;Nt<Re.length;Nt+=1)Re[Nt].m(he,null)},p(ft,yt){t=ft,yt[0]&40977&&M!==(M=(t[4]?t[0].searchResultsLabel:t[66].category?t[66].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&Mr(L,M),yt[0]&32768&&w!==(w="menu-label-"+t[65])&&we(r,"id",w),yt[0]&32768&&le!==(le="category "+(t[15].length===1&&t[15][0].category===""?"gone":""))&&we(r,"class",le),yt[0]&402686256&&(Ie=t[66].emojis,Re=Sn(Re,yt,ot,1,t,Ie,ce,he,yn,Ka,null,Ua)),yt[0]&16&&Ae!==(Ae=t[4]?"listbox":"menu")&&we(he,"role",Ae),yt[0]&32768&&_e!==(_e="menu-label-"+t[65])&&we(he,"aria-labelledby",_e),yt[0]&16&&Ue!==(Ue=t[4]?"search-results":"")&&we(he,"id",Ue)},d(ft){ft&&yr(r),ft&&yr(he);for(let yt=0;yt<Re.length;yt+=1)Re[yt].d()}}}function ws(a){let t,r;return{c(){t=Ft("img"),we(t,"class","custom-emoji"),Cn(t.src,r=a[63].url)||we(t,"src",r),we(t,"alt",""),we(t,"loading","lazy")},m(M,L){gr(M,t,L)},p(M,L){L[0]&1024&&!Cn(t.src,r=M[63].url)&&we(t,"src",r)},d(M){M&&yr(t)}}}function Cs(a){let t=a[27](a[63],a[8])+"",r;return{c(){r=_r(t)},m(M,L){gr(M,r,L)},p(M,L){L[0]&1280&&t!==(t=M[27](M[63],M[8])+"")&&Mr(r,t)},d(M){M&&yr(r)}}}function Wa(a,t){let r,M,L,w;function le(ce,Ae){return ce[63].unicode?Cs:ws}let he=le(t),Re=he(t);return{key:a,first:null,c(){r=Ft("button"),Re.c(),we(r,"role","menuitem"),we(r,"aria-label",M=t[28](t[63],t[8])),we(r,"title",L=t[63].title),we(r,"class","emoji"),we(r,"id",w="fav-"+t[63].id),this.first=r},m(ce,Ae){gr(ce,r,Ae),Re.m(r,null)},p(ce,Ae){t=ce,he===(he=le(t))&&Re?Re.p(t,Ae):(Re.d(1),Re=he(t),Re&&(Re.c(),Re.m(r,null))),Ae[0]&1280&&M!==(M=t[28](t[63],t[8]))&&we(r,"aria-label",M),Ae[0]&1024&&L!==(L=t[63].title)&&we(r,"title",L),Ae[0]&1024&&w!==(w="fav-"+t[63].id)&&we(r,"id",w)},d(ce){ce&&yr(r),Re.d()}}}function Bs(a){let t,r,M,L,w,le,he,Re,ce,Ae=a[0].searchLabel+"",_e,Ue,Ie=a[0].searchDescription+"",ot,ft,yt,Nt,nr,Yt,lr,ur=a[0].skinToneDescription+"",Lt,_t,Vt=[],dr=new bn,dt,et,bt,Et,Rt,Tt=[],Ht=new bn,Kt,Xt,Ot,Pt,ar,hr,Qt,vr,or=[],En=new bn,$r,qr,en,zr,ir,br=[],Fn=new bn,tn,Gr,Cr,Yr,Rn,rn,nn=a[9];const jn=rt=>rt[72];for(let rt=0;rt<nn.length;rt+=1){let vt=za(a,nn,rt),De=jn(vt);dr.set(De,Vt[rt]=Ga(De,vt))}let an=a[12];const Dn=rt=>rt[69].id;for(let rt=0;rt<an.length;rt+=1){let vt=Ha(a,an,rt),De=Dn(vt);Ht.set(De,Tt[rt]=Ya(De,vt))}let on=a[15];const Vn=rt=>rt[66].category;for(let rt=0;rt<on.length;rt+=1){let vt=Va(a,on,rt),De=Vn(vt);En.set(De,or[rt]=Xa(De,vt))}let sn=a[10];const Un=rt=>rt[63].id;for(let rt=0;rt<sn.length;rt+=1){let vt=Da(a,sn,rt),De=Un(vt);Fn.set(De,br[rt]=Wa(De,vt))}return{c(){t=Ft("section"),r=Ft("div"),M=Ft("div"),L=Ft("div"),w=Ft("input"),ce=Ft("label"),_e=_r(Ae),Ue=Ft("span"),ot=_r(Ie),ft=Ft("div"),yt=Ft("button"),Nt=_r(a[21]),lr=Ft("span"),Lt=_r(ur),_t=Ft("div");for(let rt=0;rt<Vt.length;rt+=1)Vt[rt].c();Rt=Ft("div");for(let rt=0;rt<Tt.length;rt+=1)Tt[rt].c();Xt=Ft("div"),Ot=Ft("div"),Pt=Ft("div"),ar=_r(a[18]),Qt=Ft("div"),vr=Ft("div");for(let rt=0;rt<or.length;rt+=1)or[rt].c();ir=Ft("div");for(let rt=0;rt<br.length;rt+=1)br[rt].c();Cr=Ft("button"),Cr.textContent="😀",we(r,"class","pad-top"),we(w,"id","search"),we(w,"class","search"),we(w,"type","search"),we(w,"role","combobox"),we(w,"enterkeyhint","search"),we(w,"placeholder",le=a[0].searchLabel),we(w,"autocapitalize","none"),we(w,"autocomplete","off"),we(w,"spellcheck","true"),we(w,"aria-expanded",he=!!(a[4]&&a[1].length)),we(w,"aria-controls","search-results"),we(w,"aria-describedby","search-description"),we(w,"aria-autocomplete","list"),we(w,"aria-activedescendant",Re=a[26]?`emo-${a[26]}`:""),we(ce,"class","sr-only"),we(ce,"for","search"),we(Ue,"id","search-description"),we(Ue,"class","sr-only"),we(L,"class","search-wrapper"),we(yt,"id","skintone-button"),we(yt,"class",nr="emoji "+(a[6]?"hide-focus":"")),we(yt,"aria-label",a[23]),we(yt,"title",a[23]),we(yt,"aria-describedby","skintone-description"),we(yt,"aria-haspopup","listbox"),we(yt,"aria-expanded",a[6]),we(yt,"aria-controls","skintone-list"),we(ft,"class",Yt="skintone-button-wrapper "+(a[19]?"expanded":"")),we(lr,"id","skintone-description"),we(lr,"class","sr-only"),we(_t,"id","skintone-list"),we(_t,"class",dt="skintone-list "+(a[6]?"":"hidden no-animate")),Nr(_t,"transform","translateY("+(a[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),we(_t,"role","listbox"),we(_t,"aria-label",et=a[0].skinTonesLabel),we(_t,"aria-activedescendant",bt="skintone-"+a[20]),we(_t,"aria-hidden",Et=!a[6]),we(M,"class","search-row"),we(Rt,"class","nav"),we(Rt,"role","tablist"),Nr(Rt,"grid-template-columns","repeat("+a[12].length+", 1fr)"),we(Rt,"aria-label",Kt=a[0].categoriesLabel),we(Ot,"class","indicator"),Nr(Ot,"transform","translateX("+(a[24]?-1:1)*a[11]*100+"%)"),we(Xt,"class","indicator-wrapper"),we(Pt,"class",hr="message "+(a[18]?"":"gone")),we(Pt,"role","alert"),we(Pt,"aria-live","polite"),we(Qt,"class",$r="tabpanel "+(!a[14]||a[18]?"gone":"")),we(Qt,"role",qr=a[4]?"region":"tabpanel"),we(Qt,"aria-label",en=a[4]?a[0].searchResultsLabel:a[0].categories[a[13].name]),we(Qt,"id",zr=a[4]?"":`tab-${a[13].id}`),we(Qt,"tabindex","0"),we(ir,"class",tn="favorites emoji-menu "+(a[18]?"gone":"")),we(ir,"role","menu"),we(ir,"aria-label",Gr=a[0].favoritesLabel),Nr(ir,"padding-inline-end",a[25]+"px"),we(Cr,"aria-hidden","true"),we(Cr,"tabindex","-1"),we(Cr,"class","abs-pos hidden emoji"),we(t,"class","picker"),we(t,"aria-label",Yr=a[0].regionLabel),we(t,"style",a[22])},m(rt,vt){gr(rt,t,vt),Dt(t,r),Dt(t,M),Dt(M,L),Dt(L,w),_a(w,a[2]),Dt(L,ce),Dt(ce,_e),Dt(L,Ue),Dt(Ue,ot),Dt(M,ft),Dt(ft,yt),Dt(yt,Nt),Dt(M,lr),Dt(lr,Lt),Dt(M,_t);for(let De=0;De<Vt.length;De+=1)Vt[De].m(_t,null);a[48](_t),Dt(t,Rt);for(let De=0;De<Tt.length;De+=1)Tt[De].m(Rt,null);Dt(t,Xt),Dt(Xt,Ot),Dt(t,Pt),Dt(Pt,ar),Dt(t,Qt),Dt(Qt,vr);for(let De=0;De<or.length;De+=1)or[De].m(vr,null);a[50](Qt),Dt(t,ir);for(let De=0;De<br.length;De+=1)br[De].m(ir,null);Dt(t,Cr),a[51](Cr),a[52](t),Rn||(rn=[Sr(w,"input",a[47]),Sr(w,"keydown",a[30]),Sr(yt,"click",a[35]),Sr(_t,"focusout",a[38]),Sr(_t,"click",a[34]),Sr(_t,"keydown",a[36]),Sr(_t,"keyup",a[37]),Sr(Rt,"keydown",a[32]),Zo(a[29].call(null,vr)),Sr(Qt,"click",a[33]),Sr(ir,"click",a[33])],Rn=!0)},p(rt,vt){vt[0]&1&&le!==(le=rt[0].searchLabel)&&we(w,"placeholder",le),vt[0]&18&&he!==(he=!!(rt[4]&&rt[1].length))&&we(w,"aria-expanded",he),vt[0]&67108864&&Re!==(Re=rt[26]?`emo-${rt[26]}`:"")&&we(w,"aria-activedescendant",Re),vt[0]&4&&_a(w,rt[2]),vt[0]&1&&Ae!==(Ae=rt[0].searchLabel+"")&&Mr(_e,Ae),vt[0]&1&&Ie!==(Ie=rt[0].searchDescription+"")&&Mr(ot,Ie),vt[0]&2097152&&Mr(Nt,rt[21]),vt[0]&64&&nr!==(nr="emoji "+(rt[6]?"hide-focus":""))&&we(yt,"class",nr),vt[0]&8388608&&we(yt,"aria-label",rt[23]),vt[0]&8388608&&we(yt,"title",rt[23]),vt[0]&64&&we(yt,"aria-expanded",rt[6]),vt[0]&524288&&Yt!==(Yt="skintone-button-wrapper "+(rt[19]?"expanded":""))&&we(ft,"class",Yt),vt[0]&1&&ur!==(ur=rt[0].skinToneDescription+"")&&Mr(Lt,ur),vt[0]&1049089&&(nn=rt[9],Vt=Sn(Vt,vt,jn,1,rt,nn,dr,_t,yn,Ga,null,za)),vt[0]&64&&dt!==(dt="skintone-list "+(rt[6]?"":"hidden no-animate"))&&we(_t,"class",dt),vt[0]&64&&Nr(_t,"transform","translateY("+(rt[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),vt[0]&1&&et!==(et=rt[0].skinTonesLabel)&&we(_t,"aria-label",et),vt[0]&1048576&&bt!==(bt="skintone-"+rt[20])&&we(_t,"aria-activedescendant",bt),vt[0]&64&&Et!==(Et=!rt[6])&&we(_t,"aria-hidden",Et),vt[0]&12305|vt[1]&1&&(an=rt[12],Tt=Sn(Tt,vt,Dn,1,rt,an,Ht,Rt,yn,Ya,null,Ha)),vt[0]&4096&&Nr(Rt,"grid-template-columns","repeat("+rt[12].length+", 1fr)"),vt[0]&1&&Kt!==(Kt=rt[0].categoriesLabel)&&we(Rt,"aria-label",Kt),vt[0]&16779264&&Nr(Ot,"transform","translateX("+(rt[24]?-1:1)*rt[11]*100+"%)"),vt[0]&262144&&Mr(ar,rt[18]),vt[0]&262144&&hr!==(hr="message "+(rt[18]?"":"gone"))&&we(Pt,"class",hr),vt[0]&402694449&&(on=rt[15],or=Sn(or,vt,Vn,1,rt,on,En,vr,yn,Xa,null,Va)),vt[0]&278528&&$r!==($r="tabpanel "+(!rt[14]||rt[18]?"gone":""))&&we(Qt,"class",$r),vt[0]&16&&qr!==(qr=rt[4]?"region":"tabpanel")&&we(Qt,"role",qr),vt[0]&8209&&en!==(en=rt[4]?rt[0].searchResultsLabel:rt[0].categories[rt[13].name])&&we(Qt,"aria-label",en),vt[0]&8208&&zr!==(zr=rt[4]?"":`tab-${rt[13].id}`)&&we(Qt,"id",zr),vt[0]&402654464&&(sn=rt[10],br=Sn(br,vt,Un,1,rt,sn,Fn,ir,yn,Wa,null,Da)),vt[0]&262144&&tn!==(tn="favorites emoji-menu "+(rt[18]?"gone":""))&&we(ir,"class",tn),vt[0]&1&&Gr!==(Gr=rt[0].favoritesLabel)&&we(ir,"aria-label",Gr),vt[0]&33554432&&Nr(ir,"padding-inline-end",rt[25]+"px"),vt[0]&1&&Yr!==(Yr=rt[0].regionLabel)&&we(t,"aria-label",Yr),vt[0]&4194304&&we(t,"style",rt[22])},i:mn,o:mn,d(rt){rt&&yr(t);for(let vt=0;vt<Vt.length;vt+=1)Vt[vt].d();a[48](null);for(let vt=0;vt<Tt.length;vt+=1)Tt[vt].d();for(let vt=0;vt<or.length;vt+=1)or[vt].d();a[50](null);for(let vt=0;vt<br.length;vt+=1)br[vt].d();a[51](null),a[52](null),Rn=!1,hn(rn)}}}function Ls(a,t,r){let{skinToneEmoji:M}=t,{i18n:L}=t,{database:w}=t,{customEmoji:le}=t,{customCategorySorting:he}=t,Re=!0,ce=[],Ae=[],_e="",Ue="",Ie,ot,ft,yt=!1,Nt=-1,nr,Yt=!1,lr=!1,ur,Lt=0,_t=0,Vt,dr,dt="",et=[],bt=[],Et,Rt=ds,Tt=!1,Ht=0,Kt=0,Xt=Nn,Ot,Pt=!1,ar;const hr=De=>{Ie.getRootNode().getElementById(De).focus()},Qt=(De,pt)=>{Ie.dispatchEvent(new CustomEvent(De,{detail:pt,bubbles:!0,composed:!0}))},vr=(De,pt)=>pt&&De.skins&&De.skins[pt]||De.unicode,or=(De,pt)=>Ms([De.name||vr(De,pt),...De.shortcodes||[]]).join(", "),En=De=>/^skintone-/.test(De.id);ea.then(De=>{De||r(18,nr=L.emojiUnsupportedMessage)});function $r(De){return As(De,pt=>{{const wt=getComputedStyle(Ie),Wt=parseInt(wt.getPropertyValue("--num-columns"),10),Er=wt.getPropertyValue("direction")==="rtl",Cl=De.parentElement.getBoundingClientRect().width-pt;r(46,Rt=Wt),r(25,Ht=Cl),r(24,Tt=Er)}})}function qr(De){const pt=Ie.getRootNode();_s(De,ot,Wt=>pt.getElementById(`emo-${Wt.id}`)),r(1,ce=ce)}function en(De){return!De.unicode||!Na(De)||ta.get(De.unicode)}async function zr(De){const pt=await ea;return De.filter(({version:wt})=>!wt||wt<=pt)}async function ir(De){return xs(De,await ea)}async function br(De){if(typeof De>"u")return[];const pt=De===-1?le:await w.getEmojiByGroup(De);return ir(await zr(pt))}async function Fn(De){return ir(await zr(await w.getEmojiBySearchQuery(De)))}function tn(De){if(!yt||!ce.length)return;const pt=wt=>{Pr(De),r(5,Nt=ra(wt,Nt,ce))};switch(De.key){case"ArrowDown":return pt(!1);case"ArrowUp":return pt(!0);case"Enter":if(Nt!==-1)return Pr(De),Yr(ce[Nt].id);ce.length&&r(5,Nt=0)}}function Gr(De){r(2,_e=""),r(44,Ue=""),r(5,Nt=-1),r(11,Kt=Xt.findIndex(pt=>pt.id===De.id))}function Cr(De){const{target:pt,key:wt}=De,Wt=Er=>{Er&&(Pr(De),Er.focus())};switch(wt){case"ArrowLeft":return Wt(pt.previousSibling);case"ArrowRight":return Wt(pt.nextSibling);case"Home":return Wt(pt.parentElement.firstChild);case"End":return Wt(pt.parentElement.lastChild)}}async function Yr(De){const pt=await w.getEmojiByUnicodeOrName(De),wt=[...ce,...bt].find(Er=>Er.id===De),Wt=wt.unicode&&vr(wt,Lt);await w.incrementFavoriteEmojiCount(De),Qt("emoji-click",{emoji:pt,skinTone:Lt,...Wt&&{unicode:Wt},...wt.name&&{name:wt.name}})}async function Rn(De){const{target:pt}=De;if(!pt.classList.contains("emoji"))return;Pr(De);const wt=pt.id.substring(4);Yr(wt)}async function rn(De){const{target:pt}=De;if(!En(pt))return;Pr(De);const wt=parseInt(pt.id.slice(9),10);r(8,Lt=wt),r(6,Yt=!1),hr("skintone-button"),Qt("skin-tone-change",{skinTone:wt}),w.setPreferredSkinTone(wt)}async function nn(De){r(6,Yt=!Yt),r(20,_t=Lt),Yt&&(Pr(De),Pn(()=>hr(`skintone-${_t}`)))}function jn(De){if(!Yt)return;const pt=async wt=>{Pr(De),r(20,_t=wt),await Qo(),hr(`skintone-${_t}`)};switch(De.key){case"ArrowUp":return pt(ra(!0,_t,et));case"ArrowDown":return pt(ra(!1,_t,et));case"Home":return pt(0);case"End":return pt(et.length-1);case"Enter":return rn(De);case"Escape":return Pr(De),r(6,Yt=!1),hr("skintone-button")}}function an(De){if(Yt)switch(De.key){case" ":return rn(De)}}async function Dn(De){const{relatedTarget:pt}=De;(!pt||!En(pt))&&r(6,Yt=!1)}function on(){_e=this.value,r(2,_e)}function Vn(De){Jr[De?"unshift":"push"](()=>{ur=De,r(7,ur)})}const sn=De=>Gr(De);function Un(De){Jr[De?"unshift":"push"](()=>{ft=De,r(3,ft)})}function rt(De){Jr[De?"unshift":"push"](()=>{ot=De,r(17,ot)})}function vt(De){Jr[De?"unshift":"push"](()=>{Ie=De,r(16,Ie)})}return a.$$set=De=>{"skinToneEmoji"in De&&r(40,M=De.skinToneEmoji),"i18n"in De&&r(0,L=De.i18n),"database"in De&&r(39,w=De.database),"customEmoji"in De&&r(41,le=De.customEmoji),"customCategorySorting"in De&&r(42,he=De.customCategorySorting)},a.$$.update=()=>{if(a.$$.dirty[1]&1280&&le&&w&&r(39,w.customEmoji=le,w),a.$$.dirty[0]&1|a.$$.dirty[1]&256){async function De(){let pt=!1;const wt=setTimeout(()=>{pt=!0,r(18,nr=L.loadingMessage)},us);try{await w.ready(),r(14,Pt=!0)}catch(Wt){console.error(Wt),r(18,nr=L.networkErrorMessage)}finally{clearTimeout(wt),pt&&(pt=!1,r(18,nr=""))}}w&&De()}if(a.$$.dirty[0]&6144|a.$$.dirty[1]&1024&&(le&&le.length?r(12,Xt=[ss,...Nn]):Xt!==Nn&&(Kt&&r(11,Kt--,Kt),r(12,Xt=Nn))),a.$$.dirty[0]&4&&La(()=>{r(44,Ue=(_e||"").trim()),r(5,Nt=-1)}),a.$$.dirty[0]&6144&&r(13,Ot=Xt[Kt]),a.$$.dirty[0]&24576|a.$$.dirty[1]&8192){async function De(){if(!Pt)r(1,ce=[]),r(4,yt=!1);else if(Ue.length>=is){const pt=Ue,wt=await Fn(pt);pt===Ue&&(r(1,ce=wt),r(4,yt=!0))}else if(Ot){const pt=Ot.id,wt=await br(pt);pt===Ot.id&&(r(1,ce=wt),r(4,yt=!1))}}De()}if(a.$$.dirty[0]&4112&&r(22,dr=`
  --font-family: ${Pa};
  --num-groups: ${Xt.length}; 
  --indicator-opacity: ${yt?0:1}; 
  --num-skintones: ${Ba};`),a.$$.dirty[0]&16384|a.$$.dirty[1]&256){async function De(){Pt&&r(8,Lt=await w.getPreferredSkinTone())}De()}if(a.$$.dirty[1]&512&&r(9,et=Array(Ba).fill().map((De,pt)=>Rs(M,pt))),a.$$.dirty[0]&768&&r(21,Vt=et[Lt]),a.$$.dirty[0]&257&&r(23,dt=L.skinToneLabel.replace("{skinTone}",L.skinTones[Lt])),a.$$.dirty[0]&16384|a.$$.dirty[1]&256){async function De(){r(45,Et=(await Promise.all(vs.map(pt=>w.getEmojiByUnicodeOrName(pt)))).filter(Boolean))}Pt&&De()}if(a.$$.dirty[0]&16384|a.$$.dirty[1]&49408){async function De(){const pt=await w.getTopFavoriteEmoji(Rt),wt=await ir(Fa([...pt,...Et],Wt=>Wt.unicode||Wt.name).slice(0,Rt));r(10,bt=wt)}Pt&&Et&&De()}if(a.$$.dirty[0]&10){const De=ce.filter(pt=>pt.unicode).filter(pt=>Na(pt)&&!ta.has(pt.unicode));De.length?Pn(()=>qr(De)):(r(1,ce=ce.filter(en)),Pn(()=>{(ft||{}).scrollTop=0}))}a.$$.dirty[0]&1026|a.$$.dirty[1]&4096,a.$$.dirty[0]&18|a.$$.dirty[1]&2048&&r(15,Ae=function(){if(yt)return[{category:"",emojis:ce}];const pt=new Map;for(const wt of ce){const Wt=wt.category||"";let Er=pt.get(Wt);Er||(Er=[],pt.set(Wt,Er)),Er.push(wt)}return[...pt.entries()].map(([wt,Wt])=>({category:wt,emojis:Wt})).sort((wt,Wt)=>he(wt.category,Wt.category))}()),a.$$.dirty[0]&34&&r(26,ar=Nt!==-1&&ce[Nt].id),a.$$.dirty[0]&192&&(Yt?ur.addEventListener("transitionend",()=>{r(19,lr=!0)},{once:!0}):r(19,lr=!1))},[L,ce,_e,ft,yt,Nt,Yt,ur,Lt,et,bt,Kt,Xt,Ot,Pt,Ae,Ie,ot,nr,lr,_t,Vt,dr,dt,Tt,Ht,ar,vr,or,$r,tn,Gr,Cr,Rn,rn,nn,jn,an,Dn,w,M,le,he,Re,Ue,Et,Rt,on,Vn,sn,Un,rt,vt]}class Ns extends os{constructor(t){super(),as(this,t,Ls,Bs,Xo,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const Ps="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",ks="en";var Fs={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Za=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class Qa extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(r),this._ctx={locale:ks,dataSource:Ps,skinToneEmoji:cs,customCategorySorting:fs,customEmoji:null,i18n:Fs,...t};for(const M of Za)M!=="database"&&Object.prototype.hasOwnProperty.call(this,M)&&(this._ctx[M]=this[M],delete this[M]);this._dbFlush()}connectedCallback(){this._cmp=new Ns({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t&&t.close().catch(r=>console.error(r))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(t,r,M){this._set(t.replace(/-([a-z])/g,(L,w)=>w.toUpperCase()),M)}_set(t,r){this._ctx[t]=r,this._cmp&&this._cmp.$set({[t]:r}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:r,database:M}=this._ctx;(!M||M.locale!==t||M.dataSource!==r)&&this._set("database",new Ra({locale:t,dataSource:r}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const Ja={};for(const a of Za)Ja[a]={get(){return a==="database"&&this._dbCreate(),this._ctx[a]},set(t){if(a==="database")throw new Error("database is read-only");this._set(a,t)}};Object.defineProperties(Qa.prototype,Ja),customElements.get("emoji-picker")||customElements.define("emoji-picker",Qa);var js={class:"vac-emoji-wrapper"},Ds={ref:"emojiPicker","v-if":"emojiOpened"};function Vs(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",js,[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-svg-button",{"vac-emoji-reaction":r.emojiReaction}]),onClick:t[0]||(t[0]=function(){return w.openEmoji&&w.openEmoji.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"emoji-picker-icon",{},function(){return[(0,e.createVNode)(le,{name:"emoji",param:r.emojiReaction?"reaction":""},null,8,["param"])]})],2),r.emojiOpened?((0,e.openBlock)(),(0,e.createBlock)(e.Transition,{key:0,name:"vac-slide-up",appear:""},{default:(0,e.withCtx)(function(){return[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-emoji-picker",{"vac-picker-reaction":r.emojiReaction}]),style:(0,e.normalizeStyle)({height:"".concat(L.emojiPickerHeight,"px"),top:r.positionTop?L.emojiPickerHeight:"".concat(L.emojiPickerTop,"px"),right:L.emojiPickerRight,display:L.emojiPickerTop||!r.emojiReaction?"initial":"none"})},[(0,e.createElementVNode)("emoji-picker",Ds,null,512)],6)]}),_:1})):(0,e.createCommentVNode)("",!0)])}const Us={name:"EmojiPickerContainer",components:{SvgIcon:Z},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1}},emits:["add-emoji","open-emoji"],data:function(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened:function(t){var r=this;t&&setTimeout(function(){r.addCustomStyling(),r.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",function(M){var L=M.detail;r.$emit("add-emoji",{unicode:L.unicode})})},0)}},methods:{addCustomStyling:function(){var t=`.picker {
				border: none;
			}`,r=`.nav {
				overflow-x: auto;
			}`,M=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,L=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-border-style);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-bg-color-input);
				color: var(--chat-color);
			}`,w=document.createElement("style");w.textContent=t+r+M+L,this.$refs.emojiPicker.shadowRoot.appendChild(w)},openEmoji:function(t){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(t.clientY,t.view.innerWidth,t.view.innerHeight)},setEmojiPickerPosition:function(t,r,M){var L=r<500||M<700,w=document.getElementById("room-footer");if(!w){L&&(this.emojiPickerRight="-50px");return}if(L)this.emojiPickerRight=r/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=M-200;else{var le=w.getBoundingClientRect().top,he=le-t>this.emojiPickerHeight-50;he?this.emojiPickerTop=t+10:this.emojiPickerTop=t-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":""}}}},$a=(0,O.Z)(Us,[["render",Vs]]);var Hs={class:"vac-files-box"},zs={class:"vac-icon-close"};function Gs(a,t,r,M,L,w){var le=(0,e.resolveComponent)("room-file"),he=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:(0,e.withCtx)(function(){return[r.files.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-room-files-container",style:(0,e.normalizeStyle)({bottom:"".concat(w.footerHeight,"px")})},[(0,e.createElementVNode)("div",Hs,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.files,function(Re,ce){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:ce},[(0,e.createVNode)(le,{file:Re,index:ce,onRemoveFile:t[0]||(t[0]=function(Ae){return a.$emit("remove-file",Ae)})},null,8,["file","index"])])}),128))]),(0,e.createElementVNode)("div",zs,[(0,e.createElementVNode)("div",{class:"vac-svg-button",onClick:t[1]||(t[1]=function(Re){return a.$emit("reset-message")})},[(0,e.renderSlot)(a.$slots,"reply-close-icon",{},function(){return[(0,e.createVNode)(he,{name:"close-outline"})]})])])],4)):(0,e.createCommentVNode)("",!0)]}),_:3})}var Ys={class:"vac-room-file-container"},Ks=["src"],Xs={class:"vac-text-ellipsis"},Ws={key:0,class:"vac-text-ellipsis vac-text-extension"};function Zs(a,t,r,M,L,w){var le=(0,e.resolveComponent)("loader"),he=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",Ys,[(0,e.createVNode)(le,{show:r.file.loading},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Re,ce){return{name:ce,fn:(0,e.withCtx)(function(Ae){return[(0,e.renderSlot)(a.$slots,ce,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ae)))]})}})]),1032,["show"]),(0,e.createElementVNode)("div",{class:"vac-svg-button vac-icon-remove",onClick:t[0]||(t[0]=function(Re){return a.$emit("remove-file",r.index)})},[(0,e.renderSlot)(a.$slots,"image-close-icon",{},function(){return[(0,e.createVNode)(he,{name:"close",param:"image"})]})]),w.isImage?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["vac-message-image",{"vac-blur-loading":r.file.loading}]),style:(0,e.normalizeStyle)({"background-image":"url('".concat(r.file.localUrl||r.file.url,"')")})},null,6)):w.isVideo?((0,e.openBlock)(),(0,e.createElementBlock)("video",{key:1,controls:"",class:(0,e.normalizeClass)({"vac-blur-loading":r.file.loading})},[(0,e.createElementVNode)("source",{src:r.file.localUrl||r.file.url},null,8,Ks)],2)):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:(0,e.normalizeClass)(["vac-file-container",{"vac-blur-loading":r.file.loading}])},[(0,e.createElementVNode)("div",null,[(0,e.renderSlot)(a.$slots,"file-icon",{},function(){return[(0,e.createVNode)(he,{name:"file"})]})]),(0,e.createElementVNode)("div",Xs,(0,e.toDisplayString)(r.file.name),1),r.file.extension?((0,e.openBlock)(),(0,e.createElementBlock)("div",Ws,(0,e.toDisplayString)(r.file.extension),1)):(0,e.createCommentVNode)("",!0)],2))])}var qa=je(8438),Qs=qa.isImageFile,Js=qa.isVideoFile;const $s={name:"RoomFiles",components:{Loader:T,SvgIcon:Z},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage:function(){return Qs(this.file)},isVideo:function(){return Js(this.file)}}},qs={name:"RoomFiles",components:{SvgIcon:Z,RoomFile:(0,O.Z)($s,[["render",Zs]])},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}}},ei=(0,O.Z)(qs,[["render",Gs]]);var ti={class:"vac-reply-box"},ri={class:"vac-reply-info"},ni={class:"vac-reply-username"},ai={class:"vac-reply-content"},oi=["src"],si={key:1,controls:"",class:"vac-image-reply"},ii=["src"],li={key:3,class:"vac-image-reply vac-file-container"},ui={class:"vac-text-ellipsis"},ci={key:0,class:"vac-text-ellipsis vac-text-extension"},di={class:"vac-icon-reply"};function vi(a,t,r,M,L,w){var le=(0,e.resolveComponent)("format-message"),he=(0,e.resolveComponent)("audio-player"),Re=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:(0,e.withCtx)(function(){return[r.messageReply?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-reply-container",style:(0,e.normalizeStyle)({bottom:"".concat(w.footerHeight,"px")})},[(0,e.createElementVNode)("div",ti,[(0,e.createElementVNode)("div",ri,[(0,e.createElementVNode)("div",ni,(0,e.toDisplayString)(r.messageReply.username),1),(0,e.createElementVNode)("div",ai,[(0,e.createVNode)(le,{content:r.messageReply.content,users:r.room.users,"text-formatting":r.textFormatting,"link-options":r.linkOptions,reply:!0},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["content","users","text-formatting","link-options"])])]),w.isImage?((0,e.openBlock)(),(0,e.createElementBlock)("img",{key:0,src:w.firstFile.url,class:"vac-image-reply"},null,8,oi)):w.isVideo?((0,e.openBlock)(),(0,e.createElementBlock)("video",si,[(0,e.createElementVNode)("source",{src:w.firstFile.url},null,8,ii)])):w.isAudio?((0,e.openBlock)(),(0,e.createBlock)(he,{key:2,src:w.firstFile.url,class:"vac-audio-reply"},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["src"])):w.isOtherFile?((0,e.openBlock)(),(0,e.createElementBlock)("div",li,[(0,e.createElementVNode)("div",null,[(0,e.renderSlot)(a.$slots,"file-icon",{},function(){return[(0,e.createVNode)(Re,{name:"file"})]})]),(0,e.createElementVNode)("div",ui,(0,e.toDisplayString)(w.firstFile.name),1),w.firstFile.extension?((0,e.openBlock)(),(0,e.createElementBlock)("div",ci,(0,e.toDisplayString)(w.firstFile.extension),1)):(0,e.createCommentVNode)("",!0)])):(0,e.createCommentVNode)("",!0)]),(0,e.createElementVNode)("div",di,[(0,e.createElementVNode)("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=function(ce){return a.$emit("reset-message")})},[(0,e.renderSlot)(a.$slots,"reply-close-icon",{},function(){return[(0,e.createVNode)(Re,{name:"close-outline"})]})])])],4)):(0,e.createCommentVNode)("",!0)]}),_:3})}var fi={class:"vac-audio-player"},mi=["id","src"];function hi(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon"),he=(0,e.resolveComponent)("audio-control");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[(0,e.createElementVNode)("div",fi,[(0,e.createElementVNode)("div",{class:"vac-svg-button",onClick:t[0]||(t[0]=function(){return w.playback&&w.playback.apply(w,arguments)})},[L.isPlaying?(0,e.renderSlot)(a.$slots,"audio-pause-icon",{key:0},function(){return[(0,e.createVNode)(le,{name:"audio-pause"})]}):(0,e.renderSlot)(a.$slots,"audio-play-icon",{key:1},function(){return[(0,e.createVNode)(le,{name:"audio-play"})]})]),(0,e.createVNode)(he,{percentage:L.progress,"message-selection-enabled":r.messageSelectionEnabled,onChangeLinehead:w.onUpdateProgress,onHoverAudioProgress:t[1]||(t[1]=function(Re){return a.$emit("hover-audio-progress",Re)})},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),(0,e.createElementVNode)("audio",{id:w.playerUniqId,src:w.audioSource},null,8,mi)])])}var pi={class:"vac-player-progress"},gi={class:"vac-line-container"};function yi(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{ref:"progress",class:"vac-player-bar",onMousedown:t[0]||(t[0]=function(){return w.onMouseDown&&w.onMouseDown.apply(w,arguments)}),onMouseover:t[1]||(t[1]=function(le){return a.$emit("hover-audio-progress",!0)}),onMouseout:t[2]||(t[2]=function(le){return a.$emit("hover-audio-progress",!1)})},[(0,e.createElementVNode)("div",pi,[(0,e.createElementVNode)("div",gi,[(0,e.createElementVNode)("div",{class:"vac-line-progress",style:(0,e.normalizeStyle)({width:"".concat(r.percentage,"%")})},null,4),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-line-dot",{"vac-line-dot__active":L.isMouseDown}]),style:(0,e.normalizeStyle)({left:"".concat(r.percentage,"%")})},null,6)])])],544)}const Si={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data:function(){return{isMouseDown:!1}},methods:{onMouseDown:function(t){if(!this.messageSelectionEnabled){this.isMouseDown=!0;var r=this.calculateLineHeadPosition(t,this.$refs.progress);this.$emit("change-linehead",r),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},onMouseUp:function(t){if(!this.messageSelectionEnabled){this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);var r=this.calculateLineHeadPosition(t,this.$refs.progress);this.$emit("change-linehead",r)}},onMouseMove:function(t){if(!this.messageSelectionEnabled){var r=this.calculateLineHeadPosition(t,this.$refs.progress);this.$emit("change-linehead",r)}},calculateLineHeadPosition:function(t,r){var M=r.getBoundingClientRect().width,L=r.getBoundingClientRect().left,w=(t.clientX-L)/M;return w=w<0?0:w,w=w>1?1:w,w}}},bi={name:"AudioPlayer",components:{SvgIcon:Z,AudioControl:(0,O.Z)(Si,[["render",yi]])},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data:function(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId:function(){return"audio-player".concat(this.messageId)},audioSource:function(){return this.src?this.src:(this.resetProgress(),null)}},mounted:function(){var t=this;this.player=document.getElementById(this.playerUniqId),this.player.addEventListener("ended",function(){t.isPlaying=!1}),this.player.addEventListener("loadeddata",function(){t.resetProgress(),t.duration=t.convertTimeMMSS(t.player.duration),t.updateProgressTime()}),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS:function(t){return new Date(t*1e3).toISOString().substr(14,5)},playback:function(){var t=this;this.messageSelectionEnabled||!this.audioSource||(this.isPlaying?this.player.pause():setTimeout(function(){return t.player.play()}),this.isPlaying=!this.isPlaying)},resetProgress:function(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate:function(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress:function(t){t&&(this.player.currentTime=t*this.player.duration)},updateProgressTime:function(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},aa=(0,O.Z)(bi,[["render",hi]]);var oa=je(8438),Ei=oa.isAudioFile,Ri=oa.isImageFile,xi=oa.isVideoFile;const Ti={name:"RoomMessageReply",components:{SvgIcon:Z,FormatMessage:tt,AudioPlayer:aa},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight},firstFile:function(){var t,r;return(t=this.messageReply)!==null&&t!==void 0&&(r=t.files)!==null&&r!==void 0&&r.length?this.messageReply.files[0]:{}},isImage:function(){return Ri(this.firstFile)},isVideo:function(){return xi(this.firstFile)},isAudio:function(){return Ei(this.firstFile)},isOtherFile:function(){var t,r;return((t=this.messageReply)===null||t===void 0||(r=t.files)===null||r===void 0?void 0:r.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Ai=(0,O.Z)(Ti,[["render",vi]]);var _i=["onMouseover","onClick"],Mi={class:"vac-tags-info"},Ii={class:"vac-tags-username"};function Oi(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:(0,e.withCtx)(function(){return[r.filteredUsersTag.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-tags-container",style:(0,e.normalizeStyle)({bottom:"".concat(w.footerHeight,"px")})},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.filteredUsersTag,function(le,he){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:le._id,class:(0,e.normalizeClass)(["vac-tags-box",{"vac-tags-box-active":he===L.activeItem}]),onMouseover:function(ce){return L.activeItem=he},onClick:function(ce){return a.$emit("select-user-tag",le)}},[(0,e.createElementVNode)("div",Mi,[le.avatar?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-avatar vac-tags-avatar",style:(0,e.normalizeStyle)({"background-image":"url('".concat(le.avatar,"')")})},null,4)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",Ii,(0,e.toDisplayString)(le.username),1)])],42,_i)}),128))],4)):(0,e.createCommentVNode)("",!0)]}),_:1})}const wi={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredUsersTag:function(t,r){(!r.length||t.length!==r.length)&&(this.activeItem=0)},selectItem:function(t){t&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Ci=(0,O.Z)(wi,[["render",Oi]]);var Bi=["onMouseover","onClick"];function Li(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:(0,e.withCtx)(function(){return[r.filteredEmojis.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-emojis-container",style:(0,e.normalizeStyle)({bottom:"".concat(w.footerHeight,"px")})},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.filteredEmojis,function(le,he){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:le,class:(0,e.normalizeClass)(["vac-emoji-element",{"vac-emoji-element-active":he===L.activeItem}]),onMouseover:function(ce){return L.activeItem=he},onClick:function(ce){return a.$emit("select-emoji",le)}},(0,e.toDisplayString)(le),43,Bi)}),128))],4)):(0,e.createCommentVNode)("",!0)]}),_:1})}const Ni={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredEmojis:function(t,r){(!r.length||t.length!==r.length)&&(this.activeItem=0)},selectItem:function(t){t&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Pi=(0,O.Z)(Ni,[["render",Li]]);var ki=["onMouseover","onClick"],Fi={class:"vac-template-info"},ji={class:"vac-template-tag"},Di={class:"vac-template-text"};function Vi(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-slide-up"},{default:(0,e.withCtx)(function(){return[r.filteredTemplatesText.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-template-container vac-app-box-shadow",style:(0,e.normalizeStyle)({bottom:"".concat(w.footerHeight,"px")})},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.filteredTemplatesText,function(le,he){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:he,class:(0,e.normalizeClass)(["vac-template-box",{"vac-template-active":he===L.activeItem}]),onMouseover:function(ce){return L.activeItem=he},onClick:function(ce){return a.$emit("select-template-text",le)}},[(0,e.createElementVNode)("div",Fi,[(0,e.createElementVNode)("div",ji," /"+(0,e.toDisplayString)(le.tag),1),(0,e.createElementVNode)("div",Di,(0,e.toDisplayString)(le.text),1)])],42,ki)}),128))],4)):(0,e.createCommentVNode)("",!0)]}),_:1})}const Ui={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredTemplatesText:function(t,r){(!r.length||t.length!==r.length)&&(this.activeItem=0)},selectItem:function(t){t&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Hi=(0,O.Z)(Ui,[["render",Vi]]);function eo(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function to(a,t){for(var r=0;r<t.length;r++){var M=t[r];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(a,M.key,M)}}function ro(a,t,r){return t&&to(a.prototype,t),r&&to(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}je(4812),je(4678),je(6977),je(9575),je(7145),je(8675),je(2990),je(8927),je(3105),je(5035),je(4345),je(7174),je(2846),je(4731),je(7209),je(6319),je(8867),je(7789),je(3739),je(9368),je(4483),je(2056),je(3462),je(678),je(7462),je(3824),je(5021),je(2974),je(5016),je(7380),je(1118),je(3843),je(4197),je(5109);var kn;try{kn=je(5644)}catch{kn={missing:!0}}var zi=kn,Gi=zi.Mp3Encoder,Yi=function(){function a(t){if(eo(this,a),kn.missing)throw new Error('You must add lamejs in your dependencies to use the audio recorder. Please run "npm install lamejs --save"');this.bitRate=t.bitRate,this.sampleRate=t.sampleRate,this.dataBuffer=[],this.encoder=new Gi(1,this.sampleRate,this.bitRate)}return ro(a,[{key:"encode",value:function(r){for(var M=1152,L=this._convertBuffer(r),w=L.length,le=0;w>=0;le+=M){var he=L.subarray(le,le+M),Re=this.encoder.encodeBuffer(he);this.dataBuffer.push(new Int8Array(Re)),w-=M}}},{key:"finish",value:function(){this.dataBuffer.push(this.encoder.flush());var r=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:r,url:URL.createObjectURL(r)}}},{key:"_floatTo16BitPCM",value:function(r,M){for(var L=0;L<r.length;L++){var w=Math.max(-1,Math.min(1,r[L]));M[L]=w<0?w*32768:w*32767}}},{key:"_convertBuffer",value:function(r){var M=new Float32Array(r),L=new Int16Array(r.length);return this._floatTo16BitPCM(M,L),L}}]),a}(),Ki=function(){function a(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};eo(this,a),this.beforeRecording=t.beforeRecording,this.pauseRecording=t.pauseRecording,this.afterRecording=t.afterRecording,this.micFailed=t.micFailed,this.encoderOptions={bitRate:t.bitRate,sampleRate:t.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}return ro(a,[{key:"start",value:function(){var r={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(r).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this.lameEncoder||(this.lameEncoder=new Yi(this.encoderOptions))}},{key:"stop",value:function(){this.stream.getTracks().forEach(function(M){return M.stop()}),this.input.disconnect(),this.processor.disconnect(),this.context.close();var r=null;r=this.lameEncoder.finish(),r.duration=this.duration,this.records.push(r),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(r)}},{key:"pause",value:function(){this.stream.getTracks().forEach(function(r){return r.stop()}),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}},{key:"_micCaptured",value:function(r){var M=this;this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(r),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=r,this.processor.onaudioprocess=function(L){var w=L.inputBuffer.getChannelData(0),le=0;M.lameEncoder&&M.lameEncoder.encode(w);for(var he=0;he<w.length;++he)le+=w[he]*w[he];M.duration=parseFloat(M._duration)+parseFloat(M.context.currentTime.toFixed(2)),M.volume=Math.sqrt(le/w.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"_micError",value:function(r){this.micFailed&&this.micFailed(r)}}]),a}(),Xi=je(8772),no=Xi.detectMobile;const Wi={name:"RoomFooter",components:{SvgIcon:Z,EmojiPickerContainer:$a,RoomFiles:ei,RoomMessageReply:Ai,RoomUsersTag:Ci,RoomEmojis:Pi,RoomTemplatesText:Hi},directives:{clickOutside:Jt},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data:function(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new Ra,emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty:function(){return!this.files.length&&!this.message.trim()},isFileLoading:function(){return this.files.some(function(t){return t.loading})},recordedTime:function(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter:function(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId:function(){var t=this;this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout(function(){return t.onChangeInput()}))},message:function(t){this.getTextareaRef().value=t},roomMessage:{immediate:!0,handler:function(t){t&&(this.message=this.roomMessage)}},editedMessage:function(t){this.$emit("update-edited-message-id",t._id)},initReplyMessage:function(t){this.replyMessage(t)},initEditMessage:function(t){this.editMessage(t)}},mounted:function(){var t=this,r=no(),M=!0;this.getTextareaRef().addEventListener("keyup",function(L){L.key==="Enter"&&!L.shiftKey&&!t.fileDialog&&(r?(t.message=t.message+`
`,setTimeout(function(){return t.onChangeInput()})):M&&!t.filteredEmojis.length&&!t.filteredUsersTag.length&&!t.filteredTemplatesText.length&&t.sendMessage()),M=!L.isComposing,setTimeout(function(){t.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",function(){r&&(t.keepKeyboardOpen=!0),t.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",function(){t.resetFooterList(),r&&setTimeout(function(){return t.keepKeyboardOpen=!1})})},beforeUnmount:function(){this.stopRecorder()},methods:{getTextareaRef:function(){return this.$refs.roomTextarea},focusTextarea:function(t){var r=this;no()&&t||this.getTextareaRef()&&(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(function(){r.getTextareaRef().setSelectionRange(r.cursorRangePosition,r.cursorRangePosition),r.cursorRangePosition=null}))},onChangeInput:function(){var t,r;if((t=this.getTextareaRef())!==null&&t!==void 0&&t.value||((r=this.getTextareaRef())===null||r===void 0?void 0:r.value)===""){var M;this.message=(M=this.getTextareaRef())===null||M===void 0?void 0:M.value}this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea:function(){var t=this.getTextareaRef();if(t){var r=window.getComputedStyle(t,null).getPropertyValue("padding-top").replace("px","");t.style.height=0,t.style.height=t.scrollHeight-r*2+"px"}},escapeTextarea:function(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage:function(t){var r,M=this,L=(r=t.clipboardData)===null||r===void 0?void 0:r.items;L&&Array.from(L).forEach(function(w){if(w.type.includes("image")){var le=w.getAsFile();M.onFileChange([le])}})},updateActiveUpOrDown:function(t){this.filteredEmojis.length?this.activeUpOrDownEmojis=t:this.filteredUsersTag.length?this.activeUpOrDownUsersTag=t:this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=t)},selectItem:function(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji:function(t){if(this.selectEmojiItem=!1,!!t){var r=this.getCharPosition(":"),M=r.position,L=r.endPosition;this.message=this.message.substr(0,M-1)+t+this.message.substr(L,this.message.length-1),this.cursorRangePosition=M,this.focusTextarea()}},selectTemplateText:function(t){if(this.selectTemplatesTextItem=!1,!!t){var r=this.getCharPosition("/"),M=r.position,L=r.endPosition,w=this.message.substr(L,L).length?"":" ";this.message=this.message.substr(0,M-1)+t.text+w+this.message.substr(L,this.message.length-1),this.cursorRangePosition=M+t.text.length+w.length+1,this.focusTextarea()}},addEmoji:function(t){this.message+=t.unicode,this.focusTextarea(!0)},launchFilePicker:function(){this.$refs.file.value="",this.$refs.file.click()},onFileChange:function(t){var r=this;return Fr(Rr().mark(function M(){return Rr().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:r.fileDialog=!0,r.focusTextarea(),Array.from(t).forEach(function(){var le=Fr(Rr().mark(function he(Re){var ce,Ae,_e,Ue;return Rr().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return ce=URL.createObjectURL(Re),Ae=Re.name.lastIndexOf("."),r.files.push({loading:!0,name:Re.name.substring(0,Ae),size:Re.size,type:Re.type,extension:Re.name.substring(Ae+1),localUrl:ce}),ot.next=5,fetch(ce).then(function(ft){return ft.blob()});case 5:_e=ot.sent,Ue=r.files.find(function(ft){return ft.localUrl===ce}),Ue&&(Ue.blob=_e,Ue.loading=!1,delete Ue.loading);case 8:case"end":return ot.stop()}},he)}));return function(he){return le.apply(this,arguments)}}()),setTimeout(function(){return r.fileDialog=!1},500);case 4:case"end":return w.stop()}},M)}))()},removeFile:function(t){this.files.splice(t,1),this.focusTextarea()},toggleRecorder:function(t){var r=this;if(this.isRecording=t,!this.recorder.isRecording)setTimeout(function(){return r.recorder.start()},200);else try{this.recorder.stop();var M=this.recorder.records[0];this.files.push({blob:M.blob,name:"audio.".concat(this.format),size:M.blob.size,duration:M.duration,type:M.blob.type,audio:!0,localUrl:URL.createObjectURL(M.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(function(){return r.stopRecorder()},100)}},stopRecorder:function(){var t=this;if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(function(){return t.stopRecorder()},100)}},textareaActionHandler:function(){this.$emit("textarea-action-handler",this.message)},sendMessage:function(){var t=this.message.trim();if(!(!this.files.length&&!t)&&!this.isFileLoading){this.selectedUsersTag.forEach(function(L){t=t.replace("@".concat(L.username),"<usertag>".concat(L._id,"</usertag>"))});var r=this.files.length?this.files:null;if(this.editedMessage._id){var M;(this.editedMessage.content!==t||(M=this.editedMessage.files)!==null&&M!==void 0&&M.length||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:t,files:r,replyMessage:this.messageReply,usersTag:this.selectedUsersTag})}else this.$emit("send-message",{content:t,files:r,replyMessage:this.messageReply,usersTag:this.selectedUsersTag});this.resetMessage(!0)}},editMessage:function(t){var r=this;this.resetMessage(),this.editedMessage=m({},t);var M=t.content,L=M,w="<usertag>",le="</usertag>",he=xt(M.matchAll(new RegExp(w,"gi"))).map(function(Re){return Re.index});he.forEach(function(Re){var ce=L.substring(Re+w.length,L.indexOf(le,Re)),Ae=r.room.users.find(function(_e){return _e._id===ce});M=M.replace("".concat(w).concat(ce).concat(le),"@".concat((Ae==null?void 0:Ae.username)||"unknown")),r.selectUserTag(Ae,!0)}),this.message=M,t.files&&(this.files=xt(t.files)),setTimeout(function(){return r.resizeTextarea()})},replyMessage:function(t){this.editedMessage={},this.messageReply=t,this.focusTextarea()},updateFooterLists:function(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList:function(t){if(this.getTextareaRef()&&!(t===":"&&!this.emojisSuggestionEnabled)&&!(t==="@"&&(!this.userTagsEnabled||!this.room.users))&&!(t==="/"&&!this.templatesText)){for(var r=this.getTextareaRef().selectionStart,M=r;M>0&&this.message.charAt(M-1)!==t&&(this.message.charAt(M-1)!==" "||t!==":");)M--;var L=this.message.charAt(M-2),w=!L.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(M-1)===t&&(!L||L===" "||w)){var le=this.message.substring(M,r);t===":"?this.updateEmojis(le):t==="@"?this.updateShowUsersTag(le):t==="/"&&this.updateShowTemplatesText(le)}else this.resetFooterList(t)}},updateShowUsersTag:function(t){var r=this;this.filteredUsersTag=pe(this.room.users,"username",t,!0).filter(function(M){return M._id!==r.currentUserId})},selectUserTag:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.selectUsersTagItem=!1,!!t){var M=this.getCharPosition("@"),L=M.position,w=M.endPosition,le=this.message.substr(w,w).length?"":" ";this.message=this.message.substr(0,L)+t.username+le+this.message.substr(w,this.message.length-1),this.selectedUsersTag=[].concat(xt(this.selectedUsersTag),[m({},t)]),r||(this.cursorRangePosition=L+t.username.length+le.length+1),this.focusTextarea()}},updateShowTemplatesText:function(t){this.filteredTemplatesText=pe(this.templatesText,"tag",t,!0)},getCharPosition:function(t){for(var r=this.getTextareaRef().selectionStart,M=r;M>0&&this.message.charAt(M-1)!==t;)M--;var L=this.getTextareaRef().selectionEnd;return{position:M,endPosition:L}},updateEmojis:function(t){var r=this;return Fr(Rr().mark(function M(){var L;return Rr().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(t){le.next=2;break}return le.abrupt("return");case 2:return le.next=4,r.emojisDB.getEmojiBySearchQuery(t);case 4:L=le.sent,r.filteredEmojis=L.map(function(he){return he.unicode});case 6:case"end":return le.stop()}},M)}))()},resetFooterList:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;t===":"?this.filteredEmojis=[]:t==="@"?this.filteredUsersTag=[]:t==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage:function(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;M||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),(this.textareaAutoFocus||!M)&&setTimeout(function(){return t.focusTextarea(r)})},resetTextareaSize:function(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing:function(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder:function(){return this.isRecording=!1,new Ki({bitRate:this.audioBitRate,sampleRate:this.audioSampleRate,beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed:function(){this.isRecording=!1,this.recorder=this.initRecorder()}}},Zi=(0,O.Z)(Wi,[["render",Ut]]);var Qi=["id"],Ji={key:0,class:"vac-card-info vac-card-date"},$i={key:1,class:"vac-line-new"},qi={key:2,class:"vac-card-info vac-card-system"},e0={key:1,class:"vac-avatar-offset"},t0={key:2},r0={key:0,class:"vac-progress-time"},n0={class:"vac-text-timestamp"},a0={key:0,class:"vac-icon-edited"},o0={key:1},s0=(0,e.createElementVNode)("div",{class:"vac-failure-text"}," ! ",-1),i0=[s0],l0={key:3,class:"vac-avatar-current-offset"};function u0(a,t,r,M,L,w){var le=(0,e.resolveComponent)("format-message"),he=(0,e.resolveComponent)("message-reply"),Re=(0,e.resolveComponent)("svg-icon"),ce=(0,e.resolveComponent)("message-files"),Ae=(0,e.resolveComponent)("audio-player"),_e=(0,e.resolveComponent)("message-actions"),Ue=(0,e.resolveComponent)("message-reactions");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{id:r.message._id,ref:"message",class:"vac-message-wrapper"},[w.showDate?((0,e.openBlock)(),(0,e.createElementBlock)("div",Ji,(0,e.toDisplayString)(r.message.date),1)):(0,e.createCommentVNode)("",!0),L.newMessage._id===r.message._id?((0,e.openBlock)(),(0,e.createElementBlock)("div",$i,(0,e.toDisplayString)(r.textMessages.NEW_MESSAGES),1)):(0,e.createCommentVNode)("",!0),r.message.system?((0,e.openBlock)(),(0,e.createElementBlock)("div",qi,[(0,e.renderSlot)(a.$slots,"system-message",(0,e.normalizeProps)((0,e.guardReactiveProps)({message:r.message})),function(){return[(0,e.createVNode)(le,{content:r.message.content,users:r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onOpenUserTag:w.openUserTag},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["content","users","text-formatting","link-options","onOpenUserTag"])]})])):((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:3,class:(0,e.normalizeClass)(["vac-message-box",{"vac-offset-current":r.message.senderId===r.currentUserId}]),onClick:t[8]||(t[8]=function(){return w.selectMessage&&w.selectMessage.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"message",(0,e.normalizeProps)((0,e.guardReactiveProps)({message:r.message})),function(){return[r.message.avatar&&r.message.senderId!==r.currentUserId?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:"vac-avatar",style:(0,e.normalizeStyle)({"background-image":"url('".concat(r.message.avatar,"')")})},null,4)):(0,e.createCommentVNode)("",!0),w.hasSenderUserAvatar&&!r.message.avatar?((0,e.openBlock)(),(0,e.createElementBlock)("div",e0)):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-message-container",{"vac-message-container-offset":w.messageOffset}])},[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-message-card",{"vac-message-highlight":w.isMessageHover,"vac-message-current":r.message.senderId===r.currentUserId,"vac-message-deleted":r.message.deleted,"vac-item-clickable":r.messageSelectionEnabled,"vac-message-selected":w.isMessageSelected}]),onMouseover:t[5]||(t[5]=function(){return w.onHoverMessage&&w.onHoverMessage.apply(w,arguments)}),onMouseleave:t[6]||(t[6]=function(){return w.onLeaveMessage&&w.onLeaveMessage.apply(w,arguments)})},[w.showUsername?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["vac-text-username",{"vac-username-reply":!r.message.deleted&&r.message.replyMessage}])},[(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(r.message.username),1)],2)):(0,e.createCommentVNode)("",!0),!r.message.deleted&&r.message.replyMessage?((0,e.openBlock)(),(0,e.createBlock)(he,{key:1,message:r.message,"room-users":r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["message","room-users","text-formatting","link-options"])):(0,e.createCommentVNode)("",!0),r.message.deleted?((0,e.openBlock)(),(0,e.createElementBlock)("div",t0,[(0,e.renderSlot)(a.$slots,"deleted-icon",{},function(){return[(0,e.createVNode)(Re,{name:"deleted",class:"vac-icon-deleted"})]}),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(r.textMessages.MESSAGE_DELETED),1)])):!r.message.files||!r.message.files.length?((0,e.openBlock)(),(0,e.createBlock)(le,{key:3,content:r.message.content,users:r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onOpenUserTag:w.openUserTag},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["content","users","text-formatting","link-options","onOpenUserTag"])):!w.isAudio||r.message.files.length>1?((0,e.openBlock)(),(0,e.createBlock)(ce,{key:4,"current-user-id":r.currentUserId,message:r.message,"room-users":r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,"message-selection-enabled":r.messageSelectionEnabled,onOpenFile:w.openFile,onOpenUserTag:w.openUserTag},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:5},[(0,e.createVNode)(Ae,{"message-id":r.message._id,src:r.message.files[0].url,"message-selection-enabled":r.messageSelectionEnabled,onUpdateProgressTime:t[0]||(t[0]=function(Ie){return L.progressTime=Ie}),onHoverAudioProgress:t[1]||(t[1]=function(Ie){return L.hoverAudioProgress=Ie})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["message-id","src","message-selection-enabled"]),r.message.deleted?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createElementBlock)("div",r0,(0,e.toDisplayString)(L.progressTime),1))],64)),(0,e.createElementVNode)("div",n0,[r.message.edited&&!r.message.deleted?((0,e.openBlock)(),(0,e.createElementBlock)("div",a0,[(0,e.renderSlot)(a.$slots,"pencil-icon",{},function(){return[(0,e.createVNode)(Re,{name:"pencil"})]})])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(r.message.timestamp),1),w.isCheckmarkVisible?((0,e.openBlock)(),(0,e.createElementBlock)("span",o0,[(0,e.renderSlot)(a.$slots,"checkmark-icon",(0,e.normalizeProps)((0,e.guardReactiveProps)({message:r.message})),function(){return[(0,e.createVNode)(Re,{name:r.message.distributed?"double-checkmark":"checkmark",param:r.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]})])):(0,e.createCommentVNode)("",!0)]),(0,e.createVNode)(_e,{"current-user-id":r.currentUserId,message:r.message,"message-actions":r.messageActions,"show-reaction-emojis":r.showReactionEmojis,"message-hover":L.messageHover,"hover-message-id":L.hoverMessageId,"hover-audio-progress":L.hoverAudioProgress,onUpdateMessageHover:t[2]||(t[2]=function(Ie){return L.messageHover=Ie}),onUpdateOptionsOpened:t[3]||(t[3]=function(Ie){return L.optionsOpened=Ie}),onUpdateEmojiOpened:t[4]||(t[4]=function(Ie){return L.emojiOpened=Ie}),onMessageActionHandler:w.messageActionHandler,onSendMessageReaction:w.sendMessageReaction},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ie,ot){return{name:ot,fn:(0,e.withCtx)(function(ft){return[(0,e.renderSlot)(a.$slots,ot,(0,e.normalizeProps)((0,e.guardReactiveProps)(ft)))]})}})]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","onMessageActionHandler","onSendMessageReaction"])],34),(0,e.createVNode)(Ue,{"current-user-id":r.currentUserId,message:r.message,onSendMessageReaction:w.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),(0,e.renderSlot)(a.$slots,"message-failure",(0,e.normalizeProps)((0,e.guardReactiveProps)({message:r.message})),function(){return[r.message.failure&&r.message.senderId===r.currentUserId?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":r.message.avatar&&r.message.senderId===r.currentUserId}]),onClick:t[7]||(t[7]=function(Ie){return a.$emit("open-failed-message",{message:r.message})})},i0,2)):(0,e.createCommentVNode)("",!0)]}),r.message.avatar&&r.message.senderId===r.currentUserId?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:2,class:"vac-avatar vac-avatar-current",style:(0,e.normalizeStyle)({"background-image":"url('".concat(r.message.avatar,"')")})},null,4)):(0,e.createCommentVNode)("",!0),w.hasCurrentUserAvatar&&!r.message.avatar?((0,e.openBlock)(),(0,e.createElementBlock)("div",l0)):(0,e.createCommentVNode)("",!0)]})],2))],8,Qi)}je(5827);var c0={class:"vac-reply-message"},d0={class:"vac-reply-username"},v0={key:0,class:"vac-image-reply-container"},f0={key:1,class:"vac-video-reply-container"},m0={width:"100%",height:"100%",controls:""},h0=["src"],p0={key:3,class:"vac-file-container"},g0={class:"vac-text-ellipsis"},y0={key:0,class:"vac-text-ellipsis vac-text-extension"},S0={class:"vac-reply-content"};function b0(a,t,r,M,L,w){var le=(0,e.resolveComponent)("audio-player"),he=(0,e.resolveComponent)("svg-icon"),Re=(0,e.resolveComponent)("format-message");return(0,e.openBlock)(),(0,e.createElementBlock)("div",c0,[(0,e.createElementVNode)("div",d0,(0,e.toDisplayString)(w.replyUsername),1),w.isImage?((0,e.openBlock)(),(0,e.createElementBlock)("div",v0,[(0,e.createElementVNode)("div",{class:"vac-message-image vac-message-image-reply",style:(0,e.normalizeStyle)({"background-image":"url('".concat(w.firstFile.url,"')")})},null,4)])):w.isVideo?((0,e.openBlock)(),(0,e.createElementBlock)("div",f0,[(0,e.createElementVNode)("video",m0,[(0,e.createElementVNode)("source",{src:w.firstFile.url},null,8,h0)])])):w.isAudio?((0,e.openBlock)(),(0,e.createBlock)(le,{key:2,src:w.firstFile.url,onUpdateProgressTime:t[0]||(t[0]=function(ce){return a.progressTime=ce}),onHoverAudioProgress:t[1]||(t[1]=function(ce){return a.hoverAudioProgress=ce})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["src"])):w.isOtherFile?((0,e.openBlock)(),(0,e.createElementBlock)("div",p0,[(0,e.createElementVNode)("div",null,[(0,e.renderSlot)(a.$slots,"file-icon",{},function(){return[(0,e.createVNode)(he,{name:"file"})]})]),(0,e.createElementVNode)("div",g0,(0,e.toDisplayString)(w.firstFile.name),1),w.firstFile.extension?((0,e.openBlock)(),(0,e.createElementBlock)("div",y0,(0,e.toDisplayString)(w.firstFile.extension),1)):(0,e.createCommentVNode)("",!0)])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",S0,[(0,e.createVNode)(Re,{content:r.message.replyMessage.content,users:r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,reply:!0},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["content","users","text-formatting","link-options"])])])}var sa=je(8438),E0=sa.isAudioFile,R0=sa.isImageFile,x0=sa.isVideoFile;const T0={name:"MessageReply",components:{AudioPlayer:aa,SvgIcon:Z,FormatMessage:tt},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername:function(){var t=this.message.replyMessage.senderId,r=this.roomUsers.find(function(M){return M._id===t});return r?r.username:""},firstFile:function(){var t,r;return(t=this.message.replyMessage)!==null&&t!==void 0&&(r=t.files)!==null&&r!==void 0&&r.length?this.message.replyMessage.files[0]:{}},isAudio:function(){return E0(this.firstFile)},isImage:function(){return R0(this.firstFile)},isVideo:function(){return x0(this.firstFile)},isOtherFile:function(){var t;return((t=this.message.replyMessage.files)===null||t===void 0?void 0:t.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},A0=(0,O.Z)(T0,[["render",b0]]);var _0={class:"vac-message-files-container"},M0=["onClick"],I0={class:"vac-svg-button"},O0={class:"vac-text-ellipsis"},w0={key:0,class:"vac-text-ellipsis vac-text-extension"};function C0(a,t,r,M,L,w){var le=(0,e.resolveComponent)("message-file"),he=(0,e.resolveComponent)("progress-bar"),Re=(0,e.resolveComponent)("svg-icon"),ce=(0,e.resolveComponent)("format-message");return(0,e.openBlock)(),(0,e.createElementBlock)("div",_0,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(w.imageVideoFiles,function(Ae,_e){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:_e+"iv"},[(0,e.createVNode)(le,{file:Ae,"current-user-id":r.currentUserId,message:r.message,index:_e,"message-selection-enabled":r.messageSelectionEnabled,onOpenFile:t[0]||(t[0]=function(Ue){return a.$emit("open-file",Ue)})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ue,Ie){return{name:Ie,fn:(0,e.withCtx)(function(ot){return[(0,e.renderSlot)(a.$slots,Ie,(0,e.normalizeProps)((0,e.guardReactiveProps)(ot)))]})}})]),1032,["file","current-user-id","message","index","message-selection-enabled"])])}),128)),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(w.otherFiles,function(Ae,_e){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:_e+"a",class:"vac-file-wrapper"},[Ae.progress>=0?((0,e.openBlock)(),(0,e.createBlock)(he,{key:0,progress:Ae.progress,style:{top:"44px"}},null,8,["progress"])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-file-container",{"vac-file-container-progress":Ae.progress>=0}]),onClick:function(Ie){return w.openFile(Ie,Ae,"download")}},[(0,e.createElementVNode)("div",I0,[(0,e.renderSlot)(a.$slots,"document-icon",{},function(){return[(0,e.createVNode)(Re,{name:"document"})]})]),(0,e.createElementVNode)("div",O0,(0,e.toDisplayString)(Ae.name),1),Ae.extension?((0,e.openBlock)(),(0,e.createElementBlock)("div",w0,(0,e.toDisplayString)(Ae.extension),1)):(0,e.createCommentVNode)("",!0)],10,M0)])}),128)),(0,e.createVNode)(ce,{content:r.message.content,users:r.roomUsers,"text-formatting":r.textFormatting,"link-options":r.linkOptions,onOpenUserTag:t[1]||(t[1]=function(Ae){return a.$emit("open-user-tag",Ae)})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(Ae,_e){return{name:_e,fn:(0,e.withCtx)(function(Ue){return[(0,e.renderSlot)(a.$slots,_e,(0,e.normalizeProps)((0,e.guardReactiveProps)(Ue)))]})}})]),1032,["content","users","text-formatting","link-options"])])}var B0={ref:"progress",class:"vac-progress-wrapper"},L0=["height","width"],N0=["stroke-dasharray","stroke-width","r","cx","cy"],P0={class:"vac-progress-text"},k0=(0,e.createElementVNode)("span",{class:"vac-progress-pourcent"},"%",-1);function F0(a,t,r,M,L,w){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{name:"vac-fade-spinner",appear:""},{default:(0,e.withCtx)(function(){return[(0,e.createElementVNode)("div",B0,[((0,e.openBlock)(),(0,e.createElementBlock)("svg",{height:L.radius*2,width:L.radius*2},[(0,e.createElementVNode)("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":L.circumference+" "+L.circumference,style:(0,e.normalizeStyle)({strokeDashoffset:w.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":L.stroke,fill:"transparent",r:L.normalizedRadius,cx:L.radius,cy:L.radius},null,12,N0)],8,L0)),(0,e.createElementVNode)("div",{class:"vac-progress-content",style:(0,e.normalizeStyle)({height:L.radius*2-19+"px",width:L.radius*2-19+"px"})},[(0,e.createElementVNode)("div",P0,[(0,e.createTextVNode)((0,e.toDisplayString)(r.progress),1),k0])],4)],512)]}),_:1})}const j0={name:"ProgressBar",props:{progress:{type:Number,default:0}},data:function(){var t=35,r=4,M=t-r*2,L=M*2*Math.PI;return{radius:t,stroke:r,normalizedRadius:M,circumference:L}},computed:{strokeDashoffset:function(){return this.circumference-this.progress/100*this.circumference}}},ao=(0,O.Z)(j0,[["render",F0]]);var D0={class:"vac-message-file-container"},V0={key:0,class:"vac-image-buttons"},U0={width:"100%",height:"100%",controls:""},H0=["src"];function z0(a,t,r,M,L,w){var le=(0,e.resolveComponent)("progress-bar"),he=(0,e.resolveComponent)("loader"),Re=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",D0,[w.isImage?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,ref:"imageRef"+r.index,class:"vac-message-image-container",onMouseover:t[2]||(t[2]=function(ce){return L.imageHover=!0}),onMouseleave:t[3]||(t[3]=function(ce){return L.imageHover=!1}),onClick:t[4]||(t[4]=function(ce){return w.openFile(ce,"preview")})},[r.file.progress>=0?((0,e.openBlock)(),(0,e.createBlock)(le,{key:0,progress:r.file.progress,style:(0,e.normalizeStyle)({top:"".concat(L.imageResponsive.loaderTop,"px")})},null,8,["progress","style"])):((0,e.openBlock)(),(0,e.createBlock)(he,{key:1,show:w.isImageLoading,style:(0,e.normalizeStyle)({top:"".concat(L.imageResponsive.loaderTop,"px")})},(0,e.createSlots)({_:2},[(0,e.renderList)(a.$slots,function(ce,Ae){return{name:Ae,fn:(0,e.withCtx)(function(_e){return[(0,e.renderSlot)(a.$slots,Ae,(0,e.normalizeProps)((0,e.guardReactiveProps)(_e)))]})}})]),1032,["show","style"])),(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["vac-message-image",{"vac-blur-loading":w.isImageLoading&&r.message.senderId===r.currentUserId}]),style:(0,e.normalizeStyle)({"background-image":"url('".concat(w.isImageLoading&&r.file.preview||r.file.url,"')"),"max-height":"".concat(L.imageResponsive.maxHeight,"px")})},[(0,e.createVNode)(e.Transition,{name:"vac-fade-image"},{default:(0,e.withCtx)(function(){return[!r.messageSelectionEnabled&&L.imageHover&&!w.isImageLoading?((0,e.openBlock)(),(0,e.createElementBlock)("div",V0,[(0,e.createElementVNode)("div",{class:"vac-svg-button vac-button-view",onClick:t[0]||(t[0]=function(ce){return w.openFile(ce,"preview")})},[(0,e.renderSlot)(a.$slots,"eye-icon",{},function(){return[(0,e.createVNode)(Re,{name:"eye"})]})]),(0,e.createElementVNode)("div",{class:"vac-svg-button vac-button-download",onClick:t[1]||(t[1]=function(ce){return w.openFile(ce,"download")})},[(0,e.renderSlot)(a.$slots,"document-icon",{},function(){return[(0,e.createVNode)(Re,{name:"document"})]})])])):(0,e.createCommentVNode)("",!0)]}),_:3})],6)],544)):w.isVideo?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:1,class:"vac-video-container",onClick:t[5]||(t[5]=(0,e.withModifiers)(function(ce){return w.openFile("preview")},["prevent"]))},[r.file.progress>=0?((0,e.openBlock)(),(0,e.createBlock)(le,{key:0,progress:r.file.progress},null,8,["progress"])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("video",U0,[(0,e.createElementVNode)("source",{src:r.file.url},null,8,H0)])])):(0,e.createCommentVNode)("",!0)])}var oo=je(8438),so=oo.isImageFile,G0=oo.isVideoFile;const Y0={name:"MessageFile",components:{SvgIcon:Z,Loader:T,ProgressBar:ao},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data:function(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading:function(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage:function(){return so(this.file)},isVideo:function(){return G0(this.file)}},watch:{file:{immediate:!0,handler:function(){this.checkImgLoad()}}},mounted:function(){var t=this.$refs["imageRef"+this.index];t&&(this.imageResponsive={maxHeight:t.clientWidth-18,loaderTop:t.clientHeight/2-9})},methods:{checkImgLoad:function(){var t=this;if(so(this.file)){this.imageLoading=!0;var r=new Image;r.src=this.file.url,r.addEventListener("load",function(){return t.imageLoading=!1})}},openFile:function(t,r){this.messageSelectionEnabled||(t.stopPropagation(),this.$emit("open-file",{file:this.file,action:r}))}}},K0=(0,O.Z)(Y0,[["render",z0]]);var X0=je(8438),io=X0.isImageVideoFile;const W0={name:"MessageFiles",components:{SvgIcon:Z,FormatMessage:tt,ProgressBar:ao,MessageFile:K0},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles:function(){return this.message.files.filter(function(t){return io(t)})},otherFiles:function(){return this.message.files.filter(function(t){return!io(t)})}},methods:{openFile:function(t,r,M){this.messageSelectionEnabled||(t.stopPropagation(),this.$emit("open-file",{file:r,action:M}))}}},Z0=(0,O.Z)(W0,[["render",C0]]);var Q0={class:"vac-message-actions-wrapper"},J0={key:"3"},$0={class:"vac-menu-list"},q0=["onClick"];function el(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon"),he=(0,e.resolveComponent)("emoji-picker-container"),Re=(0,e.resolveDirective)("click-outside");return(0,e.openBlock)(),(0,e.createElementBlock)("div",Q0,[(0,e.createElementVNode)("div",{class:"vac-options-container",style:(0,e.normalizeStyle)({display:r.hoverAudioProgress?"none":"initial",width:w.filteredMessageActions.length&&r.showReactionEmojis?"70px":"45px"})},[(0,e.createVNode)(e.TransitionGroup,{name:"vac-slide-left",tag:"span"},{default:(0,e.withCtx)(function(){return[w.isMessageActions||w.isMessageReactions?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:"1",class:(0,e.normalizeClass)(["vac-blur-container",{"vac-options-me":r.message.senderId===r.currentUserId}])},null,2)):(0,e.createCommentVNode)("",!0),w.isMessageActions?((0,e.openBlock)(),(0,e.createElementBlock)("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:t[0]||(t[0]=function(){return w.openOptions&&w.openOptions.apply(w,arguments)})},[(0,e.renderSlot)(a.$slots,"dropdown-icon",{},function(){return[(0,e.createVNode)(le,{name:"dropdown",param:"message"})]})],512)):(0,e.createCommentVNode)("",!0),w.isMessageReactions?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",J0,[(0,e.renderSlot)(a.$slots,"emoji-picker",(0,e.mergeProps)({emojiOpened:L.emojiOpened},{addEmoji:w.sendMessageReaction}),function(){return[(0,e.createVNode)(he,{class:"vac-message-emojis",style:(0,e.normalizeStyle)({right:w.isMessageActions?"30px":"5px"}),"emoji-opened":L.emojiOpened,"emoji-reaction":!0,"position-right":r.message.senderId===r.currentUserId,onAddEmoji:w.sendMessageReaction,onOpenEmoji:w.openEmoji},{"emoji-picker-icon":(0,e.withCtx)(function(){return[(0,e.renderSlot)(a.$slots,"emoji-picker-reaction-icon")]}),_:3},8,["style","emoji-opened","position-right","onAddEmoji","onOpenEmoji"])]})])),[[Re,w.closeEmoji]]):(0,e.createCommentVNode)("",!0)]}),_:3})],4),w.filteredMessageActions.length?((0,e.openBlock)(),(0,e.createBlock)(e.Transition,{key:0,name:r.message.senderId===r.currentUserId?"vac-slide-left":"vac-slide-right"},{default:(0,e.withCtx)(function(){return[L.optionsOpened?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,ref:"menuOptions",class:(0,e.normalizeClass)(["vac-menu-options",{"vac-menu-left":r.message.senderId!==r.currentUserId}]),style:(0,e.normalizeStyle)({top:"".concat(L.menuOptionsTop,"px")})},[(0,e.createElementVNode)("div",$0,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(w.filteredMessageActions,function(ce){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:ce.name},[(0,e.createElementVNode)("div",{class:"vac-menu-item",onClick:function(_e){return w.messageActionHandler(ce)}},(0,e.toDisplayString)(ce.title),9,q0)])}),128))])],6)),[[Re,w.closeOptions]]):(0,e.createCommentVNode)("",!0)]}),_:1},8,["name"])):(0,e.createCommentVNode)("",!0)])}const tl={name:"MessageActions",components:{SvgIcon:Z,EmojiPickerContainer:$a},directives:{clickOutside:Jt},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data:function(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions:function(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions:function(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions:function(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(function(t){return!t.onlyMe})}},watch:{emojiOpened:function(t){this.$emit("update-emoji-opened",t),t&&(this.optionsOpened=!1)},optionsOpened:function(t){this.$emit("update-options-opened",t)}},methods:{openOptions:function(){var t=this;this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(function(){var r=document.getElementById("room-footer");if(!(!r||!t.$refs.menuOptions||!t.$refs.actionIcon)){var M=t.$refs.menuOptions.getBoundingClientRect().height,L=t.$refs.actionIcon.getBoundingClientRect().top,w=r.getBoundingClientRect().top,le=w-L>M+50;le?t.menuOptionsTop=30:t.menuOptionsTop=-M}}))},closeOptions:function(){var t=this;this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(function(){return t.optionsClosing=!1},100)},openEmoji:function(){this.emojiOpened=!this.emojiOpened},closeEmoji:function(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover:function(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler:function(t){this.closeOptions(),this.$emit("message-action-handler",t)},sendMessageReaction:function(t,r){this.$emit("send-message-reaction",{emoji:t,reaction:r}),this.closeEmoji()}}},rl=(0,O.Z)(tl,[["render",el]]);var nl=["onClick"];function al(a,t,r,M,L,w){return r.message.deleted?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createBlock)(e.TransitionGroup,{key:0,name:"vac-slide-left",tag:"span"},{default:(0,e.withCtx)(function(){return[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.message.reactions,function(le,he){return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:he+0,class:(0,e.normalizeClass)(["vac-button-reaction",{"vac-reaction-me":le.indexOf(r.currentUserId)!==-1}]),style:(0,e.normalizeStyle)({float:r.message.senderId===r.currentUserId?"right":"left"}),onClick:function(ce){return w.sendMessageReaction({unicode:he},le)}},[(0,e.createTextVNode)((0,e.toDisplayString)(he),1),(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(le.length),1)],14,nl)),[[e.vShow,le.length]])}),128))]}),_:1}))}const ol={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction:function(t,r){this.$emit("send-message-reaction",{emoji:t,reaction:r})}}},sl=(0,O.Z)(ol,[["render",al]]);var il=je(9706),ll=il.messagesValidation,ul=je(8438),cl=ul.isAudioFile;const dl={name:"RoomMessage",components:{SvgIcon:Z,FormatMessage:tt,AudioPlayer:aa,MessageReply:A0,MessageFiles:Z0,MessageActions:rl,MessageReactions:sl},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:function(){return[]}},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:function(){return[]}},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:function(){return[]}}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data:function(){return{hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername:function(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate:function(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset:function(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover:function(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio:function(){var t;return(t=this.message.files)===null||t===void 0?void 0:t.some(function(r){return cl(r)})},isCheckmarkVisible:function(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar:function(){var t=this;return this.messages.some(function(r){return r.senderId===t.currentUserId&&r.avatar})},hasSenderUserAvatar:function(){var t=this;return this.messages.some(function(r){return r.senderId!==t.currentUserId&&r.avatar})},isMessageSelected:function(){var t=this;return this.messageSelectionEnabled&&!!this.selectedMessages.find(function(r){return r._id===t.message._id})}},watch:{newMessages:{immediate:!0,deep:!0,handler:function(t){if(!t.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=t.reduce(function(r,M){return M.index<r.index?M:r})}},messageSelectionEnabled:function(){this.resetMessageHover()}},mounted:function(){ll(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage:function(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage:function(){return!this.message.deleted},onLeaveMessage:function(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover:function(){this.messageHover=!1,this.hoverMessageId=null},openFile:function(t){this.$emit("open-file",{message:this.message,file:t})},openUserTag:function(t){this.$emit("open-user-tag",{user:t})},messageActionHandler:function(t){var r=this;this.resetMessageHover(),setTimeout(function(){r.$emit("message-action-handler",{action:t,message:r.message})},300)},sendMessageReaction:function(t){var r=t.emoji,M=t.reaction;this.$emit("send-message-reaction",{messageId:this.message._id,reaction:r,remove:M&&M.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},selectMessage:function(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},vl={name:"ChatRoom",components:{Loader:T,SvgIcon:Z,RoomHeader:cr,RoomFooter:Zi,RoomMessage:(0,O.Z)(dl,[["render",u0]])},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data:function(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,infiniteState:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[]}},computed:{room:function(){var t=this;return this.rooms.find(function(r){return r.roomId===t.roomId})||{}},showNoMessages:function(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom:function(){var t=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return t&&(this.loadingMessages=!1),t},showMessagesStarted:function(){return this.messages.length&&this.messagesLoaded}},watch:{loadingMessages:function(t){var r=this;t?this.infiniteState=null:(this.infiniteState&&this.infiniteState.loaded(),setTimeout(function(){return r.initIntersectionObserver()}))},roomId:function(){this.onRoomChanged()},messages:{deep:!0,handler:function(t,r){var M=this;t.forEach(function(L,w){M.showNewMessagesDivider&&!L.seen&&L.senderId!==M.currentUserId&&M.newMessages.push({_id:L._id,index:w})}),(r==null?void 0:r.length)===(t==null?void 0:t.length)-1&&(this.newMessages=[]),this.infiniteState&&this.infiniteState.loaded(),setTimeout(function(){return M.loadingMoreMessages=!1})}},messagesLoaded:function(t){t&&(this.loadingMessages=!1),this.infiniteState&&this.infiniteState.complete()}},mounted:function(){this.newMessages=[]},methods:{initIntersectionObserver:function(){var t=this;this.observer&&(this.showLoader=!0,this.observer.disconnect());var r=document.getElementById("infinite-loader-messages");if(r){var M={root:document.getElementById("messages-list"),rootMargin:"".concat(this.scrollDistance,"px"),threshold:0};this.observer=new IntersectionObserver(function(L){L[0].isIntersecting&&t.loadMoreMessages()},M),this.observer.observe(r)}},preventTopScroll:function(){for(var t=this,r=this.$refs.scrollContainer,M=r.scrollHeight,L=new ResizeObserver(function(le){r.scrollHeight!==M&&t.$refs.scrollContainer&&(t.$refs.scrollContainer.scrollTo({top:r.scrollHeight-M}),L.disconnect())}),w=0;w<r.children.length;w++)L.observe(r.children[w])},touchStart:function(t){var r=this;if(!this.singleRoom&&t.changedTouches.length===1){var M=t.changedTouches[0].clientX,L=t.changedTouches[0].clientY;addEventListener("touchend",function(w){return r.touchEnd(w,M,L)},{once:!0})}},touchEnd:function(t,r,M){if(t.changedTouches.length===1){var L=t.changedTouches[0].clientX,w=t.changedTouches[0].clientY,le=L-r>100,he=Math.abs(w-M)>50;le&&!he&&this.$emit("toggle-rooms-list")}},onRoomChanged:function(){var t=this;this.loadingMessages=!0,this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection(),!this.messages.length&&this.messagesLoaded&&(this.loadingMessages=!1);var r=this.$watch(function(){return t.messages},function(M){if(!(!M||!M.length)){var L=t.$refs.scrollContainer;L&&(r(),setTimeout(function(){L.scrollTo({top:L.scrollHeight}),t.loadingMessages=!1}))}})},resetMessageSelection:function(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage:function(t){this.selectedMessages.push(t)},unselectMessage:function(t){this.selectedMessages=this.selectedMessages.filter(function(r){return r._id!==t})},onMessageAdded:function(t){var r=this,M=t.message,L=t.index,w=t.ref;if(L===this.messages.length-1){var le=w.offsetHeight+60;setTimeout(function(){var he=r.getBottomScroll(r.$refs.scrollContainer)>le;M.senderId===r.currentUserId?he?r.autoScroll.send.newAfterScrollUp&&r.scrollToBottom():r.autoScroll.send.new&&r.scrollToBottom():he?r.autoScroll.receive.newAfterScrollUp?r.scrollToBottom():(r.scrollIcon=!0,r.scrollMessagesCount++):r.autoScroll.receive.new?r.scrollToBottom():(r.scrollIcon=!0,r.scrollMessagesCount++)})}},onContainerScroll:function(t){if(t.target){var r=this.getBottomScroll(t.target);r<60&&(this.scrollMessagesCount=0),this.scrollIcon=r>500||this.scrollMessagesCount}},loadMoreMessages:function(){var t=this;this.loadingMessages||setTimeout(function(){if(!t.loadingMoreMessages){if(t.messagesLoaded||!t.roomId){t.loadingMoreMessages=!1,t.showLoader=!1;return}t.preventTopScroll(),t.$emit("fetch-messages"),t.loadingMoreMessages=!0}},500)},messageActionHandler:function(t){var r=t.action,M=t.message;switch(r.name){case"replyMessage":this.initReplyMessage=M;return;case"editMessage":this.initEditMessage=M;return;case"deleteMessage":return this.$emit("delete-message",M);case"selectMessages":this.selectedMessages=[M],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:r,message:M})}},messageSelectionActionHandler:function(t){this.$emit("message-selection-action-handler",{action:t,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction:function(t){this.$emit("send-message-reaction",t)},getBottomScroll:function(t){var r=t.scrollHeight,M=t.clientHeight,L=t.scrollTop;return r-M-L},scrollToBottom:function(){var t=this;setTimeout(function(){var r=t.$refs.scrollContainer;r.classList.add("vac-scroll-smooth"),r.scrollTo({top:r.scrollHeight,behavior:"smooth"}),setTimeout(function(){return r.classList.remove("vac-scroll-smooth")})},50)},openFile:function(t){var r=t.message,M=t.file;this.$emit("open-file",{message:r,file:M})},openUserTag:function(t){this.$emit("open-user-tag",t)}}},fl=(0,O.Z)(vl,[["render",Pe]]);var ml={key:0,class:"vac-media-preview-container"},hl={key:1,class:"vac-media-preview-container"},pl={width:"100%",height:"100%",controls:"",autoplay:""},gl=["src"],yl={class:"vac-svg-button"};function Sl(a,t,r,M,L,w){var le=(0,e.resolveComponent)("svg-icon");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:t[0]||(t[0]=(0,e.withModifiers)(function(){return w.closeModal&&w.closeModal.apply(w,arguments)},["stop"])),onKeydown:t[1]||(t[1]=(0,e.withKeys)(function(){return w.closeModal&&w.closeModal.apply(w,arguments)},["esc"]))},[(0,e.createVNode)(e.Transition,{name:"vac-bounce-preview",appear:""},{default:(0,e.withCtx)(function(){return[w.isImage?((0,e.openBlock)(),(0,e.createElementBlock)("div",ml,[(0,e.createElementVNode)("div",{class:"vac-image-preview",style:(0,e.normalizeStyle)({"background-image":"url('".concat(r.file.url,"')")})},null,4)])):w.isVideo?((0,e.openBlock)(),(0,e.createElementBlock)("div",hl,[(0,e.createElementVNode)("video",pl,[(0,e.createElementVNode)("source",{src:r.file.url},null,8,gl)])])):(0,e.createCommentVNode)("",!0)]}),_:1}),(0,e.createElementVNode)("div",yl,[(0,e.renderSlot)(a.$slots,"preview-close-icon",{},function(){return[(0,e.createVNode)(le,{name:"close-outline",param:"preview"})]})])],544)}var lo=je(8438),bl=lo.isImageFile,El=lo.isVideoFile;const Rl={name:"MediaPreview",components:{SvgIcon:Z},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage:function(){return bl(this.file)},isVideo:function(){return El(this.file)}},mounted:function(){this.$refs.modal.focus()},methods:{closeModal:function(){this.$emit("close-media-preview")}}},xl=(0,O.Z)(Rl,[["render",Sl]]),Tl={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};je(4765);var Al={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},_l=function(t){var r=t.general,M=t.container,L=t.header,w=t.footer,le=t.sidemenu,he=t.content,Re=t.dropdown,ce=t.message,Ae=t.markdown,_e=t.room,Ue=t.emoji,Ie=t.icons;return{"--chat-color":r.color,"--chat-color-button-clear":r.colorButtonClear,"--chat-color-button":r.colorButton,"--chat-bg-color-button":r.backgroundColorButton,"--chat-bg-color-input":r.backgroundInput,"--chat-color-spinner":r.colorSpinner,"--chat-color-placeholder":r.colorPlaceholder,"--chat-color-caret":r.colorCaret,"--chat-border-style":r.borderStyle,"--chat-bg-scroll-icon":r.backgroundScrollIcon,"--chat-container-border":M.border,"--chat-container-border-radius":M.borderRadius,"--chat-container-box-shadow":M.boxShadow,"--chat-header-bg-color":L.background,"--chat-header-color-name":L.colorRoomName,"--chat-header-color-info":L.colorRoomInfo,"--chat-footer-bg-color":w.background,"--chat-border-style-input":w.borderStyleInput,"--chat-border-color-input-selected":w.borderInputSelected,"--chat-footer-bg-color-reply":w.backgroundReply,"--chat-footer-bg-color-tag-active":w.backgroundTagActive,"--chat-footer-bg-color-tag":w.backgroundTag,"--chat-content-bg-color":he.background,"--chat-sidemenu-bg-color":le.background,"--chat-sidemenu-bg-color-hover":le.backgroundHover,"--chat-sidemenu-bg-color-active":le.backgroundActive,"--chat-sidemenu-color-active":le.colorActive,"--chat-sidemenu-border-color-search":le.borderColorSearch,"--chat-dropdown-bg-color":Re.background,"--chat-dropdown-bg-color-hover":Re.backgroundHover,"--chat-message-bg-color":ce.background,"--chat-message-bg-color-me":ce.backgroundMe,"--chat-message-color-started":ce.colorStarted,"--chat-message-bg-color-deleted":ce.backgroundDeleted,"--chat-message-bg-color-selected":ce.backgroundSelected,"--chat-message-color-deleted":ce.colorDeleted,"--chat-message-color-username":ce.colorUsername,"--chat-message-color-timestamp":ce.colorTimestamp,"--chat-message-bg-color-date":ce.backgroundDate,"--chat-message-color-date":ce.colorDate,"--chat-message-bg-color-system":ce.backgroundSystem,"--chat-message-color-system":ce.colorSystem,"--chat-message-color":ce.color,"--chat-message-bg-color-media":ce.backgroundMedia,"--chat-message-bg-color-reply":ce.backgroundReply,"--chat-message-color-reply-username":ce.colorReplyUsername,"--chat-message-color-reply-content":ce.colorReply,"--chat-message-color-tag":ce.colorTag,"--chat-message-bg-color-image":ce.backgroundImage,"--chat-message-color-new-messages":ce.colorNewMessages,"--chat-message-bg-color-scroll-counter":ce.backgroundScrollCounter,"--chat-message-color-scroll-counter":ce.colorScrollCounter,"--chat-message-bg-color-reaction":ce.backgroundReaction,"--chat-message-border-style-reaction":ce.borderStyleReaction,"--chat-message-bg-color-reaction-hover":ce.backgroundReactionHover,"--chat-message-border-style-reaction-hover":ce.borderStyleReactionHover,"--chat-message-color-reaction-counter":ce.colorReactionCounter,"--chat-message-bg-color-reaction-me":ce.backgroundReactionMe,"--chat-message-border-style-reaction-me":ce.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":ce.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":ce.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":ce.colorReactionCounterMe,"--chat-message-bg-color-audio-record":ce.backgroundAudioRecord,"--chat-message-bg-color-audio-line":ce.backgroundAudioLine,"--chat-message-bg-color-audio-progress":ce.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":ce.backgroundAudioProgressSelector,"--chat-message-color-file-extension":ce.colorFileExtension,"--chat-markdown-bg":Ae.background,"--chat-markdown-border":Ae.border,"--chat-markdown-color":Ae.color,"--chat-markdown-color-multi":Ae.colorMulti,"--chat-room-color-username":_e.colorUsername,"--chat-room-color-message":_e.colorMessage,"--chat-room-color-timestamp":_e.colorTimestamp,"--chat-room-color-online":_e.colorStateOnline,"--chat-room-color-offline":_e.colorStateOffline,"--chat-room-bg-color-badge":_e.backgroundCounterBadge,"--chat-room-color-badge":_e.colorCounterBadge,"--chat-emoji-bg-color":Ue.background,"--chat-icon-color-search":Ie.search,"--chat-icon-color-add":Ie.add,"--chat-icon-color-toggle":Ie.toggle,"--chat-icon-color-menu":Ie.menu,"--chat-icon-color-close":Ie.close,"--chat-icon-color-close-image":Ie.closeImage,"--chat-icon-color-file":Ie.file,"--chat-icon-color-paperclip":Ie.paperclip,"--chat-icon-color-close-outline":Ie.closeOutline,"--chat-icon-color-close-preview":Ie.closePreview,"--chat-icon-color-send":Ie.send,"--chat-icon-color-send-disabled":Ie.sendDisabled,"--chat-icon-color-emoji":Ie.emoji,"--chat-icon-color-emoji-reaction":Ie.emojiReaction,"--chat-icon-color-document":Ie.document,"--chat-icon-color-pencil":Ie.pencil,"--chat-icon-color-checkmark":Ie.checkmark,"--chat-icon-color-checkmark-seen":Ie.checkmarkSeen,"--chat-icon-color-eye":Ie.eye,"--chat-icon-color-dropdown-message":Ie.dropdownMessage,"--chat-icon-bg-dropdown-message":Ie.dropdownMessageBackground,"--chat-icon-color-dropdown-room":Ie.dropdownRoom,"--chat-icon-color-dropdown-scroll":Ie.dropdownScroll,"--chat-icon-color-microphone":Ie.microphone,"--chat-icon-color-audio-play":Ie.audioPlay,"--chat-icon-color-audio-pause":Ie.audioPause,"--chat-icon-color-audio-cancel":Ie.audioCancel,"--chat-icon-color-audio-confirm":Ie.audioConfirm}},uo=je(9706),Ml=uo.roomsValidation,Il=uo.partcipantsValidation;const Ol={name:"ChatContainer",components:{RoomsList:xe,Room:fl,MediaPreview:xl},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:Object,default:function(){return{}}},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:Boolean,default:!1},roomsListOpened:{type:Boolean,default:!0},textMessages:{type:Object,default:null},currentUserId:{type:[String,Number],default:""},rooms:{type:Array,default:function(){return[]}},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:Boolean,default:!1},roomsLoaded:{type:Boolean,default:!1},roomId:{type:[String,Number],default:null},loadFirstRoom:{type:Boolean,default:!0},messages:{type:Array,default:function(){return[]}},messagesLoaded:{type:Boolean,default:!1},roomActions:{type:Array,default:function(){return[]}},menuActions:{type:Array,default:function(){return[]}},messageActions:{type:Array,default:function(){return[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]}},messageSelectionActions:{type:Array,default:function(){return[]}},autoScroll:{type:Object,default:function(){return{send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}}}},showSearch:{type:Boolean,default:!0},showAddRoom:{type:Boolean,default:!0},showSendIcon:{type:Boolean,default:!0},showFiles:{type:Boolean,default:!0},showAudio:{type:Boolean,default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:Boolean,default:!0},showReactionEmojis:{type:Boolean,default:!0},showNewMessagesDivider:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},textFormatting:{type:Object,default:function(){return{disabled:!1,italic:"_",bold:"*",strike:"~",underline:"°",multilineCode:"```",inlineCode:"`"}}},linkOptions:{type:Object,default:function(){return{disabled:!1,target:"_blank",rel:null}}},roomInfoEnabled:{type:Boolean,default:!1},textareaActionEnabled:{type:Boolean,default:!1},textareaAutoFocus:{type:Boolean,default:!0},userTagsEnabled:{type:Boolean,default:!0},emojisSuggestionEnabled:{type:Boolean,default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},templatesText:{type:Array,default:null},mediaPreviewEnabled:{type:Boolean,default:!0},usernameOptions:{type:Object,default:function(){return{minUsers:3,currentUser:!1}}}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","room-action-handler","message-selection-action-handler"],data:function(){return{room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t:function(){return m(m({},Tl),this.textMessages)},cssVars:function(){var t=this,r=Al[this.theme],M={};return Object.keys(r).map(function(L){M[L]=m(m({},r[L]),t.styles[L]||{})}),_l(M)},orderedRooms:function(){var t=this;return this.rooms.slice().sort(function(r,M){var L=r.index||0,w=M.index||0;return t.roomsOrder==="asc"?L<w?-1:w<L?1:0:L>w?-1:w>L?1:0})}},watch:{rooms:{immediate:!0,deep:!0,handler:function(t,r){var M=this;if((!t[0]||!t.find(function(w){return w.roomId===M.room.roomId}))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoom&&t[0]&&(!r||t.length!==r.length))if(this.roomId){var L=t.find(function(w){return w.roomId===M.roomId})||{};this.fetchRoom({room:L})}else!this.isMobile||this.singleRoom?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRooms:function(t){t&&(this.room={})},roomId:{immediate:!0,handler:function(t,r){if(t&&!this.loadingRooms&&this.rooms.length){var M=this.rooms.find(function(L){return L.roomId===t});this.fetchRoom({room:M})}else r&&!t&&(this.room={})}},room:function(t){!t||Object.entries(t).length===0||(Ml(t),t.users.forEach(function(r){Il(r)}))},roomsListOpened:function(t){this.showRoomsList=t}},created:function(){var t=this;this.updateResponsive(),window.addEventListener("resize",function(r){r.isTrusted&&t.updateResponsive()})},methods:{updateResponsive:function(){this.isMobile=window.innerWidth<this.responsiveBreakpoint},toggleRoomsList:function(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom:function(t){var r=t.room;this.room=r,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms:function(){this.$emit("fetch-more-rooms")},roomInfo:function(){this.$emit("room-info",this.room)},addRoom:function(){this.$emit("add-room")},fetchMessages:function(t){this.$emit("fetch-messages",{room:this.room,options:t})},sendMessage:function(t){this.$emit("send-message",m(m({},t),{},{roomId:this.room.roomId}))},editMessage:function(t){this.$emit("edit-message",m(m({},t),{},{roomId:this.room.roomId}))},deleteMessage:function(t){this.$emit("delete-message",{message:t,roomId:this.room.roomId})},openFile:function(t){var r=t.message,M=t.file;this.mediaPreviewEnabled&&M.action==="preview"?(this.previewFile=M.file,this.showMediaPreview=!0):this.$emit("open-file",{message:r,file:M})},openUserTag:function(t){var r=t.user;this.$emit("open-user-tag",{user:r})},openFailedMessage:function(t){var r=t.message;this.$emit("open-failed-message",{message:r,roomId:this.room.roomId})},menuActionHandler:function(t){this.$emit("menu-action-handler",{action:t,roomId:this.room.roomId})},roomActionHandler:function(t){var r=t.action,M=t.roomId;this.$emit("room-action-handler",{action:r,roomId:M})},messageActionHandler:function(t){this.$emit("message-action-handler",m(m({},t),{},{roomId:this.room.roomId}))},messageSelectionActionHandler:function(t){this.$emit("message-selection-action-handler",m(m({},t),{},{roomId:this.room.roomId}))},sendMessageReaction:function(t){this.$emit("send-message-reaction",m(m({},t),{},{roomId:this.room.roomId}))},typingMessage:function(t){this.$emit("typing-message",{message:t,roomId:this.room.roomId})},textareaActionHandler:function(t){this.$emit("textarea-action-handler",{message:t,roomId:this.room.roomId})}}},ia=(0,O.Z)(Ol,[["render",s]]);Object.defineProperty(ia,"install",{configurable:!1,enumerable:!1,value:function(t){t.component("ChatWindow",ia)}});const wl=ia})(),xn.exports=ln})()})(m1);const p1=c1(la);const z1=vo({__name:"club",setup(xn){const Hn=Kr("1234"),Xr=Kr([]),je=Kr(!0),ln=Kr(!1),p=()=>{setTimeout(async()=>{const o=await(await fetch("https://mock.apifox.cn/m1/2414200-0-default/rooms")).json(),m=[...Xr.value,...o];Xr.value=m,je.value=!1})};fo(async()=>{p()});const x=Kr(!1),e=Kr([]),n=()=>{x.value=!1,setTimeout(async()=>{const o=await(await fetch("https://mock.apifox.cn/m1/2414200-0-default/rooms/{id}/message")).json(),m=[...e.value,...o];e.value=m,x.value=!0})},s=async({roomId:i,content:o})=>{console.log(i);const m=new Date,u={_id:"99",content:o,senderId:"1234",avatar:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",date:`${m.getFullYear()}-${m.getMonth()+1}-${m.getDate()}`,timestamp:`${m.toLocaleTimeString()}`},d=[...e.value,u];e.value=d};return(i,o)=>(mo(),co(kr(p1),{height:"100%","current-user-id":kr(Hn),"load-first-room":!1,"loading-rooms":kr(je),rooms:kr(Xr),"rooms-loaded":kr(ln),messages:kr(e),onFetchMoreRooms:p,"messages-loaded":kr(x),"message-actions":[],"show-audio":!1,"show-files":!1,"show-reaction-emojis":!1,"accepted-files":"image/*",onFetchMessages:n,onSendMessage:s},null,8,["current-user-id","loading-rooms","rooms","rooms-loaded","messages","messages-loaded"]))}});export{z1 as default};
